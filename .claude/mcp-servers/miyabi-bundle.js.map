{
  "version": 3,
  "sources": ["../../src/mcp/miyabi-bundle/index.ts", "../../src/mcp/miyabi-bundle/handlers/society-health.ts", "../../src/mcp/miyabi-bundle/handlers/metrics.ts", "../../src/mcp/miyabi-bundle/handlers/bridge.ts", "../../src/mcp/miyabi-bundle/handlers/context.ts"],
  "sourcesContent": ["#!/usr/bin/env node\n/**\n * Miyabi MCP Bundle - All-in-One Monitoring and Control Server\n *\n * A comprehensive MCP server with 172 tools across 21 categories:\n * - Git Inspector (19 tools)\n * - Tmux Monitor (10 tools)\n * - Log Aggregator (7 tools)\n * - Resource Monitor (10 tools)\n * - Network Inspector (15 tools)\n * - Process Inspector (14 tools)\n * - File Watcher (10 tools)\n * - Claude Code Monitor (8 tools)\n * - GitHub Integration (21 tools)\n * - Linux systemd (3 tools)\n * - Windows (2 tools)\n * - Docker (10 tools)\n * - Docker Compose (4 tools)\n * - Kubernetes (6 tools)\n * - Spec-Kit (9 tools) - Spec-Driven Development\n * - MCP Tool Discovery (3 tools) - Search and discover tools\n * - Database Foundation (6 tools) - SQLite/PostgreSQL/MySQL\n * - Time Tools (4 tools) - Timezone, formatting, diff\n * - Calculator Tools (3 tools) - Math, units, statistics\n * - Sequential Thinking (3 tools) - Structured reasoning\n * - Generator Tools (4 tools) - UUID, random, hash, password\n * + System Health (1 tool)\n *\n * @version 3.6.0\n * @author Shunsuke Hayashi\n * @license MIT\n */\n\nimport { Server } from '@modelcontextprotocol/sdk/server/index.js';\nimport { StdioServerTransport } from '@modelcontextprotocol/sdk/server/stdio.js';\nimport {\n  CallToolRequestSchema,\n  ListToolsRequestSchema,\n  ListResourcesRequestSchema,\n  ReadResourceRequestSchema,\n  ListPromptsRequestSchema,\n  GetPromptRequestSchema,\n  Tool,\n  Resource,\n  Prompt\n} from '@modelcontextprotocol/sdk/types.js';\nimport { simpleGit, SimpleGit } from 'simple-git';\nimport { Octokit } from '@octokit/rest';\nimport * as si from 'systeminformation';\nimport { glob } from 'glob';\nimport { readFile, readdir, stat } from 'fs/promises';\nimport { realpathSync, existsSync } from 'fs';\nimport { join, resolve } from 'path';\nimport { homedir, platform } from 'os';\nimport { exec } from 'child_process';\nimport { promisify } from 'util';\nimport { createHash } from 'crypto';\nimport * as dns from 'dns';\n// Society Health Check Pro (Issue #16)\nimport { handleSocietyHealthAll, handleSocietyHealthSingle, handleSocietyAgentStatus, handleSocietyMcpStatus, handleSocietyMetricsSummary } from './handlers/society-health.js';\n// Metrics, Bridge, Context (Issues #17, #18, #13)\nimport { handleMetricsCollect, handleMetricsAggregate, handleMetricsQuery, handleMetricsExport, handleMetricsDashboard } from './handlers/metrics.js';\nimport { handleBridgeSend, handleBridgeReceive, handleBridgeContextShare, handleBridgeContextGet, handleBridgeQueueStatus, handleBridgeHistory } from './handlers/bridge.js';\nimport { handleContextStore, handleContextGet, handleContextList, handleContextExpire, handleContextShare, handleContextSearch } from './handlers/context.js';\n\nconst execAsync = promisify(exec);\nconst dnsLookup = promisify(dns.lookup);\nconst dnsResolve4 = promisify(dns.resolve4);\nconst dnsResolve6 = promisify(dns.resolve6);\n\n// ========== Security Helpers ==========\n\n// Input size limits to prevent DoS attacks\nconst MAX_QUERY_LENGTH = 1000;\nconst MAX_PATH_LENGTH = 4096;\nconst MAX_HOSTNAME_LENGTH = 253;\n\n/**\n * Validate input string length\n */\nfunction validateInputLength(value: string, maxLength: number, fieldName: string): string | null {\n  if (value && value.length > maxLength) {\n    return `${fieldName} exceeds maximum length of ${maxLength} characters`;\n  }\n  return null;\n}\n\n/**\n * Sanitize shell argument to prevent command injection\n */\nfunction sanitizeShellArg(arg: string): string {\n  if (!arg) return '';\n  return arg.replace(/[;&|`$(){}[\\]<>\\\\!#*?~\\n\\r]/g, '');\n}\n\n/**\n * Validate and sanitize path to prevent traversal and symlink attacks\n */\nfunction sanitizePath(basePath: string, userPath: string): string {\n  const resolved = resolve(basePath, userPath);\n  const normalizedBase = resolve(basePath);\n  if (!resolved.startsWith(normalizedBase)) {\n    throw new Error('Path traversal detected');\n  }\n  // Symlink attack protection: resolve real path if file exists\n  if (existsSync(resolved)) {\n    const realPath = realpathSync(resolved);\n    if (!realPath.startsWith(normalizedBase)) {\n      throw new Error('Symlink traversal detected');\n    }\n    return realPath;\n  }\n  return resolved;\n}\n\n/**\n * Check if command exists on the system\n */\nasync function commandExists(cmd: string): Promise<boolean> {\n  try {\n    const which = platform() === 'win32' ? 'where' : 'which';\n    await execAsync(`${which} ${sanitizeShellArg(cmd)}`);\n    return true;\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Validate hostname format\n */\nfunction isValidHostname(hostname: string): boolean {\n  if (!hostname || hostname.length > 253) return false;\n  return /^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(hostname);\n}\n\n/**\n * Validate PID\n */\nfunction isValidPid(pid: unknown): pid is number {\n  return typeof pid === 'number' && Number.isInteger(pid) && pid > 0 && pid < 4194304;\n}\n\n// ========== Caching System ==========\ninterface CacheEntry<T> {\n  data: T;\n  timestamp: number;\n  ttl: number;\n}\n\nclass SimpleCache {\n  private cache = new Map<string, CacheEntry<unknown>>();\n\n  get<T>(key: string): T | null {\n    const entry = this.cache.get(key);\n    if (!entry) return null;\n    if (Date.now() - entry.timestamp > entry.ttl) {\n      this.cache.delete(key);\n      return null;\n    }\n    return entry.data as T;\n  }\n\n  set<T>(key: string, data: T, ttlMs: number = 5000): void {\n    this.cache.set(key, { data, timestamp: Date.now(), ttl: ttlMs });\n  }\n\n  clear(): void {\n    this.cache.clear();\n  }\n}\n\nconst cache = new SimpleCache();\n\n// ========== Environment Configuration ==========\nconst MIYABI_REPO_PATH = process.env.MIYABI_REPO_PATH || process.cwd();\nconst MIYABI_LOG_DIR = process.env.MIYABI_LOG_DIR || MIYABI_REPO_PATH;\nconst MIYABI_WATCH_DIR = process.env.MIYABI_WATCH_DIR || MIYABI_REPO_PATH;\n\nconst CLAUDE_CONFIG_DIR = platform() === 'darwin'\n  ? join(homedir(), 'Library/Application Support/Claude')\n  : platform() === 'win32'\n    ? join(process.env.APPDATA || '', 'Claude')\n    : join(homedir(), '.config/claude');\n\nconst CLAUDE_CONFIG_FILE = join(CLAUDE_CONFIG_DIR, 'claude_desktop_config.json');\nconst CLAUDE_LOGS_DIR = platform() === 'darwin'\n  ? join(homedir(), 'Library/Logs/Claude')\n  : join(CLAUDE_CONFIG_DIR, 'logs');\n\nconst GITHUB_TOKEN = process.env.GITHUB_TOKEN || '';\nconst GITHUB_DEFAULT_OWNER = process.env.GITHUB_DEFAULT_OWNER || '';\nconst GITHUB_DEFAULT_REPO = process.env.GITHUB_DEFAULT_REPO || '';\n\n// ========== Initialize Clients ==========\nconst git: SimpleGit = simpleGit(MIYABI_REPO_PATH);\nconst octokit = GITHUB_TOKEN ? new Octokit({ auth: GITHUB_TOKEN }) : null;\n\n// ========== Tool Definitions ==========\nconst tools: Tool[] = [\n  // === Git Inspector (19 tools) ===\n  { name: 'miyabi_bundle__git_status', description: 'Get working tree status showing modified, staged, and untracked files. Use before committing to review changes.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_branch_list', description: 'List all local and remote branches with tracking info. Shows which branches are ahead/behind remotes.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_current_branch', description: 'Get the name of the currently checked out branch. Useful for automation scripts.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_log', description: 'Get commit history with author, date, and message. Use limit to control results (default: 20).', inputSchema: { type: 'object', properties: { limit: { type: 'number', description: 'Number of commits (default: 20)' } } } },\n  { name: 'miyabi_bundle__git_worktree_list', description: 'List all git worktrees for parallel development. Shows path and branch for each worktree.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_diff', description: 'Show unstaged changes in working directory. Optionally specify a file to see changes for only that file.', inputSchema: { type: 'object', properties: { file: { type: 'string', description: 'Specific file to diff' } } } },\n  { name: 'miyabi_bundle__git_staged_diff', description: 'Show changes staged for commit (git diff --cached). Review before committing.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_remote_list', description: 'List configured remotes with their fetch/push URLs. Check remote configuration.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_branch_ahead_behind', description: 'Check how many commits a branch is ahead/behind its upstream. Useful before push/pull.', inputSchema: { type: 'object', properties: { branch: { type: 'string', description: 'Branch name (default: current branch)' } } } },\n  { name: 'miyabi_bundle__git_file_history', description: 'Get commit history for a specific file. Track when and why a file was modified (default: 10 commits).', inputSchema: { type: 'object', properties: { file: { type: 'string', description: 'File path to get history for' }, limit: { type: 'number', description: 'Number of commits (default: 10)' } }, required: ['file'] } },\n  { name: 'miyabi_bundle__git_stash_list', description: 'List all stashed changes with their descriptions. Find saved work to restore later.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_blame', description: 'Show who last modified each line of a file. Optional line range to focus on specific code.', inputSchema: { type: 'object', properties: { file: { type: 'string', description: 'File path to get blame for' }, startLine: { type: 'number', description: 'Starting line number (1-indexed)' }, endLine: { type: 'number', description: 'Ending line number (1-indexed)' } }, required: ['file'] } },\n  { name: 'miyabi_bundle__git_show', description: 'Show details of a commit including diff and metadata. Defaults to HEAD if no commit specified.', inputSchema: { type: 'object', properties: { commit: { type: 'string', description: 'Commit hash (default: HEAD)' } } } },\n  { name: 'miyabi_bundle__git_tag_list', description: 'List all tags with their associated commits. Useful for finding release versions.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_contributors', description: 'List contributors ranked by commit count. Identify active maintainers and authors.', inputSchema: { type: 'object', properties: { limit: { type: 'number', description: 'Max contributors to return' } } } },\n  { name: 'miyabi_bundle__git_conflicts', description: 'Detect files with merge conflicts in working tree. Use during merge/rebase to find issues.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_submodule_status', description: 'Show status of all submodules including commit hash and sync state.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_lfs_status', description: 'Get Git LFS tracked files and status. Requires git-lfs to be installed.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__git_hooks_list', description: 'List git hooks in .git/hooks directory. Check which hooks are enabled.', inputSchema: { type: 'object', properties: {} } },\n\n  // === Tmux Monitor (10 tools) ===\n  { name: 'miyabi_bundle__tmux_list_sessions', description: 'List all tmux sessions with window count and status. Discover active terminal sessions.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__tmux_list_windows', description: 'List windows in a tmux session. Shows window index, name, and active status.', inputSchema: { type: 'object', properties: { session: { type: 'string', description: 'Session name (optional, lists all if omitted)' } } } },\n  { name: 'miyabi_bundle__tmux_list_panes', description: 'List panes in tmux windows with their dimensions and commands.', inputSchema: { type: 'object', properties: { session: { type: 'string', description: 'Session name (optional)' } } } },\n  { name: 'miyabi_bundle__tmux_send_keys', description: 'Send keystrokes or text to a tmux pane. Use for automation or remote commands.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane (e.g., session:window.pane or %id)' }, keys: { type: 'string', description: 'Keys/text to send' } }, required: ['target', 'keys'] } },\n  { name: 'miyabi_bundle__tmux_pane_capture', description: 'Capture terminal output from a pane. Get scrollback history for debugging.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane (e.g., session:window.pane or %id)' }, lines: { type: 'number', description: 'Number of lines to capture (default: all)' } } } },\n  { name: 'miyabi_bundle__tmux_pane_search', description: 'Search pane content for a pattern. Find specific output in terminal history.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane (optional)' }, pattern: { type: 'string', description: 'Search pattern (substring match)' } }, required: ['pattern'] } },\n  { name: 'miyabi_bundle__tmux_pane_tail', description: 'Get last N lines from pane output. Monitor recent command results.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane' }, lines: { type: 'number', description: 'Number of lines to retrieve' } } } },\n  { name: 'miyabi_bundle__tmux_pane_is_busy', description: 'Check if a pane is running a command. Useful for waiting on long operations.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane' } } } },\n  { name: 'miyabi_bundle__tmux_pane_current_command', description: 'Get the command currently running in a pane. Identify active processes.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Target pane' } } } },\n  { name: 'miyabi_bundle__tmux_session_info', description: 'Get detailed tmux session info including creation time and attached clients.', inputSchema: { type: 'object', properties: { session: { type: 'string', description: 'Session name' } }, required: ['session'] } },\n\n  // === Log Aggregator (7 tools) ===\n  { name: 'miyabi_bundle__log_sources', description: 'List available log files in configured directory. Discover logs to analyze.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__log_get_recent', description: 'Get recent log entries with optional filtering by source and time window.', inputSchema: { type: 'object', properties: { source: { type: 'string', description: 'Log source name (partial match)' }, limit: { type: 'number', description: 'Max entries to return' }, minutes: { type: 'number', description: 'Only logs from last N minutes' } } } },\n  { name: 'miyabi_bundle__log_search', description: 'Search logs for a pattern (case-insensitive). Find specific events or errors.', inputSchema: { type: 'object', properties: { query: { type: 'string', description: 'Search query (case-insensitive)' }, source: { type: 'string', description: 'Filter by log source' } }, required: ['query'] } },\n  { name: 'miyabi_bundle__log_get_errors', description: 'Get error-level log entries. Quick way to find issues and exceptions.', inputSchema: { type: 'object', properties: { minutes: { type: 'number', description: 'Only errors from last N minutes' } } } },\n  { name: 'miyabi_bundle__log_get_warnings', description: 'Get warning-level log entries. Find potential issues before they become errors.', inputSchema: { type: 'object', properties: { minutes: { type: 'number', description: 'Only warnings from last N minutes' } } } },\n  { name: 'miyabi_bundle__log_tail', description: 'Get last N lines from a log file. Monitor recent activity in real-time.', inputSchema: { type: 'object', properties: { source: { type: 'string', description: 'Log source name' }, lines: { type: 'number', description: 'Number of lines to retrieve' } }, required: ['source'] } },\n  { name: 'miyabi_bundle__log_stats', description: 'Get log file statistics including size, line count, and error frequency.', inputSchema: { type: 'object', properties: {} } },\n\n  // === Resource Monitor (10 tools) ===\n  { name: 'miyabi_bundle__resource_cpu', description: 'Get CPU usage percentage (overall and per-core). Monitor system performance.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_memory', description: 'Get RAM and swap memory usage. Check available memory and identify leaks.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_disk', description: 'Get disk space usage for mounted filesystems. Monitor storage capacity.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Specific mount point to check' } } } },\n  { name: 'miyabi_bundle__resource_load', description: 'Get system load average (1, 5, 15 min). Assess system stress over time.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_overview', description: 'Get comprehensive system overview: CPU, memory, disk, and top processes.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_processes', description: 'Get top processes sorted by CPU or memory usage. Find resource hogs (default: 10).', inputSchema: { type: 'object', properties: { sort: { type: 'string', enum: ['cpu', 'memory'], description: 'Sort by cpu or memory' }, limit: { type: 'number', description: 'Max processes to return (default: 10)' } } } },\n  { name: 'miyabi_bundle__resource_uptime', description: 'Get system uptime and boot timestamp. Check how long system has been running.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_network_stats', description: 'Get network interface traffic statistics (RX/TX bytes, packets, errors).', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_battery', description: 'Get laptop battery status, charge level, and time remaining.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__resource_temperature', description: 'Get CPU and system temperatures. Monitor for thermal throttling.', inputSchema: { type: 'object', properties: {} } },\n\n  // === Network Inspector (15 tools) ===\n  { name: 'miyabi_bundle__network_interfaces', description: 'List network interfaces with IP addresses, MAC, and status. Check connectivity.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_connections', description: 'List active TCP/UDP connections with remote endpoints. Debug network issues.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_listening_ports', description: 'List ports your services are listening on. Find port conflicts.', inputSchema: { type: 'object', properties: { protocol: { type: 'string', enum: ['tcp', 'udp', 'all'], description: 'Filter by protocol (default: all)' } } } },\n  { name: 'miyabi_bundle__network_stats', description: 'Get network I/O statistics: bytes, packets, errors, and drops per interface.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_gateway', description: 'Get default gateway IP and interface. Verify internet routing.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_ping', description: 'Ping a host to check connectivity and measure latency (default: 4 pings).', inputSchema: { type: 'object', properties: { host: { type: 'string', description: 'Hostname or IP address' }, count: { type: 'number', description: 'Number of pings (default: 4)' } }, required: ['host'] } },\n  { name: 'miyabi_bundle__network_bandwidth', description: 'Get current network bandwidth usage in bytes/sec per interface.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_overview', description: 'Get complete network overview: interfaces, connections, ports, and gateway.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_dns_lookup', description: 'Resolve hostname to IP addresses (IPv4 and IPv6). Debug DNS issues.', inputSchema: { type: 'object', properties: { hostname: { type: 'string', description: 'Hostname to resolve' } }, required: ['hostname'] } },\n  { name: 'miyabi_bundle__network_port_check', description: 'Check if a TCP port is open on a remote host. Test service availability.', inputSchema: { type: 'object', properties: { host: { type: 'string', description: 'Target host' }, port: { type: 'number', description: 'Port number to check' } }, required: ['host', 'port'] } },\n  { name: 'miyabi_bundle__network_public_ip', description: 'Get your public IP address as seen from the internet.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_wifi_info', description: 'Get WiFi connection details: SSID, signal strength, channel (macOS/Linux).', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_route_table', description: 'Show IP routing table. Debug traffic routing and network paths.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__network_ssl_check', description: 'Check SSL/TLS certificate: expiry, issuer, validity. Monitor cert health.', inputSchema: { type: 'object', properties: { host: { type: 'string', description: 'Hostname to check' }, port: { type: 'number', description: 'Port (default: 443)' } }, required: ['host'] } },\n  { name: 'miyabi_bundle__network_traceroute', description: 'Trace network path to a host. Diagnose routing and latency issues.', inputSchema: { type: 'object', properties: { host: { type: 'string', description: 'Target host' }, maxHops: { type: 'number', description: 'Max hops (default: 30)' } }, required: ['host'] } },\n\n  // === Process Inspector (14 tools) ===\n  { name: 'miyabi_bundle__process_info', description: 'Get detailed info about a process by PID: CPU, memory, command, and status.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_list', description: 'List running processes with CPU/memory usage. Sort by cpu, memory, pid, or name.', inputSchema: { type: 'object', properties: { sort: { type: 'string', description: 'Sort by: cpu, memory, pid, name' }, limit: { type: 'number', description: 'Max processes to return' } } } },\n  { name: 'miyabi_bundle__process_search', description: 'Find processes by name or command line. Locate running services or apps.', inputSchema: { type: 'object', properties: { query: { type: 'string', description: 'Search query (name or command)' } }, required: ['query'] } },\n  { name: 'miyabi_bundle__process_tree', description: 'Get process hierarchy showing parent-child relationships. Understand process spawning.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__process_file_descriptors', description: 'List open files and sockets for a process. Debug file handle leaks (requires lsof).', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_environment', description: 'Get environment variables for a running process. Debug configuration issues.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_children', description: 'List child processes of a parent PID. Track spawned subprocesses.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Parent process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_top', description: 'Get top N processes by resource usage (default: 10). Quick system overview.', inputSchema: { type: 'object', properties: { limit: { type: 'number', description: 'Number of top processes (default: 10)' } } } },\n  { name: 'miyabi_bundle__process_kill', description: 'Terminate a process by PID. Requires confirm=true for safety. Default signal: SIGTERM.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID to kill' }, signal: { type: 'string', enum: ['SIGTERM', 'SIGKILL', 'SIGINT'], description: 'Signal to send (default: SIGTERM)' }, confirm: { type: 'boolean', description: 'Must be true to confirm kill' } }, required: ['pid', 'confirm'] } },\n  { name: 'miyabi_bundle__process_ports', description: 'List network ports used by a process. Find what ports an app is listening on.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_cpu_history', description: 'Get CPU usage trend for a process. Monitor performance over time.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_memory_detail', description: 'Get detailed memory breakdown: RSS, virtual, shared. Debug memory issues.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_threads', description: 'List threads within a process. Analyze multi-threaded applications.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n  { name: 'miyabi_bundle__process_io_stats', description: 'Get disk I/O statistics for a process (Linux only). Diagnose I/O bottlenecks.', inputSchema: { type: 'object', properties: { pid: { type: 'number', description: 'Process ID' } }, required: ['pid'] } },\n\n  // === File Watcher (10 tools) ===\n  { name: 'miyabi_bundle__file_stats', description: 'Get file metadata: size, permissions, modified time. Check file properties.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'File or directory path' } }, required: ['path'] } },\n  { name: 'miyabi_bundle__file_recent_changes', description: 'Find recently modified files. Track what changed in a time window.', inputSchema: { type: 'object', properties: { directory: { type: 'string', description: 'Directory to search' }, minutes: { type: 'number', description: 'Only files changed in last N minutes' }, limit: { type: 'number', description: 'Max files to return' }, pattern: { type: 'string', description: 'Glob pattern to filter (e.g., *.ts)' } } } },\n  { name: 'miyabi_bundle__file_search', description: 'Find files matching glob pattern (e.g., **/*.json). Recursive by default.', inputSchema: { type: 'object', properties: { pattern: { type: 'string', description: 'Glob pattern (e.g., **/*.json)' }, directory: { type: 'string', description: 'Directory to search in' } }, required: ['pattern'] } },\n  { name: 'miyabi_bundle__file_tree', description: 'Generate directory tree structure. Visualize folder hierarchy (default depth: 3).', inputSchema: { type: 'object', properties: { directory: { type: 'string', description: 'Root directory' }, depth: { type: 'number', description: 'Max depth (default: 3)' } } } },\n  { name: 'miyabi_bundle__file_compare', description: 'Compare two files: size, timestamps, and content hash. Detect differences.', inputSchema: { type: 'object', properties: { path1: { type: 'string', description: 'First file path' }, path2: { type: 'string', description: 'Second file path' } }, required: ['path1', 'path2'] } },\n  { name: 'miyabi_bundle__file_changes_since', description: 'List files modified after a timestamp. Track changes since a point in time.', inputSchema: { type: 'object', properties: { since: { type: 'string', description: 'ISO timestamp (e.g., 2025-01-01T00:00:00Z)' }, directory: { type: 'string', description: 'Directory to search' }, pattern: { type: 'string', description: 'Glob pattern to filter' } }, required: ['since'] } },\n  { name: 'miyabi_bundle__file_read', description: 'Read text file contents safely (max 100KB). Use maxLines to limit output.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'File path to read' }, encoding: { type: 'string', description: 'Encoding (default: utf-8)' }, maxLines: { type: 'number', description: 'Max lines to read' } }, required: ['path'] } },\n  { name: 'miyabi_bundle__file_checksum', description: 'Calculate file hash (MD5, SHA256, SHA512). Verify file integrity.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'File path' }, algorithm: { type: 'string', enum: ['md5', 'sha256', 'sha512'], description: 'Hash algorithm (default: sha256)' } }, required: ['path'] } },\n  { name: 'miyabi_bundle__file_size_summary', description: 'Analyze directory size with breakdown by subdirectory. Find space usage.', inputSchema: { type: 'object', properties: { directory: { type: 'string', description: 'Directory to analyze' } } } },\n  { name: 'miyabi_bundle__file_duplicates', description: 'Find duplicate files by content hash. Clean up redundant files.', inputSchema: { type: 'object', properties: { directory: { type: 'string', description: 'Directory to search' }, pattern: { type: 'string', description: 'Glob pattern to filter' } } } },\n\n  // === Claude Code Monitor (8 tools) ===\n  { name: 'miyabi_bundle__claude_config', description: 'Get Claude Desktop configuration including MCP servers and settings.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__claude_mcp_status', description: 'Check MCP server connection status. Verify servers are running.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__claude_session_info', description: 'Get Claude Code session details: processes, CPU, and memory usage.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__claude_logs', description: 'Get recent Claude Code logs. Debug issues (default: 50 lines).', inputSchema: { type: 'object', properties: { lines: { type: 'number', description: 'Number of lines (default: 50)' } } } },\n  { name: 'miyabi_bundle__claude_log_search', description: 'Search Claude logs for specific patterns. Find errors or events.', inputSchema: { type: 'object', properties: { query: { type: 'string', description: 'Search query' } }, required: ['query'] } },\n  { name: 'miyabi_bundle__claude_log_files', description: 'List all Claude Code log files with sizes and dates.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__claude_background_shells', description: 'List background shell processes started by Claude Code.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__claude_status', description: 'Get complete Claude status: config, MCP servers, session, and recent logs.', inputSchema: { type: 'object', properties: {} } },\n\n  // === GitHub Integration (21 tools) ===\n  { name: 'miyabi_bundle__github_list_issues', description: 'List repository issues with filters. Filter by state, labels, or assignee (default: open).', inputSchema: { type: 'object', properties: { state: { type: 'string', enum: ['open', 'closed', 'all'], description: 'Issue state filter (default: open)' }, labels: { type: 'string', description: 'Comma-separated label names to filter' }, per_page: { type: 'number', description: 'Results per page (max 100)' } } } },\n  { name: 'miyabi_bundle__github_get_issue', description: 'Get full issue details including body, labels, assignees, and timeline.', inputSchema: { type: 'object', properties: { issue_number: { type: 'number', description: 'Issue number' } }, required: ['issue_number'] } },\n  { name: 'miyabi_bundle__github_create_issue', description: 'Create a new GitHub issue. Supports markdown body and multiple labels.', inputSchema: { type: 'object', properties: { title: { type: 'string', description: 'Issue title' }, body: { type: 'string', description: 'Issue body (markdown supported)' }, labels: { type: 'array', items: { type: 'string' }, description: 'Array of label names' } }, required: ['title'] } },\n  { name: 'miyabi_bundle__github_update_issue', description: 'Update issue title, body, state, or assignees. Close issues by setting state.', inputSchema: { type: 'object', properties: { issue_number: { type: 'number', description: 'Issue number to update' }, title: { type: 'string', description: 'New title' }, body: { type: 'string', description: 'New body' }, state: { type: 'string', description: 'New state (open/closed)' } }, required: ['issue_number'] } },\n  { name: 'miyabi_bundle__github_add_comment', description: 'Add a comment to an issue or PR. Supports markdown formatting.', inputSchema: { type: 'object', properties: { issue_number: { type: 'number', description: 'Issue or PR number' }, body: { type: 'string', description: 'Comment body (markdown supported)' } }, required: ['issue_number', 'body'] } },\n  { name: 'miyabi_bundle__github_list_prs', description: 'List pull requests with optional state filter (default: open).', inputSchema: { type: 'object', properties: { state: { type: 'string', enum: ['open', 'closed', 'all'], description: 'PR state filter' }, per_page: { type: 'number', description: 'Results per page' } } } },\n  { name: 'miyabi_bundle__github_get_pr', description: 'Get PR details including diff stats, merge status, and review state.', inputSchema: { type: 'object', properties: { pull_number: { type: 'number', description: 'Pull request number' } }, required: ['pull_number'] } },\n  { name: 'miyabi_bundle__github_create_pr', description: 'Create a pull request from head branch to base (default: main).', inputSchema: { type: 'object', properties: { title: { type: 'string', description: 'PR title' }, head: { type: 'string', description: 'Source branch' }, base: { type: 'string', description: 'Target branch (default: main)' }, body: { type: 'string', description: 'PR description' } }, required: ['title', 'head'] } },\n  { name: 'miyabi_bundle__github_merge_pr', description: 'Merge a PR using merge, squash, or rebase method.', inputSchema: { type: 'object', properties: { pull_number: { type: 'number', description: 'Pull request number' }, merge_method: { type: 'string', enum: ['merge', 'squash', 'rebase'], description: 'Merge strategy' } }, required: ['pull_number'] } },\n  { name: 'miyabi_bundle__github_list_labels', description: 'List all labels defined in the repository with colors and descriptions.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__github_add_labels', description: 'Add labels to an issue or PR. Creates labels if they do not exist.', inputSchema: { type: 'object', properties: { issue_number: { type: 'number', description: 'Issue or PR number' }, labels: { type: 'array', items: { type: 'string' }, description: 'Label names to add' } }, required: ['issue_number', 'labels'] } },\n  { name: 'miyabi_bundle__github_list_milestones', description: 'List milestones for tracking release progress. Filter by state.', inputSchema: { type: 'object', properties: { state: { type: 'string', enum: ['open', 'closed', 'all'], description: 'Milestone state filter' } } } },\n  { name: 'miyabi_bundle__github_list_workflows', description: 'List GitHub Actions workflows defined in the repository.', inputSchema: { type: 'object', properties: { per_page: { type: 'number', description: 'Results per page' } } } },\n  { name: 'miyabi_bundle__github_list_workflow_runs', description: 'List recent workflow runs. Filter by status to find failures.', inputSchema: { type: 'object', properties: { workflow_id: { type: 'string', description: 'Workflow ID or filename' }, status: { type: 'string', enum: ['queued', 'in_progress', 'completed'], description: 'Run status filter' }, per_page: { type: 'number', description: 'Results per page' } } } },\n  { name: 'miyabi_bundle__github_repo_info', description: 'Get repository metadata: stars, forks, language, and settings.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__github_list_releases', description: 'List releases with tags, assets, and release notes.', inputSchema: { type: 'object', properties: { per_page: { type: 'number', description: 'Results per page' } } } },\n  { name: 'miyabi_bundle__github_list_branches', description: 'List branches with protection status and last commit info.', inputSchema: { type: 'object', properties: { per_page: { type: 'number', description: 'Results per page' } } } },\n  { name: 'miyabi_bundle__github_compare_commits', description: 'Compare two branches or commits. Shows diff, files changed, and commits.', inputSchema: { type: 'object', properties: { base: { type: 'string', description: 'Base branch/commit' }, head: { type: 'string', description: 'Head branch/commit' } }, required: ['base', 'head'] } },\n  { name: 'miyabi_bundle__github_list_pr_reviews', description: 'List reviews on a PR with approval status and comments.', inputSchema: { type: 'object', properties: { pull_number: { type: 'number', description: 'Pull request number' } }, required: ['pull_number'] } },\n  { name: 'miyabi_bundle__github_create_review', description: 'Create a PR review: APPROVE, REQUEST_CHANGES, or COMMENT.', inputSchema: { type: 'object', properties: { pull_number: { type: 'number', description: 'Pull request number' }, body: { type: 'string', description: 'Review body' }, event: { type: 'string', enum: ['APPROVE', 'REQUEST_CHANGES', 'COMMENT'], description: 'Review action' }, comments: { type: 'array', items: { type: 'object' }, description: 'Line comments' } }, required: ['pull_number'] } },\n  { name: 'miyabi_bundle__github_submit_review', description: 'Submit a pending PR review with final verdict.', inputSchema: { type: 'object', properties: { pull_number: { type: 'number', description: 'Pull request number' }, review_id: { type: 'number', description: 'Review ID' }, body: { type: 'string', description: 'Final comment' }, event: { type: 'string', enum: ['APPROVE', 'REQUEST_CHANGES', 'COMMENT'], description: 'Review action' } }, required: ['pull_number', 'review_id', 'event'] } },\n\n  // === System Health (1 tool) ===\n  { name: 'miyabi_bundle__health_check', description: 'Run comprehensive health check: Git, GitHub API, system resources, and MCP status.', inputSchema: { type: 'object', properties: {} } },\n  // === Society Health Check Pro (Issue #16 - 5 tools) ===\n  { name: \"society_health_all\", description: \"Check health status of all 26 Miyabi Societies at once. Returns comprehensive health report.\", inputSchema: { type: \"object\", properties: {} } },\n  { name: \"society_health_single\", description: \"Check detailed health status of a single Society.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\", description: \"Society name (e.g., investment, sales, marketing)\" } }, required: [\"society\"] } },\n  { name: \"society_agent_status\", description: \"Get status of all agents within a Society or all Societies.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\", description: \"Optional: filter by Society name\" } } } },\n  { name: \"society_mcp_status\", description: \"Check status of MCP servers used by Societies.\", inputSchema: { type: \"object\", properties: {} } },\n  { name: \"society_metrics_summary\", description: \"Get aggregated metrics summary for all Societies.\", inputSchema: { type: \"object\", properties: {} } },\n  // === Metrics Aggregator (Issue #17 - 5 tools) ===\n  { name: \"metrics_collect\", description: \"Collect system metrics.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" } } } },\n  { name: \"metrics_aggregate\", description: \"Aggregate metrics with statistics.\", inputSchema: { type: \"object\", properties: { period: { type: \"string\" } } } },\n  { name: \"metrics_query\", description: \"Query metrics with filters.\", inputSchema: { type: \"object\", properties: { metric_type: { type: \"string\" }, society: { type: \"string\" }, limit: { type: \"number\" } } } },\n  { name: \"metrics_export\", description: \"Export metrics JSON/CSV.\", inputSchema: { type: \"object\", properties: { format: { type: \"string\", enum: [\"json\", \"csv\"] } } } },\n  { name: \"metrics_dashboard\", description: \"Dashboard data generation.\", inputSchema: { type: \"object\", properties: {} } },\n  // === Society Bridge API (Issue #18 - 6 tools) ===\n  { name: \"bridge_send\", description: \"Send message between Societies.\", inputSchema: { type: \"object\", properties: { from_society: { type: \"string\" }, to_society: { type: \"string\" }, payload: { type: \"object\" }, priority: { type: \"string\" } }, required: [\"from_society\", \"to_society\", \"payload\"] } },\n  { name: \"bridge_receive\", description: \"Receive pending messages.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" }, limit: { type: \"number\" }, acknowledge: { type: \"boolean\" } }, required: [\"society\"] } },\n  { name: \"bridge_context_share\", description: \"Share context with Societies.\", inputSchema: { type: \"object\", properties: { owner_society: { type: \"string\" }, share_with: { type: \"array\" }, context_type: { type: \"string\" }, data: { type: \"object\" } }, required: [\"owner_society\", \"share_with\", \"context_type\", \"data\"] } },\n  { name: \"bridge_context_get\", description: \"Get shared context.\", inputSchema: { type: \"object\", properties: { context_id: { type: \"string\" }, society: { type: \"string\" } }, required: [\"society\"] } },\n  { name: \"bridge_queue_status\", description: \"Get queue status.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" } } } },\n  { name: \"bridge_history\", description: \"Get message history.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" }, limit: { type: \"number\" } } } },\n  // === Context Foundation (Issue #13 - 6 tools) ===\n  { name: \"context_store\", description: \"Store context data.\", inputSchema: { type: \"object\", properties: { key: { type: \"string\" }, society: { type: \"string\" }, data: { type: \"object\" }, ttl: { type: \"number\" } }, required: [\"key\", \"society\", \"data\"] } },\n  { name: \"context_get\", description: \"Get stored context.\", inputSchema: { type: \"object\", properties: { id: { type: \"string\" }, key: { type: \"string\" }, society: { type: \"string\" } }, required: [\"society\"] } },\n  { name: \"context_list\", description: \"List accessible contexts.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" }, include_shared: { type: \"boolean\" } }, required: [\"society\"] } },\n  { name: \"context_expire\", description: \"Manage context expiration.\", inputSchema: { type: \"object\", properties: { id: { type: \"string\" }, society: { type: \"string\" }, new_ttl: { type: \"number\" } }, required: [\"society\"] } },\n  { name: \"context_share\", description: \"Share context access.\", inputSchema: { type: \"object\", properties: { id: { type: \"string\" }, society: { type: \"string\" }, share_with: { type: \"array\" } }, required: [\"society\", \"share_with\"] } },\n  { name: \"context_search\", description: \"Search contexts.\", inputSchema: { type: \"object\", properties: { society: { type: \"string\" }, query: { type: \"string\" } }, required: [\"society\", \"query\"] } },\n\n  // === Linux systemd (3 tools) ===\n  { name: 'miyabi_bundle__linux_systemd_units', description: 'List systemd units with status. Filter by type (service, timer) or state (Linux only).', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['service', 'timer', 'socket', 'mount', 'target'], description: 'Filter by unit type' }, state: { type: 'string', enum: ['running', 'failed', 'inactive'], description: 'Filter by state' } } } },\n  { name: 'miyabi_bundle__linux_systemd_status', description: 'Get detailed status of a systemd unit including logs and dependencies (Linux only).', inputSchema: { type: 'object', properties: { unit: { type: 'string', description: 'Unit name (e.g., nginx.service)' } }, required: ['unit'] } },\n  { name: 'miyabi_bundle__linux_journal_search', description: 'Search systemd journal logs. Filter by unit, priority, or time range (Linux only).', inputSchema: { type: 'object', properties: { unit: { type: 'string', description: 'Filter by unit name' }, priority: { type: 'string', enum: ['emerg', 'alert', 'crit', 'err', 'warning', 'notice', 'info', 'debug'], description: 'Filter by priority level' }, since: { type: 'string', description: 'Show entries since (e.g., 1h ago, today)' }, lines: { type: 'number', description: 'Number of lines to show' } } } },\n\n  // === Windows (2 tools) ===\n  { name: 'miyabi_bundle__windows_service_status', description: 'Get Windows service status, start type, and dependencies (Windows only).', inputSchema: { type: 'object', properties: { service: { type: 'string', description: 'Service name' } } } },\n  { name: 'miyabi_bundle__windows_eventlog_search', description: 'Search Windows Event Log for errors or specific events (Windows only).', inputSchema: { type: 'object', properties: { log: { type: 'string', enum: ['Application', 'System', 'Security'], description: 'Event log name' }, level: { type: 'string', enum: ['Error', 'Warning', 'Information'], description: 'Event level' }, source: { type: 'string', description: 'Event source name' }, maxEvents: { type: 'number', description: 'Max events to return' } } } },\n\n  // === Docker (10 tools) ===\n  { name: 'miyabi_bundle__docker_ps', description: 'List Docker containers with status and ports. Use all=true for stopped containers.', inputSchema: { type: 'object', properties: { all: { type: 'boolean', description: 'Show all containers (default shows running)' }, limit: { type: 'number', description: 'Limit output' } } } },\n  { name: 'miyabi_bundle__docker_images', description: 'List Docker images with size and tags. Find dangling images to clean up.', inputSchema: { type: 'object', properties: { all: { type: 'boolean', description: 'Show all images (default: only tagged)' }, dangling: { type: 'boolean', description: 'Show only dangling images' } } } },\n  { name: 'miyabi_bundle__docker_logs', description: 'Get container logs. Supports tail, since timestamp, and timestamps options.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name or ID' }, tail: { type: 'number', description: 'Number of lines from end (e.g., 100)' }, since: { type: 'string', description: 'Show logs since (e.g., 10m, 1h, 2024-01-01)' }, timestamps: { type: 'boolean', description: 'Show timestamps' } }, required: ['container'] } },\n  { name: 'miyabi_bundle__docker_inspect', description: 'Get detailed JSON config of container or image. Debug networking and mounts.', inputSchema: { type: 'object', properties: { target: { type: 'string', description: 'Container/image name or ID' }, type: { type: 'string', enum: ['container', 'image'], description: 'Target type' } }, required: ['target'] } },\n  { name: 'miyabi_bundle__docker_stats', description: 'Get live CPU/memory usage for containers. Monitor resource consumption.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name/id (optional, all if omitted)' }, noStream: { type: 'boolean', description: 'One-shot (no streaming)' } } } },\n  { name: 'miyabi_bundle__docker_exec', description: 'Execute command inside a running container. Use for debugging or inspection.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name or ID' }, command: { type: 'string', description: 'Command to execute' }, user: { type: 'string', description: 'User to run as' } }, required: ['container', 'command'] } },\n  { name: 'miyabi_bundle__docker_start', description: 'Start a stopped container by name or ID.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name or ID' } }, required: ['container'] } },\n  { name: 'miyabi_bundle__docker_stop', description: 'Stop a running container gracefully. Optional timeout before SIGKILL.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name or ID' }, timeout: { type: 'number', description: 'Seconds to wait before killing' } }, required: ['container'] } },\n  { name: 'miyabi_bundle__docker_restart', description: 'Restart a container. Useful after config changes.', inputSchema: { type: 'object', properties: { container: { type: 'string', description: 'Container name or ID' }, timeout: { type: 'number', description: 'Seconds to wait before killing' } }, required: ['container'] } },\n  { name: 'miyabi_bundle__docker_build', description: 'Build Docker image from Dockerfile. Supports custom tags and no-cache.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Build context path' }, tag: { type: 'string', description: 'Image tag (name:tag)' }, dockerfile: { type: 'string', description: 'Dockerfile path' }, noCache: { type: 'boolean', description: 'Disable build cache' } } } },\n\n  // === Docker Compose (4 tools) ===\n  { name: 'miyabi_bundle__compose_ps', description: 'List Compose service status: running, ports, and health.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Path to docker-compose.yml' }, all: { type: 'boolean', description: 'Show all services' } } } },\n  { name: 'miyabi_bundle__compose_up', description: 'Start Compose services. Use detach=true for background, build=true to rebuild.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Path to docker-compose.yml' }, services: { type: 'array', items: { type: 'string' }, description: 'Specific services to start' }, detach: { type: 'boolean', description: 'Run in background' }, build: { type: 'boolean', description: 'Build images before starting' } } } },\n  { name: 'miyabi_bundle__compose_down', description: 'Stop Compose services. Optionally remove volumes and orphan containers.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Path to docker-compose.yml' }, volumes: { type: 'boolean', description: 'Remove volumes' }, removeOrphans: { type: 'boolean', description: 'Remove orphan containers' } } } },\n  { name: 'miyabi_bundle__compose_logs', description: 'Get combined logs from Compose services. Filter by service name.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Path to docker-compose.yml' }, services: { type: 'array', items: { type: 'string' }, description: 'Specific services' }, tail: { type: 'number', description: 'Number of lines from end' }, timestamps: { type: 'boolean', description: 'Show timestamps' } } } },\n\n  // === Kubernetes (6 tools) ===\n  { name: 'miyabi_bundle__k8s_get_pods', description: 'List pods with status, restarts, and age. Filter by namespace or label selector.', inputSchema: { type: 'object', properties: { namespace: { type: 'string', description: 'Namespace (default: default)' }, allNamespaces: { type: 'boolean', description: 'List across all namespaces' }, selector: { type: 'string', description: 'Label selector (e.g., app=nginx)' } } } },\n  { name: 'miyabi_bundle__k8s_get_deployments', description: 'List deployments with replicas, available, and ready status.', inputSchema: { type: 'object', properties: { namespace: { type: 'string', description: 'Namespace (default: default)' }, allNamespaces: { type: 'boolean', description: 'List across all namespaces' } } } },\n  { name: 'miyabi_bundle__k8s_logs', description: 'Get pod logs. Specify container for multi-container pods.', inputSchema: { type: 'object', properties: { pod: { type: 'string', description: 'Pod name' }, namespace: { type: 'string', description: 'Namespace' }, container: { type: 'string', description: 'Container name (for multi-container pods)' }, tail: { type: 'number', description: 'Lines from end' }, since: { type: 'string', description: 'Show logs since (e.g., 1h, 30m)' } }, required: ['pod'] } },\n  { name: 'miyabi_bundle__k8s_describe', description: 'Get detailed resource info: events, conditions, and spec.', inputSchema: { type: 'object', properties: { resource: { type: 'string', enum: ['pod', 'deployment', 'service', 'configmap', 'secret', 'node'], description: 'Resource type' }, name: { type: 'string', description: 'Resource name' }, namespace: { type: 'string', description: 'Namespace' } }, required: ['resource', 'name'] } },\n  { name: 'miyabi_bundle__k8s_apply', description: 'Apply Kubernetes manifest. Use dryRun=true to preview changes first.', inputSchema: { type: 'object', properties: { file: { type: 'string', description: 'Path to YAML manifest' }, namespace: { type: 'string', description: 'Namespace' }, dryRun: { type: 'boolean', description: 'Dry run only (no changes)' } }, required: ['file'] } },\n  { name: 'miyabi_bundle__k8s_delete', description: 'Delete Kubernetes resource. Use dryRun=true to preview deletion.', inputSchema: { type: 'object', properties: { resource: { type: 'string', description: 'Resource type (e.g., pod, deployment)' }, name: { type: 'string', description: 'Resource name' }, namespace: { type: 'string', description: 'Namespace' }, dryRun: { type: 'boolean', description: 'Dry run only' } }, required: ['resource', 'name'] } },\n\n  // === Spec-Kit (9 tools) - Spec-Driven Development ===\n  { name: 'miyabi_bundle__speckit_init', description: 'Initialize Spec-Kit in a project. Creates .speckit/ directory with templates.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Project path (default: current)' } } } },\n  { name: 'miyabi_bundle__speckit_status', description: 'Get Spec-Kit project status: features, specs, and plan coverage.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Project path' } } } },\n  { name: 'miyabi_bundle__speckit_constitution', description: 'Read or update project constitution defining principles and constraints.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Project path' }, content: { type: 'string', description: 'New constitution content (omit to read)' } } } },\n  { name: 'miyabi_bundle__speckit_specify', description: 'Create a formal specification from a feature description.', inputSchema: { type: 'object', properties: { feature: { type: 'string', description: 'Feature description' }, path: { type: 'string', description: 'Project path' } }, required: ['feature'] } },\n  { name: 'miyabi_bundle__speckit_plan', description: 'Generate implementation plan with steps and dependencies for a feature.', inputSchema: { type: 'object', properties: { feature: { type: 'string', description: 'Feature name/id' }, path: { type: 'string', description: 'Project path' } }, required: ['feature'] } },\n  { name: 'miyabi_bundle__speckit_tasks', description: 'Generate actionable task list from a feature plan.', inputSchema: { type: 'object', properties: { feature: { type: 'string', description: 'Feature name/id' }, path: { type: 'string', description: 'Project path' } }, required: ['feature'] } },\n  { name: 'miyabi_bundle__speckit_checklist', description: 'Create pre-implementation checklist for quality assurance.', inputSchema: { type: 'object', properties: { feature: { type: 'string', description: 'Feature name/id' }, path: { type: 'string', description: 'Project path' } }, required: ['feature'] } },\n  { name: 'miyabi_bundle__speckit_analyze', description: 'Analyze project for consistency between specs and implementation.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Project path' } } } },\n  { name: 'miyabi_bundle__speckit_list_features', description: 'List all defined features in the project with their status.', inputSchema: { type: 'object', properties: { path: { type: 'string', description: 'Project path' } } } },\n\n  // === MCP Tool Discovery (3 tools) ===\n  { name: 'miyabi_bundle__mcp_search_tools', description: 'Search available MCP tools by name or description. Filter by category prefix.', inputSchema: { type: 'object', properties: { query: { type: 'string', description: 'Search query (matches name or description)' }, category: { type: 'string', description: 'Filter by category prefix (git, tmux, docker, etc)' } } } },\n  { name: 'miyabi_bundle__mcp_list_categories', description: 'List all tool categories with tool counts. Discover available capabilities.', inputSchema: { type: 'object', properties: {} } },\n  { name: 'miyabi_bundle__mcp_get_tool_info', description: 'Get detailed info about a tool including parameters and examples.', inputSchema: { type: 'object', properties: { tool: { type: 'string', description: 'Tool name' } }, required: ['tool'] } },\n\n  // === Database Foundation (6 tools) ===\n  { name: 'miyabi_bundle__db_connect', description: 'Test database connection. Supports SQLite (file), PostgreSQL, and MySQL.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, connection: { type: 'string', description: 'Connection string or file path (SQLite)' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' } }, required: ['type'] } },\n  { name: 'miyabi_bundle__db_tables', description: 'List all tables in the database with row counts.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, connection: { type: 'string', description: 'Connection string' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' } }, required: ['type'] } },\n  { name: 'miyabi_bundle__db_schema', description: 'Get table schema: columns, types, keys, and constraints.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, table: { type: 'string', description: 'Table name' }, connection: { type: 'string', description: 'Connection string' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' } }, required: ['type', 'table'] } },\n  { name: 'miyabi_bundle__db_query', description: 'Execute read-only SELECT query. Limited to 100 rows by default for safety.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, query: { type: 'string', description: 'SQL SELECT query' }, connection: { type: 'string', description: 'Connection string' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' }, limit: { type: 'number', description: 'Max rows (default 100)' } }, required: ['type', 'query'] } },\n  { name: 'miyabi_bundle__db_explain', description: 'Get query execution plan for optimization analysis.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, query: { type: 'string', description: 'SQL query to analyze' }, connection: { type: 'string', description: 'Connection string' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' } }, required: ['type', 'query'] } },\n  { name: 'miyabi_bundle__db_health', description: 'Check database health: connection, size, and performance stats.', inputSchema: { type: 'object', properties: { type: { type: 'string', enum: ['sqlite', 'postgresql', 'mysql'], description: 'Database type' }, connection: { type: 'string', description: 'Connection string' }, host: { type: 'string', description: 'Database host' }, port: { type: 'number', description: 'Port number' }, database: { type: 'string', description: 'Database name' }, user: { type: 'string', description: 'Username' }, password: { type: 'string', description: 'Password' } }, required: ['type'] } },\n\n  // === Time Tools (4 tools) ===\n  { name: 'miyabi_bundle__time_current', description: 'Get current time in any timezone. Supports ISO, unix, or human-readable output.', inputSchema: { type: 'object', properties: { timezone: { type: 'string', description: 'Timezone (e.g., Asia/Tokyo, America/New_York, UTC)' }, format: { type: 'string', enum: ['iso', 'unix', 'human'], description: 'Output format' } } } },\n  { name: 'miyabi_bundle__time_convert', description: 'Convert time between timezones. Accepts ISO8601 or unix timestamps.', inputSchema: { type: 'object', properties: { time: { type: 'string', description: 'Time to convert (ISO8601 or unix timestamp)' }, from: { type: 'string', description: 'Source timezone' }, to: { type: 'string', description: 'Target timezone' } }, required: ['time', 'to'] } },\n  { name: 'miyabi_bundle__time_format', description: 'Format datetime with custom pattern (e.g., YYYY-MM-DD HH:mm:ss).', inputSchema: { type: 'object', properties: { time: { type: 'string', description: 'Time to format' }, format: { type: 'string', description: 'Format string (e.g., YYYY-MM-DD HH:mm:ss)' }, timezone: { type: 'string', description: 'Timezone for formatting' } }, required: ['time', 'format'] } },\n  { name: 'miyabi_bundle__time_diff', description: 'Calculate time difference between two dates. Defaults to now if end omitted.', inputSchema: { type: 'object', properties: { start: { type: 'string', description: 'Start time' }, end: { type: 'string', description: 'End time (default: now)' }, unit: { type: 'string', enum: ['seconds', 'minutes', 'hours', 'days', 'weeks'], description: 'Output unit' } }, required: ['start'] } },\n\n  // === Calculator Tools (3 tools) ===\n  { name: 'miyabi_bundle__calc_expression', description: 'Evaluate math expression safely. Supports sqrt, sin, cos, PI, etc.', inputSchema: { type: 'object', properties: { expression: { type: 'string', description: 'Math expression (e.g., 2+2, sqrt(16), sin(PI/2))' }, precision: { type: 'number', description: 'Decimal precision (default: 10)' } }, required: ['expression'] } },\n  { name: 'miyabi_bundle__calc_unit_convert', description: 'Convert between units: length, weight, temperature, and more.', inputSchema: { type: 'object', properties: { value: { type: 'number', description: 'Value to convert' }, from: { type: 'string', description: 'Source unit (e.g., km, miles, kg, lb, celsius, fahrenheit)' }, to: { type: 'string', description: 'Target unit' } }, required: ['value', 'from', 'to'] } },\n  { name: 'miyabi_bundle__calc_statistics', description: 'Calculate statistics: mean, median, stddev, variance, min, max, etc.', inputSchema: { type: 'object', properties: { data: { type: 'array', items: { type: 'number' }, description: 'Array of numbers' }, metrics: { type: 'array', items: { type: 'string', enum: ['mean', 'median', 'mode', 'stddev', 'variance', 'min', 'max', 'sum', 'count'] }, description: 'Metrics to calculate' } }, required: ['data'] } },\n\n  // === Sequential Thinking Tools (3 tools) ===\n  { name: 'miyabi_bundle__think_step', description: 'Record a reasoning step with type (observation, hypothesis, analysis, conclusion).', inputSchema: { type: 'object', properties: { thought: { type: 'string', description: 'The thought content' }, type: { type: 'string', enum: ['observation', 'hypothesis', 'analysis', 'conclusion', 'question'], description: 'Type of thought' }, confidence: { type: 'number', description: 'Confidence level 0-1' }, sessionId: { type: 'string', description: 'Session ID to continue previous chain' } }, required: ['thought'] } },\n  { name: 'miyabi_bundle__think_branch', description: 'Create alternative thinking branch to explore different approaches.', inputSchema: { type: 'object', properties: { sessionId: { type: 'string', description: 'Session ID' }, branchName: { type: 'string', description: 'Name for this branch' }, fromStep: { type: 'number', description: 'Step number to branch from' } }, required: ['sessionId', 'branchName'] } },\n  { name: 'miyabi_bundle__think_summarize', description: 'Summarize thinking session with key insights and conclusions.', inputSchema: { type: 'object', properties: { sessionId: { type: 'string', description: 'Session ID to summarize' }, includeAlternatives: { type: 'boolean', description: 'Include alternative branches' } }, required: ['sessionId'] } },\n\n  // === Generator Tools (4 tools) ===\n  { name: 'miyabi_bundle__gen_uuid', description: 'Generate UUID (v1 time-based or v4 random). Generate up to 100 at once.', inputSchema: { type: 'object', properties: { version: { type: 'number', enum: [1, 4], description: 'UUID version (default: 4)' }, count: { type: 'number', description: 'Number of UUIDs to generate (max 100)' } } } },\n  { name: 'miyabi_bundle__gen_random', description: 'Generate random integers or floats within a range.', inputSchema: { type: 'object', properties: { min: { type: 'number', description: 'Minimum value (default: 0)' }, max: { type: 'number', description: 'Maximum value (default: 100)' }, count: { type: 'number', description: 'Number of values (max 1000)' }, type: { type: 'string', enum: ['integer', 'float'], description: 'Number type' } }, required: [] } },\n  { name: 'miyabi_bundle__gen_hash', description: 'Hash a string using MD5, SHA1, SHA256, or SHA512. Output in hex or base64.', inputSchema: { type: 'object', properties: { input: { type: 'string', description: 'String to hash' }, algorithm: { type: 'string', enum: ['md5', 'sha1', 'sha256', 'sha512'], description: 'Hash algorithm (default: sha256)' }, encoding: { type: 'string', enum: ['hex', 'base64'], description: 'Output encoding' } }, required: ['input'] } },\n  { name: 'miyabi_bundle__gen_password', description: 'Generate secure password with configurable character sets (default: 16 chars).', inputSchema: { type: 'object', properties: { length: { type: 'number', description: 'Password length (8-128, default: 16)' }, uppercase: { type: 'boolean', description: 'Include uppercase letters' }, lowercase: { type: 'boolean', description: 'Include lowercase letters' }, numbers: { type: 'boolean', description: 'Include numbers' }, symbols: { type: 'boolean', description: 'Include symbols' }, excludeSimilar: { type: 'boolean', description: 'Exclude similar characters (0O1lI)' } } } },\n];\n\n// ========== Resources ==========\nconst resources: Resource[] = [\n  // === Git Resources ===\n  {\n    uri: 'miyabi://git/status',\n    name: 'miyabi_bundle__Git Repository Status',\n    description: 'Current git repository status including branch, staged changes, and modified files',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://git/branches',\n    name: 'miyabi_bundle__Git Branches',\n    description: 'List of all local and remote branches with current branch indicator',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://git/recent-commits',\n    name: 'miyabi_bundle__Recent Commits',\n    description: 'Last 10 commits with hash, author, date, and message',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://git/remotes',\n    name: 'miyabi_bundle__Git Remotes',\n    description: 'Configured remote repositories',\n    mimeType: 'application/json'\n  },\n\n  // === System Resources ===\n  {\n    uri: 'miyabi://system/info',\n    name: 'miyabi_bundle__System Information',\n    description: 'CPU, memory, disk, and OS information',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://system/processes',\n    name: 'miyabi_bundle__Running Processes',\n    description: 'Top processes by CPU and memory usage',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://system/network',\n    name: 'miyabi_bundle__Network Status',\n    description: 'Network interfaces and connectivity status',\n    mimeType: 'application/json'\n  },\n\n  // === Docker Resources ===\n  {\n    uri: 'miyabi://docker/containers',\n    name: 'miyabi_bundle__Docker Containers',\n    description: 'List of all Docker containers with status',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://docker/images',\n    name: 'miyabi_bundle__Docker Images',\n    description: 'Local Docker images',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://docker/compose',\n    name: 'miyabi_bundle__Docker Compose Status',\n    description: 'Docker Compose project status',\n    mimeType: 'application/json'\n  },\n\n  // === GitHub Resources ===\n  {\n    uri: 'miyabi://github/issues',\n    name: 'miyabi_bundle__GitHub Issues',\n    description: 'Open issues for the current repository',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://github/pulls',\n    name: 'miyabi_bundle__GitHub Pull Requests',\n    description: 'Open pull requests for the current repository',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://github/workflows',\n    name: 'miyabi_bundle__GitHub Workflows',\n    description: 'GitHub Actions workflow status',\n    mimeType: 'application/json'\n  },\n\n  // === Tmux Resources ===\n  {\n    uri: 'miyabi://tmux/sessions',\n    name: 'miyabi_bundle__Tmux Sessions',\n    description: 'Active tmux sessions and windows',\n    mimeType: 'application/json'\n  },\n\n  // === Kubernetes Resources ===\n  {\n    uri: 'miyabi://k8s/pods',\n    name: 'miyabi_bundle__Kubernetes Pods',\n    description: 'Kubernetes pods status in current namespace',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://k8s/services',\n    name: 'miyabi_bundle__Kubernetes Services',\n    description: 'Kubernetes services in current namespace',\n    mimeType: 'application/json'\n  },\n\n  // === Tool Catalog ===\n  {\n    uri: 'miyabi://catalog/tools',\n    name: 'miyabi_bundle__Tool Catalog',\n    description: 'Complete list of available MCP tools organized by category',\n    mimeType: 'application/json'\n  },\n  {\n    uri: 'miyabi://catalog/categories',\n    name: 'miyabi_bundle__Tool Categories',\n    description: 'List of tool categories with descriptions',\n    mimeType: 'application/json'\n  }\n];\n\n// ========== Prompts ==========\nconst prompts: Prompt[] = [\n  // === Git Workflow Prompts ===\n  {\n    name: 'miyabi_bundle__git-commit',\n    description: 'Create a well-structured git commit with conventional commit format',\n    arguments: [\n      { name: 'miyabi_bundle__type', description: 'Commit type: feat, fix, docs, style, refactor, test, chore', required: true },\n      { name: 'miyabi_bundle__scope', description: 'Scope of the change (optional)', required: false },\n      { name: 'miyabi_bundle__description', description: 'Brief description of the change', required: true }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__git-review',\n    description: 'Review current git changes and suggest improvements',\n    arguments: [\n      { name: 'miyabi_bundle__focus', description: 'Focus area: security, performance, style, all', required: false }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__git-branch-strategy',\n    description: 'Suggest a branch naming strategy and workflow',\n    arguments: [\n      { name: 'miyabi_bundle__feature', description: 'Feature or task description', required: true }\n    ]\n  },\n\n  // === Docker Prompts ===\n  {\n    name: 'miyabi_bundle__docker-debug',\n    description: 'Debug a Docker container issue',\n    arguments: [\n      { name: 'miyabi_bundle__container', description: 'Container name or ID', required: true },\n      { name: 'miyabi_bundle__issue', description: 'Description of the issue', required: false }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__docker-compose-setup',\n    description: 'Help set up a Docker Compose configuration',\n    arguments: [\n      { name: 'miyabi_bundle__services', description: 'Comma-separated list of services needed', required: true }\n    ]\n  },\n\n  // === GitHub Prompts ===\n  {\n    name: 'miyabi_bundle__github-issue-create',\n    description: 'Create a well-structured GitHub issue',\n    arguments: [\n      { name: 'miyabi_bundle__type', description: 'Issue type: bug, feature, enhancement, question', required: true },\n      { name: 'miyabi_bundle__title', description: 'Issue title', required: true },\n      { name: 'miyabi_bundle__description', description: 'Detailed description', required: true }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__github-pr-review',\n    description: 'Review a GitHub pull request',\n    arguments: [\n      { name: 'miyabi_bundle__pr_number', description: 'Pull request number', required: true },\n      { name: 'miyabi_bundle__focus', description: 'Focus: code, tests, docs, security', required: false }\n    ]\n  },\n\n  // === System Analysis Prompts ===\n  {\n    name: 'miyabi_bundle__system-health-check',\n    description: 'Perform a comprehensive system health check',\n    arguments: [\n      { name: 'miyabi_bundle__focus', description: 'Focus: cpu, memory, disk, network, all', required: false }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__process-troubleshoot',\n    description: 'Troubleshoot a process issue',\n    arguments: [\n      { name: 'miyabi_bundle__process_name', description: 'Name of the process to investigate', required: true }\n    ]\n  },\n\n  // === Network Prompts ===\n  {\n    name: 'miyabi_bundle__network-diagnose',\n    description: 'Diagnose network connectivity issues',\n    arguments: [\n      { name: 'miyabi_bundle__target', description: 'Target host or IP to check', required: false }\n    ]\n  },\n\n  // === Kubernetes Prompts ===\n  {\n    name: 'miyabi_bundle__k8s-debug-pod',\n    description: 'Debug a Kubernetes pod issue',\n    arguments: [\n      { name: 'miyabi_bundle__pod_name', description: 'Name of the pod', required: true },\n      { name: 'miyabi_bundle__namespace', description: 'Kubernetes namespace', required: false }\n    ]\n  },\n\n  // === Log Analysis Prompts ===\n  {\n    name: 'miyabi_bundle__log-analyze',\n    description: 'Analyze logs for patterns and issues',\n    arguments: [\n      { name: 'miyabi_bundle__source', description: 'Log source: file path, container name, or service', required: true },\n      { name: 'miyabi_bundle__pattern', description: 'Pattern to search for', required: false }\n    ]\n  },\n\n  // === Workflow Prompts ===\n  {\n    name: 'miyabi_bundle__dev-cycle',\n    description: 'Execute a full development cycle: test, lint, commit, push',\n    arguments: [\n      { name: 'miyabi_bundle__message', description: 'Commit message', required: true },\n      { name: 'miyabi_bundle__skip_tests', description: 'Skip tests (true/false)', required: false }\n    ]\n  },\n  {\n    name: 'miyabi_bundle__deployment-checklist',\n    description: 'Generate a deployment checklist for the current project',\n    arguments: [\n      { name: 'miyabi_bundle__environment', description: 'Target environment: dev, staging, production', required: true }\n    ]\n  },\n\n  // === Sequential Thinking Prompts ===\n  {\n    name: 'miyabi_bundle__analyze-problem',\n    description: 'Use sequential thinking to analyze a complex problem',\n    arguments: [\n      { name: 'miyabi_bundle__problem', description: 'Problem statement', required: true },\n      { name: 'miyabi_bundle__context', description: 'Additional context', required: false }\n    ]\n  }\n];\n\n// ========== Tool Handlers ==========\nasync function handleTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  try {\n    // Git Inspector\n    if (name === 'git_status') {\n      return await git.status();\n    }\n    if (name === 'git_branch_list') {\n      return await git.branch(['-a', '-v']);\n    }\n    if (name === 'git_current_branch') {\n      const branch = await git.revparse(['--abbrev-ref', 'HEAD']);\n      return { branch: branch.trim() };\n    }\n    if (name === 'git_log') {\n      const limit = Math.min(Math.max((args.limit as number) || 20, 1), 100);\n      return await git.log({ maxCount: limit });\n    }\n    if (name === 'git_worktree_list') {\n      const { stdout } = await execAsync('git worktree list --porcelain', { cwd: MIYABI_REPO_PATH });\n      return { worktrees: stdout };\n    }\n    if (name === 'git_diff') {\n      const file = args.file as string | undefined;\n      const diff = file ? await git.diff([sanitizeShellArg(file)]) : await git.diff();\n      return { diff };\n    }\n    if (name === 'git_staged_diff') {\n      return { diff: await git.diff(['--staged']) };\n    }\n    if (name === 'git_remote_list') {\n      return { remotes: await git.getRemotes(true) };\n    }\n    if (name === 'git_branch_ahead_behind') {\n      const branch = sanitizeShellArg((args.branch as string) || 'HEAD');\n      try {\n        const { stdout } = await execAsync(`git rev-list --left-right --count origin/${branch}...${branch}`, { cwd: MIYABI_REPO_PATH });\n        const [behind, ahead] = stdout.trim().split('\\t').map(Number);\n        return { ahead, behind };\n      } catch {\n        return { error: 'Could not determine ahead/behind count' };\n      }\n    }\n    if (name === 'git_file_history') {\n      const file = sanitizeShellArg(args.file as string);\n      const limit = Math.min(Math.max((args.limit as number) || 10, 1), 50);\n      return await git.log({ file, maxCount: limit });\n    }\n    if (name === 'git_stash_list') {\n      const stashList = await git.stashList();\n      return { stashes: stashList.all };\n    }\n    if (name === 'git_blame') {\n      const file = sanitizeShellArg(args.file as string);\n      const startLine = args.startLine as number | undefined;\n      const endLine = args.endLine as number | undefined;\n      let cmd = `git blame --line-porcelain \"${file}\"`;\n      if (startLine && endLine && startLine > 0 && endLine >= startLine) {\n        cmd = `git blame --line-porcelain -L ${startLine},${endLine} \"${file}\"`;\n      }\n      const { stdout } = await execAsync(cmd, { cwd: MIYABI_REPO_PATH });\n      return { blame: stdout };\n    }\n    if (name === 'git_show') {\n      const commit = sanitizeShellArg((args.commit as string) || 'HEAD');\n      const { stdout } = await execAsync(`git show --stat \"${commit}\"`, { cwd: MIYABI_REPO_PATH });\n      return { show: stdout };\n    }\n    if (name === 'git_tag_list') {\n      const tags = await git.tags();\n      return { tags: tags.all };\n    }\n    if (name === 'git_contributors') {\n      const limit = Math.min(Math.max((args.limit as number) || 10, 1), 50);\n      const { stdout } = await execAsync(`git shortlog -sn --no-merges HEAD | head -${limit}`, { cwd: MIYABI_REPO_PATH });\n      return { contributors: stdout.trim().split('\\n').filter(Boolean) };\n    }\n    if (name === 'git_conflicts') {\n      try {\n        const { stdout } = await execAsync('git diff --name-only --diff-filter=U', { cwd: MIYABI_REPO_PATH });\n        const conflicts = stdout.trim().split('\\n').filter(Boolean);\n        return { hasConflicts: conflicts.length > 0, files: conflicts };\n      } catch {\n        return { hasConflicts: false, files: [] };\n      }\n    }\n    if (name === 'git_submodule_status') {\n      try {\n        const { stdout } = await execAsync('git submodule status --recursive', { cwd: MIYABI_REPO_PATH });\n        const lines = stdout.trim().split('\\n').filter(Boolean);\n        const submodules = lines.map(line => {\n          const match = line.match(/^([+-U ]?)([a-f0-9]+)\\s+(\\S+)(?:\\s+\\((.+)\\))?/);\n          if (match) {\n            return {\n              status: match[1] === '+' ? 'modified' : match[1] === '-' ? 'uninitialized' : match[1] === 'U' ? 'conflict' : 'ok',\n              commit: match[2],\n              path: match[3],\n              describe: match[4] || null\n            };\n          }\n          return { raw: line };\n        });\n        return { submodules };\n      } catch {\n        return { submodules: [], message: 'No submodules or git submodule not available' };\n      }\n    }\n    if (name === 'git_lfs_status') {\n      const hasLfs = await commandExists('git-lfs');\n      if (!hasLfs) {\n        return { error: 'git-lfs is not installed', installed: false };\n      }\n      try {\n        const { stdout: statusOut } = await execAsync('git lfs status', { cwd: MIYABI_REPO_PATH });\n        const { stdout: envOut } = await execAsync('git lfs env', { cwd: MIYABI_REPO_PATH });\n        return { installed: true, status: statusOut.trim(), env: envOut.trim() };\n      } catch (error) {\n        return { installed: true, error: error instanceof Error ? error.message : String(error) };\n      }\n    }\n    if (name === 'git_hooks_list') {\n      const hooksDir = join(MIYABI_REPO_PATH, '.git', 'hooks');\n      try {\n        const files = await readdir(hooksDir);\n        const hooks = files\n          .filter(f => !f.endsWith('.sample'))\n          .map(async (f) => {\n            const hookPath = join(hooksDir, f);\n            const hookStat = await stat(hookPath);\n            return {\n              name: f,\n              executable: (hookStat.mode & 0o111) !== 0,\n              size: hookStat.size\n            };\n          });\n        return { hooks: await Promise.all(hooks) };\n      } catch {\n        return { hooks: [], message: 'No hooks directory or not a git repository' };\n      }\n    }\n\n    // Category handlers\n    if (name.startsWith('tmux_')) return await handleTmuxTool(name, args);\n    if (name.startsWith('log_')) return await handleLogTool(name, args);\n    if (name.startsWith('resource_')) return await handleResourceTool(name, args);\n    if (name.startsWith('network_')) return await handleNetworkTool(name, args);\n    if (name.startsWith('process_')) return await handleProcessTool(name, args);\n    if (name.startsWith('file_')) return await handleFileTool(name, args);\n    if (name.startsWith('claude_')) return await handleClaudeTool(name, args);\n    if (name.startsWith('github_')) return await handleGitHubTool(name, args);\n    if (name === 'health_check') return await handleHealthCheck();\n    if (name.startsWith('society_')) return await handleSocietyTool(name, args);\n    if (name.startsWith('metrics_')) return await handleMetricsTool(name, args);\n    if (name.startsWith('bridge_')) return await handleBridgeTool(name, args);\n    if (name.startsWith('context_')) return await handleContextTool(name, args);\n    if (name.startsWith('linux_')) return await handleLinuxTool(name, args);\n    if (name.startsWith('windows_')) return await handleWindowsTool(name, args);\n    if (name.startsWith('docker_')) return await handleDockerTool(name, args);\n    if (name.startsWith('compose_')) return await handleComposeTool(name, args);\n    if (name.startsWith('k8s_')) return await handleK8sTool(name, args);\n    if (name.startsWith('speckit_')) return await handleSpeckitTool(name, args);\n    if (name.startsWith('mcp_')) return await handleMcpTool(name, args);\n    if (name.startsWith('db_')) return await handleDbTool(name, args);\n    if (name.startsWith('time_')) return await handleTimeTool(name, args);\n    if (name.startsWith('calc_')) return await handleCalcTool(name, args);\n    if (name.startsWith('think_')) return await handleThinkTool(name, args);\n    if (name.startsWith('gen_')) return await handleGenTool(name, args);\n\n    return { error: `Unknown tool: ${name}` };\n  } catch (error) {\n    return { error: error instanceof Error ? error.message : String(error) };\n  }\n}\n\n// ========== Category Handlers ==========\nasync function handleTmuxTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const hasTmux = await commandExists('tmux');\n  if (!hasTmux) {\n    return { error: 'tmux is not installed' };\n  }\n\n  const target = sanitizeShellArg((args.target as string) || '');\n  const session = sanitizeShellArg((args.session as string) || '');\n\n  if (name === 'tmux_list_sessions') {\n    try {\n      const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}:#{session_windows}:#{session_attached}:#{session_created}\"');\n      return { sessions: stdout.trim().split('\\n').filter(Boolean) };\n    } catch {\n      return { sessions: [], message: 'No tmux sessions' };\n    }\n  }\n  if (name === 'tmux_list_windows') {\n    const cmd = session ? `tmux list-windows -t \"${session}\" -F \"#{window_index}:#{window_name}:#{window_active}\"` : 'tmux list-windows -F \"#{window_index}:#{window_name}:#{window_active}\"';\n    const { stdout } = await execAsync(cmd);\n    return { windows: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'tmux_list_panes') {\n    const cmd = session\n      ? `tmux list-panes -t \"${session}\" -F \"#{pane_id}:#{pane_current_command}:#{pane_pid}:#{pane_active}\"`\n      : 'tmux list-panes -a -F \"#{session_name}:#{pane_id}:#{pane_current_command}:#{pane_active}\"';\n    const { stdout } = await execAsync(cmd);\n    return { panes: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'tmux_send_keys') {\n    const keys = sanitizeShellArg(args.keys as string);\n    if (!target) return { error: 'Target pane required' };\n    await execAsync(`tmux send-keys -t \"${target}\" \"${keys}\" Enter`);\n    return { success: true };\n  }\n  if (name === 'tmux_pane_capture') {\n    const lines = Math.min(Math.max((args.lines as number) || 100, 1), 10000);\n    const { stdout } = await execAsync(`tmux capture-pane -t \"${target}\" -p -S -${lines}`);\n    return { content: stdout };\n  }\n  if (name === 'tmux_pane_search') {\n    const pattern = sanitizeShellArg(args.pattern as string);\n    const { stdout } = await execAsync(`tmux capture-pane -t \"${target}\" -p | grep -i \"${pattern}\" || true`);\n    return { matches: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'tmux_pane_tail') {\n    const lines = Math.min(Math.max((args.lines as number) || 20, 1), 1000);\n    const { stdout } = await execAsync(`tmux capture-pane -t \"${target}\" -p | tail -n ${lines}`);\n    return { content: stdout };\n  }\n  if (name === 'tmux_pane_is_busy') {\n    const { stdout } = await execAsync(`tmux display-message -t \"${target}\" -p \"#{pane_current_command}\"`);\n    const cmd = stdout.trim();\n    return { busy: !['bash', 'zsh', 'fish', 'sh', 'dash'].includes(cmd), command: cmd };\n  }\n  if (name === 'tmux_pane_current_command') {\n    const { stdout } = await execAsync(`tmux display-message -t \"${target}\" -p \"#{pane_current_command}\"`);\n    return { command: stdout.trim() };\n  }\n  if (name === 'tmux_session_info') {\n    if (!session) return { error: 'Session name required' };\n    const { stdout } = await execAsync(`tmux display-message -t \"${session}\" -p \"name:#{session_name},windows:#{session_windows},attached:#{session_attached},created:#{session_created}\"`);\n    return { info: stdout.trim() };\n  }\n  return { error: `Unknown tmux tool: ${name}` };\n}\n\nasync function handleLogTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (name === 'log_sources') {\n    const files = await glob('**/*.log', { cwd: MIYABI_LOG_DIR, ignore: ['node_modules/**', '.git/**'] });\n    return { sources: files };\n  }\n  if (name === 'log_get_recent' || name === 'log_get_errors' || name === 'log_get_warnings') {\n    const minutes = Math.min(Math.max((args.minutes as number) || 60, 1), 10080);\n    const source = sanitizeShellArg((args.source as string) || '*.log');\n    const { stdout } = await execAsync(`find \"${MIYABI_LOG_DIR}\" -name \"${source}\" -mmin -${minutes} -exec tail -n 100 {} \\\\; 2>/dev/null || true`);\n    return { logs: stdout };\n  }\n  if (name === 'log_search') {\n    const query = args.query as string;\n    const lengthError = validateInputLength(query, MAX_QUERY_LENGTH, 'Query');\n    if (lengthError) return { error: lengthError };\n    const safeQuery = sanitizeShellArg(query);\n    const { stdout } = await execAsync(`grep -riF \"${safeQuery}\" \"${MIYABI_LOG_DIR}\" --include=\"*.log\" 2>/dev/null | head -100 || true`);\n    return { results: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'log_tail') {\n    const source = args.source as string;\n    if (!source) {\n      return { error: 'Source file is required' };\n    }\n    const pathError = validateInputLength(source, MAX_PATH_LENGTH, 'Source path');\n    if (pathError) return { error: pathError };\n    const lines = Math.min(Math.max((args.lines as number) || 50, 1), 1000);\n    const safePath = sanitizePath(MIYABI_LOG_DIR, source);\n    const { stdout } = await execAsync(`tail -n ${lines} \"${safePath}\"`);\n    return { content: stdout };\n  }\n  if (name === 'log_stats') {\n    const files = await glob('**/*.log', { cwd: MIYABI_LOG_DIR, ignore: ['node_modules/**'] });\n    const stats = await Promise.all(files.slice(0, 20).map(async (f) => {\n      const s = await stat(join(MIYABI_LOG_DIR, f));\n      return { file: f, size: s.size, modified: s.mtime };\n    }));\n    return { files: stats, total: files.length };\n  }\n  return { error: `Unknown log tool: ${name}` };\n}\n\nasync function handleResourceTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (name === 'resource_cpu') {\n    const cached = cache.get<si.Systeminformation.CurrentLoadData>('cpu');\n    if (cached) return { cpu: cached.currentLoad, cores: cached.cpus };\n    const cpu = await si.currentLoad();\n    cache.set('cpu', cpu, 2000);\n    return { cpu: cpu.currentLoad, cores: cpu.cpus };\n  }\n  if (name === 'resource_memory') {\n    const cached = cache.get<si.Systeminformation.MemData>('memory');\n    if (cached) {\n      return {\n        total: cached.total,\n        used: cached.used,\n        free: cached.free,\n        available: cached.available,\n        usedPercent: (cached.used / cached.total) * 100,\n        swapTotal: cached.swaptotal,\n        swapUsed: cached.swapused\n      };\n    }\n    const mem = await si.mem();\n    cache.set('memory', mem, 2000);\n    return {\n      total: mem.total,\n      used: mem.used,\n      free: mem.free,\n      available: mem.available,\n      usedPercent: (mem.used / mem.total) * 100,\n      swapTotal: mem.swaptotal,\n      swapUsed: mem.swapused\n    };\n  }\n  if (name === 'resource_disk') {\n    const cached = cache.get<si.Systeminformation.FsSizeData[]>('disk');\n    if (cached) return { disks: cached };\n    const disks = await si.fsSize();\n    cache.set('disk', disks, 10000);\n    return { disks };\n  }\n  if (name === 'resource_load') {\n    const cached = cache.get<si.Systeminformation.CurrentLoadData>('load');\n    if (cached) return { avgLoad: cached.avgLoad, currentLoad: cached.currentLoad };\n    const load = await si.currentLoad();\n    cache.set('load', load, 2000);\n    return { avgLoad: load.avgLoad, currentLoad: load.currentLoad };\n  }\n  if (name === 'resource_overview') {\n    const [cpu, mem, disk] = await Promise.all([\n      si.currentLoad(),\n      si.mem(),\n      si.fsSize()\n    ]);\n    return {\n      cpu: { load: cpu.currentLoad, avgLoad: cpu.avgLoad },\n      memory: { usedPercent: (mem.used / mem.total) * 100, freeGb: mem.free / 1024 / 1024 / 1024 },\n      disk: disk.map(d => ({ mount: d.mount, usedPercent: d.use, freeGb: d.available / 1024 / 1024 / 1024 })),\n    };\n  }\n  if (name === 'resource_processes') {\n    const processes = await si.processes();\n    const limit = Math.min(Math.max((args.limit as number) || 10, 1), 100);\n    const sort = (args.sort as string) || 'cpu';\n    const sorted = processes.list.sort((a, b) => sort === 'memory' ? b.mem - a.mem : b.cpu - a.cpu).slice(0, limit);\n    return { processes: sorted };\n  }\n  if (name === 'resource_uptime') {\n    const time = await si.time();\n    return { uptime: time.uptime, timezone: time.timezone, current: time.current };\n  }\n  if (name === 'resource_network_stats') {\n    const stats = await si.networkStats();\n    return { stats };\n  }\n  if (name === 'resource_battery') {\n    const battery = await si.battery();\n    return { battery };\n  }\n  if (name === 'resource_temperature') {\n    const temp = await si.cpuTemperature();\n    return { temperature: temp };\n  }\n  return { error: `Unknown resource tool: ${name}` };\n}\n\nasync function handleNetworkTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (name === 'network_interfaces') {\n    const cached = cache.get<si.Systeminformation.NetworkInterfacesData[]>('network_interfaces');\n    if (cached) return { interfaces: cached };\n    const interfaces = await si.networkInterfaces();\n    cache.set('network_interfaces', interfaces, 30000); // 30 seconds - interfaces rarely change\n    return { interfaces };\n  }\n  if (name === 'network_connections') {\n    const connections = await si.networkConnections();\n    return { connections: connections.slice(0, 100) };\n  }\n  if (name === 'network_listening_ports') {\n    const connections = await si.networkConnections();\n    const protocol = (args.protocol as string) || 'all';\n    let listening = connections.filter(c => c.state === 'LISTEN');\n    if (protocol !== 'all') {\n      listening = listening.filter(c => c.protocol.toLowerCase() === protocol);\n    }\n    return { ports: listening };\n  }\n  if (name === 'network_stats') {\n    const cached = cache.get<si.Systeminformation.NetworkStatsData[]>('network_stats');\n    if (cached) return { stats: cached };\n    const stats = await si.networkStats();\n    cache.set('network_stats', stats, 2000); // 2 seconds\n    return { stats };\n  }\n  if (name === 'network_gateway') {\n    const gateway = await si.networkGatewayDefault();\n    return { gateway };\n  }\n  if (name === 'network_ping') {\n    const host = args.host as string;\n    const lengthError = validateInputLength(host, MAX_HOSTNAME_LENGTH, 'Hostname');\n    if (lengthError) return { error: lengthError };\n    if (!isValidHostname(host)) {\n      return { error: 'Invalid hostname format' };\n    }\n    const count = Math.min(Math.max((args.count as number) || 3, 1), 10);\n    const pingFlag = platform() === 'win32' ? '-n' : '-c';\n    const { stdout } = await execAsync(`ping ${pingFlag} ${count} \"${host}\"`, { timeout: 30000 });\n    return { result: stdout };\n  }\n  if (name === 'network_bandwidth') {\n    const stats = await si.networkStats();\n    return { bandwidth: stats };\n  }\n  if (name === 'network_overview') {\n    const [interfaces, stats, gateway] = await Promise.all([\n      si.networkInterfaces(),\n      si.networkStats(),\n      si.networkGatewayDefault()\n    ]);\n    return { interfaces, stats, gateway };\n  }\n  if (name === 'network_dns_lookup') {\n    const hostname = args.hostname as string;\n    const lengthError = validateInputLength(hostname, MAX_HOSTNAME_LENGTH, 'Hostname');\n    if (lengthError) return { error: lengthError };\n    if (!isValidHostname(hostname)) {\n      return { error: 'Invalid hostname format' };\n    }\n    try {\n      const [address, ipv4, ipv6] = await Promise.allSettled([\n        dnsLookup(hostname),\n        dnsResolve4(hostname),\n        dnsResolve6(hostname)\n      ]);\n      return {\n        hostname,\n        address: address.status === 'fulfilled' ? address.value : null,\n        ipv4: ipv4.status === 'fulfilled' ? ipv4.value : [],\n        ipv6: ipv6.status === 'fulfilled' ? ipv6.value : []\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'DNS lookup failed' };\n    }\n  }\n  if (name === 'network_port_check') {\n    const host = args.host as string;\n    const port = args.port as number;\n    if (!isValidHostname(host)) return { error: 'Invalid hostname' };\n    if (!Number.isInteger(port) || port < 1 || port > 65535) return { error: 'Invalid port' };\n    try {\n      const { stdout } = await execAsync(`nc -z -w 3 \"${host}\" ${port} 2>&1 && echo \"open\" || echo \"closed\"`, { timeout: 5000 });\n      return { host, port, status: stdout.trim().includes('open') ? 'open' : 'closed' };\n    } catch {\n      return { host, port, status: 'closed' };\n    }\n  }\n  if (name === 'network_public_ip') {\n    try {\n      const { stdout } = await execAsync('curl -s --max-time 5 https://api.ipify.org');\n      return { publicIp: stdout.trim() };\n    } catch {\n      return { error: 'Could not determine public IP' };\n    }\n  }\n  if (name === 'network_wifi_info') {\n    if (platform() === 'darwin') {\n      try {\n        const { stdout } = await execAsync('/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I');\n        return { wifi: stdout };\n      } catch {\n        return { error: 'Could not get WiFi info' };\n      }\n    }\n    return { error: 'WiFi info only available on macOS' };\n  }\n  if (name === 'network_route_table') {\n    const cmd = platform() === 'win32' ? 'route print' : 'netstat -rn';\n    try {\n      const { stdout } = await execAsync(cmd);\n      return { routes: stdout };\n    } catch {\n      return { error: 'Could not get routing table' };\n    }\n  }\n  if (name === 'network_ssl_check') {\n    const host = sanitizeShellArg(args.host as string);\n    if (!isValidHostname(host)) return { error: 'Invalid hostname' };\n    const port = Math.min(Math.max((args.port as number) || 443, 1), 65535);\n    try {\n      const { stdout } = await execAsync(\n        `echo | openssl s_client -connect \"${host}:${port}\" -servername \"${host}\" 2>/dev/null | openssl x509 -noout -dates -subject -issuer`,\n        { timeout: 10000 }\n      );\n      const lines = stdout.trim().split('\\n');\n      const result: Record<string, string> = {};\n      for (const line of lines) {\n        const [key, ...value] = line.split('=');\n        if (key && value.length) result[key.trim()] = value.join('=').trim();\n      }\n      return { host, port, certificate: result };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'SSL check failed' };\n    }\n  }\n  if (name === 'network_traceroute') {\n    const host = sanitizeShellArg(args.host as string);\n    if (!isValidHostname(host)) return { error: 'Invalid hostname' };\n    const maxHops = Math.min(Math.max((args.maxHops as number) || 15, 1), 30);\n    const cmd = platform() === 'win32'\n      ? `tracert -h ${maxHops} \"${host}\"`\n      : `traceroute -m ${maxHops} \"${host}\" 2>&1`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 60000 });\n      return { host, maxHops, trace: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Traceroute failed' };\n    }\n  }\n  return { error: `Unknown network tool: ${name}` };\n}\n\nasync function handleProcessTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (name === 'process_info') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const { stdout } = await execAsync(`ps -p ${pid} -o pid,ppid,user,%cpu,%mem,etime,command`);\n    return { info: stdout };\n  }\n  if (name === 'process_list') {\n    const processes = await si.processes();\n    const limit = Math.min(Math.max((args.limit as number) || 20, 1), 200);\n    return { processes: processes.list.slice(0, limit) };\n  }\n  if (name === 'process_search') {\n    const query = sanitizeShellArg(args.query as string);\n    const { stdout } = await execAsync(`pgrep -la \"${query}\" 2>/dev/null || true`);\n    return { matches: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'process_tree') {\n    const hasPstree = await commandExists('pstree');\n    if (hasPstree) {\n      const { stdout } = await execAsync('pstree -p 2>/dev/null || pstree');\n      return { tree: stdout };\n    }\n    const { stdout } = await execAsync('ps -axo pid,ppid,comm | head -100');\n    return { tree: stdout, note: 'pstree not available' };\n  }\n  if (name === 'process_file_descriptors') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const { stdout } = await execAsync(`lsof -p ${pid} 2>/dev/null | head -50 || echo \"lsof not available\"`);\n    return { fds: stdout };\n  }\n  if (name === 'process_environment') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    if (platform() === 'darwin') {\n      const { stdout } = await execAsync(`ps eww -p ${pid} 2>/dev/null || echo \"Process not found\"`);\n      return { env: stdout };\n    }\n    const { stdout } = await execAsync(`cat /proc/${pid}/environ 2>/dev/null | tr '\\\\0' '\\\\n' || ps eww -p ${pid} 2>/dev/null || echo \"Process not found\"`);\n    return { env: stdout };\n  }\n  if (name === 'process_children') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const { stdout } = await execAsync(`pgrep -P ${pid} 2>/dev/null || true`);\n    return { children: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'process_top') {\n    const limit = Math.min(Math.max((args.limit as number) || 10, 1), 100);\n    const processes = await si.processes();\n    const top = processes.list.sort((a, b) => b.cpu - a.cpu).slice(0, limit);\n    return { top };\n  }\n  if (name === 'process_kill') {\n    const pid = args.pid;\n    const confirm = args.confirm as boolean;\n    const signal = (args.signal as string) || 'SIGTERM';\n    if (!confirm) return { error: 'Confirmation required. Set confirm: true' };\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    if (!['SIGTERM', 'SIGKILL', 'SIGINT'].includes(signal)) return { error: 'Invalid signal' };\n    try {\n      const { stdout: processInfo } = await execAsync(`ps -p ${pid} -o pid,comm 2>/dev/null`);\n      await execAsync(`kill -${signal} ${pid}`);\n      return { success: true, pid, signal, process: processInfo.trim() };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Kill failed' };\n    }\n  }\n  if (name === 'process_ports') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const { stdout } = await execAsync(`lsof -i -P -n -p ${pid} 2>/dev/null || true`);\n    return { ports: stdout };\n  }\n  if (name === 'process_cpu_history') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const samples: number[] = [];\n    for (let i = 0; i < 3; i++) {\n      const { stdout } = await execAsync(`ps -p ${pid} -o %cpu 2>/dev/null | tail -1`);\n      samples.push(parseFloat(stdout.trim()) || 0);\n      if (i < 2) await new Promise(r => setTimeout(r, 500));\n    }\n    return { pid, samples, average: samples.reduce((a, b) => a + b, 0) / samples.length };\n  }\n  if (name === 'process_memory_detail') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    const { stdout } = await execAsync(`ps -p ${pid} -o pid,rss,vsz,%mem 2>/dev/null`);\n    return { memory: stdout };\n  }\n  if (name === 'process_threads') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    try {\n      if (platform() === 'darwin') {\n        const { stdout } = await execAsync(`ps -M -p ${pid} 2>/dev/null`);\n        return { pid, threads: stdout };\n      } else if (platform() === 'linux') {\n        const { stdout } = await execAsync(`ps -T -p ${pid} 2>/dev/null`);\n        return { pid, threads: stdout };\n      }\n      return { error: 'Thread listing not supported on this platform' };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Could not list threads' };\n    }\n  }\n  if (name === 'process_io_stats') {\n    const pid = args.pid;\n    if (!isValidPid(pid)) return { error: 'Invalid PID' };\n    if (platform() !== 'linux') {\n      return { error: 'I/O stats only available on Linux' };\n    }\n    try {\n      const { stdout } = await execAsync(`cat /proc/${pid}/io 2>/dev/null`);\n      const lines = stdout.trim().split('\\n');\n      const stats: Record<string, number> = {};\n      for (const line of lines) {\n        const [key, value] = line.split(':');\n        if (key && value) stats[key.trim()] = parseInt(value.trim(), 10);\n      }\n      return { pid, io: stats };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Could not read I/O stats' };\n    }\n  }\n  return { error: `Unknown process tool: ${name}` };\n}\n\nasync function handleFileTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const baseDir = MIYABI_WATCH_DIR;\n\n  if (name === 'file_stats') {\n    const userPath = args.path as string;\n    const fullPath = sanitizePath(baseDir, userPath);\n    const stats = await stat(fullPath);\n    return {\n      path: userPath,\n      size: stats.size,\n      modified: stats.mtime,\n      created: stats.birthtime,\n      isDirectory: stats.isDirectory(),\n      isFile: stats.isFile(),\n      permissions: stats.mode.toString(8).slice(-3)\n    };\n  }\n  if (name === 'file_recent_changes') {\n    const minutes = Math.min(Math.max((args.minutes as number) || 60, 1), 10080);\n    const limit = Math.min(Math.max((args.limit as number) || 20, 1), 200);\n    const { stdout } = await execAsync(`find \"${baseDir}\" -type f -mmin -${minutes} 2>/dev/null | head -${limit}`);\n    return { files: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'file_search') {\n    const pattern = args.pattern as string;\n    const files = await glob(pattern, { cwd: baseDir, ignore: ['node_modules/**', '.git/**'] });\n    return { files };\n  }\n  if (name === 'file_tree') {\n    const depth = Math.min(Math.max((args.depth as number) || 3, 1), 10);\n    const { stdout } = await execAsync(`find \"${baseDir}\" -maxdepth ${depth} -type f 2>/dev/null | head -100`);\n    return { tree: stdout };\n  }\n  if (name === 'file_compare') {\n    const path1 = sanitizePath(baseDir, args.path1 as string);\n    const path2 = sanitizePath(baseDir, args.path2 as string);\n    const [stat1, stat2] = await Promise.all([stat(path1), stat(path2)]);\n    return {\n      path1: { size: stat1.size, modified: stat1.mtime },\n      path2: { size: stat2.size, modified: stat2.mtime },\n      sameSize: stat1.size === stat2.size\n    };\n  }\n  if (name === 'file_changes_since') {\n    const since = new Date(args.since as string);\n    if (isNaN(since.getTime())) return { error: 'Invalid date format' };\n    const { stdout } = await execAsync(`find \"${baseDir}\" -type f -newermt \"${since.toISOString()}\" 2>/dev/null | head -50`);\n    return { files: stdout.trim().split('\\n').filter(Boolean) };\n  }\n  if (name === 'file_read') {\n    const userPath = args.path as string;\n    const encoding = (args.encoding as BufferEncoding) || 'utf-8';\n    const maxLines = Math.min(Math.max((args.maxLines as number) || 1000, 1), 5000);\n    const fullPath = sanitizePath(baseDir, userPath);\n    const stats = await stat(fullPath);\n    if (stats.size > 100 * 1024) return { error: 'File too large (max 100KB)' };\n    const content = await readFile(fullPath, encoding);\n    const lines = content.split('\\n');\n    const truncated = lines.length > maxLines;\n    return {\n      path: userPath,\n      size: stats.size,\n      lines: lines.length,\n      truncated,\n      content: truncated ? lines.slice(0, maxLines).join('\\n') : content\n    };\n  }\n  if (name === 'file_checksum') {\n    const userPath = args.path as string;\n    const algorithm = (args.algorithm as string) || 'sha256';\n    if (!['md5', 'sha256', 'sha512'].includes(algorithm)) return { error: 'Invalid algorithm' };\n    const fullPath = sanitizePath(baseDir, userPath);\n    const stats = await stat(fullPath);\n    if (stats.size > 100 * 1024 * 1024) return { error: 'File too large (max 100MB)' };\n    const content = await readFile(fullPath);\n    const hash = createHash(algorithm).update(content).digest('hex');\n    return { path: userPath, algorithm, checksum: hash, size: stats.size };\n  }\n  if (name === 'file_size_summary') {\n    const dir = (args.directory as string) || '.';\n    const safePath = sanitizePath(baseDir, dir);\n    const { stdout } = await execAsync(`du -sh \"${safePath}\" 2>/dev/null`);\n    return { summary: stdout.trim() };\n  }\n  if (name === 'file_duplicates') {\n    const dir = (args.directory as string) || '.';\n    const pattern = (args.pattern as string) || '*';\n    const safePath = sanitizePath(baseDir, dir);\n    const files = await glob(pattern, { cwd: safePath, ignore: ['node_modules/**', '.git/**'] });\n    const checksums = new Map<string, string[]>();\n    for (const f of files.slice(0, 100)) {\n      const fullPath = join(safePath, f);\n      try {\n        const stats = await stat(fullPath);\n        if (stats.isFile() && stats.size < 10 * 1024 * 1024) {\n          const content = await readFile(fullPath);\n          const hash = createHash('md5').update(content).digest('hex');\n          if (!checksums.has(hash)) checksums.set(hash, []);\n          checksums.get(hash)!.push(f);\n        }\n      } catch { /* skip */ }\n    }\n    const duplicates = Array.from(checksums.entries())\n      .filter(([, files]) => files.length > 1)\n      .map(([hash, files]) => ({ hash, files }));\n    return { duplicates };\n  }\n  return { error: `Unknown file tool: ${name}` };\n}\n\nasync function handleClaudeTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (name === 'claude_config') {\n    try {\n      const content = await readFile(CLAUDE_CONFIG_FILE, 'utf-8');\n      return { config: JSON.parse(content) };\n    } catch {\n      return { error: 'Could not read Claude config', path: CLAUDE_CONFIG_FILE };\n    }\n  }\n  if (name === 'claude_mcp_status') {\n    try {\n      const content = await readFile(CLAUDE_CONFIG_FILE, 'utf-8');\n      const config = JSON.parse(content);\n      const servers = config.mcpServers || {};\n      return {\n        servers: Object.keys(servers),\n        details: Object.entries(servers).map(([name, cfg]) => ({\n          name,\n          command: (cfg as { command?: string }).command || 'unknown'\n        }))\n      };\n    } catch {\n      return { error: 'Could not read MCP status' };\n    }\n  }\n  if (name === 'claude_logs') {\n    const lines = Math.min(Math.max((args.lines as number) || 100, 1), 1000);\n    const { stdout } = await execAsync(`find \"${CLAUDE_LOGS_DIR}\" -name \"*.log\" -exec tail -n ${lines} {} \\\\; 2>/dev/null || echo \"No logs found\"`);\n    return { logs: stdout };\n  }\n  if (name === 'claude_log_search') {\n    const query = args.query as string;\n    const lengthError = validateInputLength(query, MAX_QUERY_LENGTH, 'Query');\n    if (lengthError) return { error: lengthError };\n    const safeQuery = sanitizeShellArg(query);\n    const { stdout } = await execAsync(`grep -riF \"${safeQuery}\" \"${CLAUDE_LOGS_DIR}\" 2>/dev/null | head -50 || echo \"No matches\"`);\n    return { results: stdout };\n  }\n  if (name === 'claude_log_files') {\n    try {\n      const files = await readdir(CLAUDE_LOGS_DIR);\n      return { files };\n    } catch {\n      return { error: 'Could not list log files', path: CLAUDE_LOGS_DIR };\n    }\n  }\n  if (name === 'claude_session_info') {\n    try {\n      const { stdout } = await execAsync('pgrep -l -f \"Claude\" 2>/dev/null || echo \"\"');\n      const processes = stdout.trim().split('\\n').filter(Boolean);\n      return {\n        processes: processes.length,\n        details: processes,\n        configDir: CLAUDE_CONFIG_DIR,\n        logsDir: CLAUDE_LOGS_DIR\n      };\n    } catch {\n      return { processes: 0, configDir: CLAUDE_CONFIG_DIR, logsDir: CLAUDE_LOGS_DIR };\n    }\n  }\n  if (name === 'claude_background_shells') {\n    try {\n      const { stdout } = await execAsync('ps aux | grep -E \"(node|tsx).*claude\" 2>/dev/null | grep -v grep || echo \"\"');\n      const shells = stdout.trim().split('\\n').filter(Boolean);\n      return { shells, count: shells.length };\n    } catch {\n      return { shells: [], count: 0 };\n    }\n  }\n  if (name === 'claude_status') {\n    const [config, logs, processes] = await Promise.allSettled([\n      readFile(CLAUDE_CONFIG_FILE, 'utf-8').then(c => JSON.parse(c)),\n      readdir(CLAUDE_LOGS_DIR).catch(() => []),\n      execAsync('pgrep -l -f \"Claude\" 2>/dev/null || echo \"\"').then(r => r.stdout.trim().split('\\n').filter(Boolean))\n    ]);\n    return {\n      config: config.status === 'fulfilled' ? { mcpServers: Object.keys(config.value.mcpServers || {}), hasConfig: true } : { hasConfig: false },\n      logs: logs.status === 'fulfilled' ? { fileCount: logs.value.length, files: logs.value.slice(0, 10) } : { fileCount: 0 },\n      processes: processes.status === 'fulfilled' ? { count: processes.value.length, list: processes.value } : { count: 0 },\n      paths: { configDir: CLAUDE_CONFIG_DIR, configFile: CLAUDE_CONFIG_FILE, logsDir: CLAUDE_LOGS_DIR }\n    };\n  }\n  return { error: `Unknown claude tool: ${name}` };\n}\n\nasync function handleGitHubTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (!octokit) {\n    return { error: 'GitHub token not configured. Set GITHUB_TOKEN environment variable.' };\n  }\n\n  const owner = (args.owner as string) || GITHUB_DEFAULT_OWNER;\n  const repo = (args.repo as string) || GITHUB_DEFAULT_REPO;\n\n  if (!owner || !repo) {\n    return { error: 'Repository owner and name required. Set GITHUB_DEFAULT_OWNER and GITHUB_DEFAULT_REPO.' };\n  }\n\n  if (name === 'github_list_issues') {\n    const response = await octokit.issues.listForRepo({\n      owner, repo,\n      state: (args.state as 'open' | 'closed' | 'all') || 'open',\n      per_page: Math.min((args.per_page as number) || 30, 100)\n    });\n    return { issues: response.data };\n  }\n  if (name === 'github_get_issue') {\n    const response = await octokit.issues.get({ owner, repo, issue_number: args.issue_number as number });\n    return { issue: response.data };\n  }\n  if (name === 'github_create_issue') {\n    const response = await octokit.issues.create({\n      owner, repo,\n      title: args.title as string,\n      body: args.body as string,\n      labels: args.labels as string[]\n    });\n    return { issue: response.data };\n  }\n  if (name === 'github_update_issue') {\n    const response = await octokit.issues.update({\n      owner, repo,\n      issue_number: args.issue_number as number,\n      title: args.title as string,\n      body: args.body as string,\n      state: args.state as 'open' | 'closed'\n    });\n    return { issue: response.data };\n  }\n  if (name === 'github_add_comment') {\n    const response = await octokit.issues.createComment({\n      owner, repo,\n      issue_number: args.issue_number as number,\n      body: args.body as string\n    });\n    return { comment: response.data };\n  }\n  if (name === 'github_list_prs') {\n    const response = await octokit.pulls.list({\n      owner, repo,\n      state: (args.state as 'open' | 'closed' | 'all') || 'open',\n      per_page: Math.min((args.per_page as number) || 30, 100)\n    });\n    return { prs: response.data };\n  }\n  if (name === 'github_get_pr') {\n    const response = await octokit.pulls.get({ owner, repo, pull_number: args.pull_number as number });\n    return { pr: response.data };\n  }\n  if (name === 'github_create_pr') {\n    const response = await octokit.pulls.create({\n      owner, repo,\n      title: args.title as string,\n      head: args.head as string,\n      base: (args.base as string) || 'main',\n      body: args.body as string\n    });\n    return { pr: response.data };\n  }\n  if (name === 'github_merge_pr') {\n    const response = await octokit.pulls.merge({\n      owner, repo,\n      pull_number: args.pull_number as number,\n      merge_method: (args.merge_method as 'merge' | 'squash' | 'rebase') || 'squash'\n    });\n    return { merged: response.data };\n  }\n  if (name === 'github_list_labels') {\n    const response = await octokit.issues.listLabelsForRepo({ owner, repo });\n    return { labels: response.data };\n  }\n  if (name === 'github_add_labels') {\n    const response = await octokit.issues.addLabels({\n      owner, repo,\n      issue_number: args.issue_number as number,\n      labels: args.labels as string[]\n    });\n    return { labels: response.data };\n  }\n  if (name === 'github_list_milestones') {\n    const response = await octokit.issues.listMilestones({\n      owner, repo,\n      state: (args.state as 'open' | 'closed' | 'all') || 'open'\n    });\n    return { milestones: response.data };\n  }\n  if (name === 'github_list_workflows') {\n    const response = await octokit.actions.listRepoWorkflows({\n      owner, repo,\n      per_page: Math.min((args.per_page as number) || 30, 100)\n    });\n    return { workflows: response.data.workflows, total_count: response.data.total_count };\n  }\n  if (name === 'github_list_workflow_runs') {\n    const params: { owner: string; repo: string; per_page?: number; workflow_id?: number; status?: 'queued' | 'in_progress' | 'completed' } = {\n      owner, repo,\n      per_page: Math.min((args.per_page as number) || 30, 100)\n    };\n    if (args.workflow_id) params.workflow_id = parseInt(args.workflow_id as string, 10);\n    if (args.status) params.status = args.status as 'queued' | 'in_progress' | 'completed';\n    const response = await octokit.actions.listWorkflowRunsForRepo(params);\n    return { runs: response.data.workflow_runs, total_count: response.data.total_count };\n  }\n  if (name === 'github_repo_info') {\n    const response = await octokit.repos.get({ owner, repo });\n    return { repo: response.data };\n  }\n  if (name === 'github_list_releases') {\n    const response = await octokit.repos.listReleases({\n      owner, repo,\n      per_page: Math.min((args.per_page as number) || 10, 100)\n    });\n    return { releases: response.data };\n  }\n  if (name === 'github_list_branches') {\n    const response = await octokit.repos.listBranches({\n      owner, repo,\n      per_page: Math.min((args.per_page as number) || 30, 100)\n    });\n    return { branches: response.data };\n  }\n  if (name === 'github_compare_commits') {\n    const base = args.base as string;\n    const head = args.head as string;\n    const response = await octokit.repos.compareCommits({ owner, repo, base, head });\n    return {\n      ahead_by: response.data.ahead_by,\n      behind_by: response.data.behind_by,\n      total_commits: response.data.total_commits,\n      files_changed: response.data.files?.length || 0,\n      commits: response.data.commits.map(c => ({ sha: c.sha, message: c.commit.message }))\n    };\n  }\n  if (name === 'github_list_pr_reviews') {\n    const pullNumber = args.pull_number as number;\n    const response = await octokit.pulls.listReviews({ owner, repo, pull_number: pullNumber });\n    return {\n      reviews: response.data.map(r => ({\n        id: r.id,\n        user: r.user?.login,\n        state: r.state,\n        body: r.body,\n        submitted_at: r.submitted_at\n      }))\n    };\n  }\n  if (name === 'github_create_review') {\n    const pullNumber = args.pull_number as number;\n    const body = args.body as string | undefined;\n    const event = args.event as 'APPROVE' | 'REQUEST_CHANGES' | 'COMMENT' | undefined;\n    const comments = args.comments as Array<{ path: string; position?: number; body: string }> | undefined;\n    const response = await octokit.pulls.createReview({\n      owner, repo,\n      pull_number: pullNumber,\n      body,\n      event,\n      comments\n    });\n    return {\n      id: response.data.id,\n      state: response.data.state,\n      html_url: response.data.html_url\n    };\n  }\n  if (name === 'github_submit_review') {\n    const pullNumber = args.pull_number as number;\n    const reviewId = args.review_id as number;\n    const body = args.body as string | undefined;\n    const event = args.event as 'APPROVE' | 'REQUEST_CHANGES' | 'COMMENT';\n    const response = await octokit.pulls.submitReview({\n      owner, repo,\n      pull_number: pullNumber,\n      review_id: reviewId,\n      body,\n      event\n    });\n    return {\n      id: response.data.id,\n      state: response.data.state,\n      html_url: response.data.html_url\n    };\n  }\n  return { error: `Unknown github tool: ${name}` };\n}\n\n// === Society Health Check Pro (Issue #16) ===\n// === Metrics Tool Handler ===\nasync function handleMetricsTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  switch (name) {\n    case \"metrics_collect\": return await handleMetricsCollect(args as { society?: string });\n    case \"metrics_aggregate\": return await handleMetricsAggregate(args.period as string | undefined);\n    case \"metrics_query\": return await handleMetricsQuery(args as { metric_type?: string; society?: string; limit?: number });\n    case \"metrics_export\": return await handleMetricsExport((args.format as \"json\" | \"csv\") || \"json\");\n    case \"metrics_dashboard\": return await handleMetricsDashboard();\n    default: throw new Error(`Unknown metrics tool: ${name}`);\n  }\n}\n// === Bridge Tool Handler ===\nasync function handleBridgeTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  switch (name) {\n    case \"bridge_send\": return await handleBridgeSend(args as { from_society: string; to_society: string; payload: Record<string, unknown>; priority?: string });\n    case \"bridge_receive\": return await handleBridgeReceive(args as { society: string; limit?: number; acknowledge?: boolean });\n    case \"bridge_context_share\": return await handleBridgeContextShare(args as { owner_society: string; share_with: string[]; context_type: string; data: Record<string, unknown> });\n    case \"bridge_context_get\": return await handleBridgeContextGet(args as { context_id?: string; society: string });\n    case \"bridge_queue_status\": return await handleBridgeQueueStatus(args as { society?: string });\n    case \"bridge_history\": return await handleBridgeHistory(args as { society?: string; limit?: number });\n    default: throw new Error(`Unknown bridge tool: ${name}`);\n  }\n}\n// === Context Tool Handler ===\nasync function handleContextTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  switch (name) {\n    case \"context_store\": return await handleContextStore(args as { key: string; society: string; data: Record<string, unknown>; ttl?: number });\n    case \"context_get\": return await handleContextGet(args as { id?: string; key?: string; society: string });\n    case \"context_list\": return await handleContextList(args as { society: string; include_shared?: boolean });\n    case \"context_expire\": return await handleContextExpire(args as { id?: string; society: string; new_ttl?: number });\n    case \"context_share\": return await handleContextShare(args as { id?: string; society: string; share_with: string[] });\n    case \"context_search\": return await handleContextSearch(args as { society: string; query: string });\n    default: throw new Error(`Unknown context tool: ${name}`);\n  }\n}\n\nasync function handleSocietyTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  switch (name) {\n    case \"society_health_all\": return await handleSocietyHealthAll();\n    case \"society_health_single\": return await handleSocietyHealthSingle(args.society as string);\n    case \"society_agent_status\": return await handleSocietyAgentStatus(args.society as string | undefined);\n    case \"society_mcp_status\": return await handleSocietyMcpStatus();\n    case \"society_metrics_summary\": return await handleSocietyMetricsSummary();\n    default: throw new Error(`Unknown society tool: ${name}`);\n  }\n}\n\nasync function handleHealthCheck(): Promise<unknown> {\n  const [cpu, mem, disk, uptime] = await Promise.all([\n    si.currentLoad(),\n    si.mem(),\n    si.fsSize(),\n    si.time()\n  ]);\n\n  const health = {\n    status: 'healthy' as string,\n    checks: {\n      cpu: { value: cpu.currentLoad, threshold: 90, passed: cpu.currentLoad < 90 },\n      memory: { value: (mem.used / mem.total) * 100, threshold: 90, passed: (mem.used / mem.total) * 100 < 90 },\n      disk: disk.map(d => ({ mount: d.mount, value: d.use, threshold: 90, passed: d.use < 90 }))\n    },\n    uptime: uptime.uptime,\n    timestamp: new Date().toISOString()\n  };\n\n  if (!health.checks.cpu.passed || !health.checks.memory.passed) {\n    health.status = 'warning';\n  }\n  if (health.checks.disk.some(d => !d.passed)) {\n    health.status = 'warning';\n  }\n\n  return health;\n}\n\nasync function handleLinuxTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (platform() !== 'linux') {\n    return { error: 'Linux tools are only available on Linux' };\n  }\n\n  const hasSystemctl = await commandExists('systemctl');\n  if (!hasSystemctl) {\n    return { error: 'systemctl not found. This system may not use systemd.' };\n  }\n\n  if (name === 'linux_systemd_units') {\n    const unitType = sanitizeShellArg((args.type as string) || '');\n    const state = sanitizeShellArg((args.state as string) || '');\n    let cmd = 'systemctl list-units --no-pager';\n    if (unitType) cmd += ` --type=${unitType}`;\n    if (state) cmd += ` --state=${state}`;\n    try {\n      const { stdout } = await execAsync(cmd);\n      return { units: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to list units' };\n    }\n  }\n  if (name === 'linux_systemd_status') {\n    const unit = sanitizeShellArg(args.unit as string);\n    if (!unit) return { error: 'Unit name required' };\n    try {\n      const { stdout } = await execAsync(`systemctl status \"${unit}\" --no-pager 2>&1 || true`);\n      return { unit, status: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get status' };\n    }\n  }\n  if (name === 'linux_journal_search') {\n    const hasJournalctl = await commandExists('journalctl');\n    if (!hasJournalctl) {\n      return { error: 'journalctl not found' };\n    }\n    const unit = sanitizeShellArg((args.unit as string) || '');\n    const priority = sanitizeShellArg((args.priority as string) || '');\n    const since = sanitizeShellArg((args.since as string) || '');\n    const lines = Math.min(Math.max((args.lines as number) || 100, 1), 1000);\n    let cmd = `journalctl --no-pager -n ${lines}`;\n    if (unit) cmd += ` -u \"${unit}\"`;\n    if (priority) cmd += ` -p ${priority}`;\n    if (since) cmd += ` --since=\"${since}\"`;\n    try {\n      const { stdout } = await execAsync(cmd);\n      return { journal: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to search journal' };\n    }\n  }\n  return { error: `Unknown linux tool: ${name}` };\n}\n\nasync function handleWindowsTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  if (platform() !== 'win32') {\n    return { error: 'Windows tools are only available on Windows' };\n  }\n\n  if (name === 'windows_service_status') {\n    const service = sanitizeShellArg((args.service as string) || '');\n    const cmd = service\n      ? `sc query \"${service}\"`\n      : 'sc query state= all';\n    try {\n      const { stdout } = await execAsync(cmd);\n      return { services: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get service status' };\n    }\n  }\n  if (name === 'windows_eventlog_search') {\n    const log = sanitizeShellArg((args.log as string) || 'System');\n    const level = sanitizeShellArg((args.level as string) || '');\n    const source = sanitizeShellArg((args.source as string) || '');\n    const maxEvents = Math.min(Math.max((args.maxEvents as number) || 50, 1), 500);\n\n    let filter = `LogName='${log}'`;\n    if (level) {\n      const levelMap: Record<string, number> = { Error: 2, Warning: 3, Information: 4 };\n      if (levelMap[level]) filter += ` and Level=${levelMap[level]}`;\n    }\n    if (source) filter += ` and ProviderName='${source}'`;\n\n    const cmd = `powershell -Command \"Get-WinEvent -FilterHashtable @{${filter}} -MaxEvents ${maxEvents} | Select-Object TimeCreated,LevelDisplayName,ProviderName,Message | ConvertTo-Json\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      return { events: stdout ? JSON.parse(stdout) : [] };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to search event log' };\n    }\n  }\n  return { error: `Unknown windows tool: ${name}` };\n}\n\n// ========== Docker Handler ==========\nasync function handleDockerTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const hasDocker = await commandExists('docker');\n  if (!hasDocker) {\n    return { error: 'Docker is not installed or not in PATH' };\n  }\n\n  if (name === 'docker_ps') {\n    const all = args.all as boolean;\n    const limit = Math.min(Math.max((args.limit as number) || 100, 1), 500);\n    let cmd = `docker ps --format \"{{json .}}\"`;\n    if (all) cmd = `docker ps -a --format \"{{json .}}\"`;\n    cmd += ` -n ${limit}`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      const containers = stdout.trim().split('\\n').filter(Boolean).map(line => JSON.parse(line));\n      return { containers, count: containers.length };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to list containers' };\n    }\n  }\n\n  if (name === 'docker_images') {\n    const all = args.all as boolean;\n    const dangling = args.dangling as boolean;\n    let cmd = `docker images --format \"{{json .}}\"`;\n    if (all) cmd += ' -a';\n    if (dangling) cmd = `docker images -f \"dangling=true\" --format \"{{json .}}\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      const images = stdout.trim().split('\\n').filter(Boolean).map(line => JSON.parse(line));\n      return { images, count: images.length };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to list images' };\n    }\n  }\n\n  if (name === 'docker_logs') {\n    const container = sanitizeShellArg(args.container as string);\n    if (!container) return { error: 'Container name/id required' };\n    const tail = Math.min(Math.max((args.tail as number) || 100, 1), 10000);\n    const timestamps = args.timestamps as boolean;\n    const since = sanitizeShellArg((args.since as string) || '');\n    let cmd = `docker logs --tail ${tail}`;\n    if (timestamps) cmd += ' --timestamps';\n    if (since) cmd += ` --since \"${since}\"`;\n    cmd += ` \"${container}\"`;\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 60000 });\n      return { logs: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get logs' };\n    }\n  }\n\n  if (name === 'docker_inspect') {\n    const target = sanitizeShellArg(args.target as string);\n    if (!target) return { error: 'Target (container/image) required' };\n    const type = args.type as string || 'container';\n    const cmd = type === 'image' ? `docker image inspect \"${target}\"` : `docker inspect \"${target}\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      return { inspect: JSON.parse(stdout) };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to inspect' };\n    }\n  }\n\n  if (name === 'docker_stats') {\n    const container = sanitizeShellArg((args.container as string) || '');\n    const cmd = container\n      ? `docker stats --no-stream --format \"{{json .}}\" \"${container}\"`\n      : `docker stats --no-stream --format \"{{json .}}\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      const stats = stdout.trim().split('\\n').filter(Boolean).map(line => JSON.parse(line));\n      return { stats };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get stats' };\n    }\n  }\n\n  if (name === 'docker_exec') {\n    const container = sanitizeShellArg(args.container as string);\n    const command = sanitizeShellArg(args.command as string);\n    const user = sanitizeShellArg((args.user as string) || '');\n    if (!container || !command) return { error: 'Container and command required' };\n    let cmd = `docker exec`;\n    if (user) cmd += ` -u \"${user}\"`;\n    cmd += ` \"${container}\" ${command}`;\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 60000 });\n      return { output: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to exec' };\n    }\n  }\n\n  if (name === 'docker_start') {\n    const container = sanitizeShellArg(args.container as string);\n    if (!container) return { error: 'Container name/id required' };\n    try {\n      await execAsync(`docker start \"${container}\"`, { timeout: 30000 });\n      return { success: true, message: `Container ${container} started` };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to start container' };\n    }\n  }\n\n  if (name === 'docker_stop') {\n    const container = sanitizeShellArg(args.container as string);\n    if (!container) return { error: 'Container name/id required' };\n    const timeout = Math.min(Math.max((args.timeout as number) || 10, 1), 300);\n    try {\n      await execAsync(`docker stop -t ${timeout} \"${container}\"`, { timeout: (timeout + 10) * 1000 });\n      return { success: true, message: `Container ${container} stopped` };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to stop container' };\n    }\n  }\n\n  if (name === 'docker_restart') {\n    const container = sanitizeShellArg(args.container as string);\n    if (!container) return { error: 'Container name/id required' };\n    const timeout = Math.min(Math.max((args.timeout as number) || 10, 1), 300);\n    try {\n      await execAsync(`docker restart -t ${timeout} \"${container}\"`, { timeout: (timeout + 20) * 1000 });\n      return { success: true, message: `Container ${container} restarted` };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to restart container' };\n    }\n  }\n\n  if (name === 'docker_build') {\n    const path = sanitizeShellArg((args.path as string) || '.');\n    const tag = sanitizeShellArg((args.tag as string) || '');\n    const dockerfile = sanitizeShellArg((args.dockerfile as string) || '');\n    const noCache = args.noCache as boolean;\n    let cmd = `docker build`;\n    if (tag) cmd += ` -t \"${tag}\"`;\n    if (dockerfile) cmd += ` -f \"${dockerfile}\"`;\n    if (noCache) cmd += ' --no-cache';\n    cmd += ` \"${path}\"`;\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 600000 }); // 10 min timeout for builds\n      return { success: true, output: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Build failed' };\n    }\n  }\n\n  return { error: `Unknown docker tool: ${name}` };\n}\n\n// ========== Docker Compose Handler ==========\nasync function handleComposeTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // Check for docker compose (v2) or docker-compose (v1)\n  let composeCmd = 'docker compose';\n  const hasComposeV2 = await commandExists('docker');\n  if (!hasComposeV2) {\n    const hasComposeV1 = await commandExists('docker-compose');\n    if (!hasComposeV1) {\n      return { error: 'Docker Compose is not installed' };\n    }\n    composeCmd = 'docker-compose';\n  }\n\n  const composePath = sanitizeShellArg((args.path as string) || '');\n  const pathArg = composePath ? ` -f \"${composePath}\"` : '';\n\n  if (name === 'compose_ps') {\n    const all = args.all as boolean;\n    let cmd = `${composeCmd}${pathArg} ps --format json`;\n    if (all) cmd += ' -a';\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      // docker compose ps --format json returns JSONL\n      const services = stdout.trim().split('\\n').filter(Boolean).map(line => {\n        try { return JSON.parse(line); } catch { return { raw: line }; }\n      });\n      return { services, count: services.length };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to list services' };\n    }\n  }\n\n  if (name === 'compose_up') {\n    const services = (args.services as string[]) || [];\n    const detach = args.detach !== false; // default true\n    const build = args.build as boolean;\n    let cmd = `${composeCmd}${pathArg} up`;\n    if (detach) cmd += ' -d';\n    if (build) cmd += ' --build';\n    if (services.length > 0) {\n      cmd += ' ' + services.map(s => sanitizeShellArg(s)).join(' ');\n    }\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 300000 }); // 5 min\n      return { success: true, output: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to start services' };\n    }\n  }\n\n  if (name === 'compose_down') {\n    const volumes = args.volumes as boolean;\n    const removeOrphans = args.removeOrphans as boolean;\n    let cmd = `${composeCmd}${pathArg} down`;\n    if (volumes) cmd += ' -v';\n    if (removeOrphans) cmd += ' --remove-orphans';\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 120000 });\n      return { success: true, output: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to stop services' };\n    }\n  }\n\n  if (name === 'compose_logs') {\n    const services = (args.services as string[]) || [];\n    const tail = Math.min(Math.max((args.tail as number) || 100, 1), 5000);\n    const timestamps = args.timestamps as boolean;\n    let cmd = `${composeCmd}${pathArg} logs --tail ${tail}`;\n    if (timestamps) cmd += ' --timestamps';\n    if (services.length > 0) {\n      cmd += ' ' + services.map(s => sanitizeShellArg(s)).join(' ');\n    }\n    try {\n      const { stdout, stderr } = await execAsync(cmd, { timeout: 60000 });\n      return { logs: stdout || stderr };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get logs' };\n    }\n  }\n\n  return { error: `Unknown compose tool: ${name}` };\n}\n\n// ========== Kubernetes Handler ==========\nasync function handleK8sTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const hasKubectl = await commandExists('kubectl');\n  if (!hasKubectl) {\n    return { error: 'kubectl is not installed or not in PATH' };\n  }\n\n  const namespace = sanitizeShellArg((args.namespace as string) || '');\n  const nsArg = namespace ? ` -n \"${namespace}\"` : '';\n  const allNsArg = args.allNamespaces ? ' --all-namespaces' : '';\n\n  if (name === 'k8s_get_pods') {\n    const selector = sanitizeShellArg((args.selector as string) || '');\n    let cmd = `kubectl get pods${nsArg}${allNsArg} -o json`;\n    if (selector) cmd = `kubectl get pods${nsArg}${allNsArg} -l \"${selector}\" -o json`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      const result = JSON.parse(stdout);\n      return { pods: result.items || [], count: (result.items || []).length };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get pods' };\n    }\n  }\n\n  if (name === 'k8s_get_deployments') {\n    const cmd = `kubectl get deployments${nsArg}${allNsArg} -o json`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      const result = JSON.parse(stdout);\n      return { deployments: result.items || [], count: (result.items || []).length };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get deployments' };\n    }\n  }\n\n  if (name === 'k8s_logs') {\n    const pod = sanitizeShellArg(args.pod as string);\n    if (!pod) return { error: 'Pod name required' };\n    const container = sanitizeShellArg((args.container as string) || '');\n    const tail = Math.min(Math.max((args.tail as number) || 100, 1), 10000);\n    const since = sanitizeShellArg((args.since as string) || '');\n    let cmd = `kubectl logs${nsArg} \"${pod}\" --tail=${tail}`;\n    if (container) cmd += ` -c \"${container}\"`;\n    if (since) cmd += ` --since=\"${since}\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 60000 });\n      return { logs: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get logs' };\n    }\n  }\n\n  if (name === 'k8s_describe') {\n    const resource = sanitizeShellArg(args.resource as string);\n    const resourceName = sanitizeShellArg(args.name as string);\n    if (!resource || !resourceName) return { error: 'Resource type and name required' };\n    const cmd = `kubectl describe ${resource}${nsArg} \"${resourceName}\"`;\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 30000 });\n      return { description: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to describe resource' };\n    }\n  }\n\n  if (name === 'k8s_apply') {\n    const file = sanitizeShellArg(args.file as string);\n    if (!file) return { error: 'Manifest file path required' };\n    const dryRun = args.dryRun as boolean;\n    let cmd = `kubectl apply${nsArg} -f \"${file}\"`;\n    if (dryRun) cmd += ' --dry-run=client';\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 60000 });\n      return { success: true, output: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to apply manifest' };\n    }\n  }\n\n  if (name === 'k8s_delete') {\n    const resource = sanitizeShellArg(args.resource as string);\n    const resourceName = sanitizeShellArg(args.name as string);\n    if (!resource || !resourceName) return { error: 'Resource type and name required' };\n    const dryRun = args.dryRun as boolean;\n    let cmd = `kubectl delete ${resource}${nsArg} \"${resourceName}\"`;\n    if (dryRun) cmd += ' --dry-run=client';\n    try {\n      const { stdout } = await execAsync(cmd, { timeout: 60000 });\n      return { success: true, output: stdout };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to delete resource' };\n    }\n  }\n\n  return { error: `Unknown k8s tool: ${name}` };\n}\n\n// ========== Spec-Kit Handler ==========\nasync function handleSpeckitTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const projectPath = (args.path as string) || MIYABI_REPO_PATH;\n  const safePath = sanitizePath(projectPath, '.');\n  const speckitDir = join(safePath, '.speckit');\n  const specsDir = join(safePath, 'specs');\n\n  // speckit_init - Initialize Spec-Kit in project\n  if (name === 'speckit_init') {\n    try {\n      const { mkdir, writeFile } = await import('fs/promises');\n\n      // Create .speckit directory structure\n      await mkdir(speckitDir, { recursive: true });\n      await mkdir(join(speckitDir, 'templates'), { recursive: true });\n      await mkdir(specsDir, { recursive: true });\n\n      // Create default constitution.md\n      const constitutionPath = join(safePath, 'memory', 'constitution.md');\n      const memoryDir = join(safePath, 'memory');\n      if (!existsSync(constitutionPath)) {\n        await mkdir(memoryDir, { recursive: true });\n        await writeFile(constitutionPath, `# Project Constitution\n\n## Core Principles\n1. Code quality over speed\n2. User experience first\n3. Security by design\n4. Test coverage required\n\n## Technology Choices\n- Prefer TypeScript for type safety\n- Use established patterns\n- Document decisions\n\n## Constraints\n- No breaking changes without migration path\n- All public APIs require documentation\n`);\n      }\n\n      // Create spec template\n      const templatePath = join(speckitDir, 'templates', 'spec-template.md');\n      await writeFile(templatePath, `# Feature: [FEATURE_NAME]\n\n## Summary\nBrief description of the feature.\n\n## User Stories\n- As a [user type], I want to [action] so that [benefit]\n\n## Functional Requirements\n1. [Requirement 1]\n2. [Requirement 2]\n\n## Success Criteria\n- [ ] Criterion 1\n- [ ] Criterion 2\n\n## Assumptions\n- [Assumption 1]\n\n## Dependencies\n- [Dependency 1]\n`);\n\n      return {\n        success: true,\n        message: 'Spec-Kit initialized',\n        created: [\n          speckitDir,\n          join(speckitDir, 'templates'),\n          specsDir,\n          memoryDir,\n          constitutionPath,\n          templatePath\n        ]\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to initialize Spec-Kit' };\n    }\n  }\n\n  // speckit_status - Get project status\n  if (name === 'speckit_status') {\n    const status = {\n      initialized: existsSync(speckitDir),\n      hasConstitution: existsSync(join(safePath, 'memory', 'constitution.md')),\n      hasSpecs: existsSync(specsDir),\n      features: [] as string[]\n    };\n\n    if (existsSync(specsDir)) {\n      try {\n        const entries = await readdir(specsDir, { withFileTypes: true });\n        status.features = entries\n          .filter(e => e.isDirectory())\n          .map(e => e.name);\n      } catch { /* ignore */ }\n    }\n\n    return status;\n  }\n\n  // speckit_constitution - Read or update constitution\n  if (name === 'speckit_constitution') {\n    const constitutionPath = join(safePath, 'memory', 'constitution.md');\n    const content = args.content as string | undefined;\n\n    if (content) {\n      // Update constitution\n      try {\n        const { writeFile, mkdir } = await import('fs/promises');\n        await mkdir(join(safePath, 'memory'), { recursive: true });\n        await writeFile(constitutionPath, content);\n        return { success: true, message: 'Constitution updated' };\n      } catch (error) {\n        return { error: error instanceof Error ? error.message : 'Failed to update constitution' };\n      }\n    } else {\n      // Read constitution\n      if (!existsSync(constitutionPath)) {\n        return { error: 'Constitution not found. Run speckit_init first.' };\n      }\n      const constitutionContent = await readFile(constitutionPath, 'utf-8');\n      return { content: constitutionContent };\n    }\n  }\n\n  // speckit_specify - Create feature specification\n  if (name === 'speckit_specify') {\n    const feature = args.feature as string;\n    if (!feature) return { error: 'Feature description required' };\n\n    // Generate short name from feature description\n    const shortName = feature\n      .toLowerCase()\n      .replace(/[^a-z0-9\\s-]/g, '')\n      .trim()\n      .split(/\\s+/)\n      .slice(0, 4)\n      .join('-');\n\n    // Find next available number\n    let nextNum = 1;\n    if (existsSync(specsDir)) {\n      try {\n        const entries = await readdir(specsDir, { withFileTypes: true });\n        const numbers = entries\n          .filter(e => e.isDirectory())\n          .map(e => parseInt(e.name.split('-')[0], 10))\n          .filter(n => !isNaN(n));\n        if (numbers.length > 0) {\n          nextNum = Math.max(...numbers) + 1;\n        }\n      } catch { /* ignore */ }\n    }\n\n    const featureDir = join(specsDir, `${nextNum}-${shortName}`);\n    const specFile = join(featureDir, 'spec.md');\n\n    try {\n      const { mkdir, writeFile } = await import('fs/promises');\n      await mkdir(featureDir, { recursive: true });\n      await mkdir(join(featureDir, 'checklists'), { recursive: true });\n\n      const specContent = `# Feature: ${feature}\n\n## Summary\n${feature}\n\n## User Stories\n- As a user, I want to ${feature.toLowerCase()} so that I can accomplish my goal\n\n## Functional Requirements\n1. [NEEDS CLARIFICATION: Define primary requirement]\n\n## Success Criteria\n- [ ] Feature is implemented and tested\n- [ ] Documentation is updated\n\n## Assumptions\n- Standard project setup\n\n## Dependencies\n- None identified yet\n`;\n\n      await writeFile(specFile, specContent);\n\n      return {\n        success: true,\n        featureId: `${nextNum}-${shortName}`,\n        featureDir,\n        specFile,\n        message: `Feature specification created: ${nextNum}-${shortName}`\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to create specification' };\n    }\n  }\n\n  // speckit_plan - Generate implementation plan\n  if (name === 'speckit_plan') {\n    const feature = args.feature as string;\n    if (!feature) return { error: 'Feature name/id required' };\n\n    // Find feature directory\n    let featureDir: string | null = null;\n    if (existsSync(specsDir)) {\n      const entries = await readdir(specsDir, { withFileTypes: true });\n      const match = entries.find(e =>\n        e.isDirectory() && e.name.includes(feature.toLowerCase().replace(/\\s+/g, '-'))\n      );\n      if (match) featureDir = join(specsDir, match.name);\n    }\n\n    if (!featureDir || !existsSync(featureDir)) {\n      return { error: `Feature not found: ${feature}. Run speckit_specify first.` };\n    }\n\n    const specFile = join(featureDir, 'spec.md');\n    if (!existsSync(specFile)) {\n      return { error: 'Spec file not found in feature directory' };\n    }\n\n    const planFile = join(featureDir, 'plan.md');\n\n    try {\n      const { writeFile } = await import('fs/promises');\n\n      const planContent = `# Implementation Plan\n\n## Feature\n${feature}\n\n## Technical Context\n- **Framework**: [To be determined]\n- **Dependencies**: [To be determined]\n\n## Phase 0: Research\n- [ ] Review existing codebase patterns\n- [ ] Identify integration points\n- [ ] Resolve NEEDS CLARIFICATION items\n\n## Phase 1: Design\n- [ ] Create data model\n- [ ] Define API contracts\n- [ ] Plan test strategy\n\n## Phase 2: Implementation\n- [ ] Implement core functionality\n- [ ] Add tests\n- [ ] Update documentation\n\n## Constitution Check\n- [ ] Follows project principles\n- [ ] Security considered\n- [ ] Test coverage planned\n\n## Generated from\n\\`\\`\\`\n${specFile}\n\\`\\`\\`\n`;\n\n      await writeFile(planFile, planContent);\n\n      return {\n        success: true,\n        planFile,\n        message: `Implementation plan created: ${planFile}`\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to create plan' };\n    }\n  }\n\n  // speckit_tasks - Generate task list\n  if (name === 'speckit_tasks') {\n    const feature = args.feature as string;\n    if (!feature) return { error: 'Feature name/id required' };\n\n    // Find feature directory\n    let featureDir: string | null = null;\n    if (existsSync(specsDir)) {\n      const entries = await readdir(specsDir, { withFileTypes: true });\n      const match = entries.find(e =>\n        e.isDirectory() && e.name.includes(feature.toLowerCase().replace(/\\s+/g, '-'))\n      );\n      if (match) featureDir = join(specsDir, match.name);\n    }\n\n    if (!featureDir) {\n      return { error: `Feature not found: ${feature}` };\n    }\n\n    const planFile = join(featureDir, 'plan.md');\n    if (!existsSync(planFile)) {\n      return { error: 'Plan file not found. Run speckit_plan first.' };\n    }\n\n    const tasksFile = join(featureDir, 'tasks.md');\n\n    try {\n      const { writeFile } = await import('fs/promises');\n\n      const tasksContent = `# Tasks: ${feature}\n\n## Phase 1: Setup\n- [ ] T001 Create project structure per implementation plan\n- [ ] T002 Install required dependencies\n\n## Phase 2: Foundation\n- [ ] T003 Set up base infrastructure\n- [ ] T004 Create initial configuration\n\n## Phase 3: Implementation\n- [ ] T005 [P] Implement core functionality\n- [ ] T006 [P] Add unit tests\n- [ ] T007 Integration testing\n\n## Phase 4: Polish\n- [ ] T008 Update documentation\n- [ ] T009 Code review and cleanup\n- [ ] T010 Final testing\n\n## Dependencies\n- T003 depends on T001, T002\n- T005, T006 can run in parallel after T004\n- T008 depends on T005, T006, T007\n\n## Notes\n- [P] indicates parallelizable tasks\n- Task IDs follow sequential order\n`;\n\n      await writeFile(tasksFile, tasksContent);\n\n      return {\n        success: true,\n        tasksFile,\n        taskCount: 10,\n        message: `Task list created: ${tasksFile}`\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to create tasks' };\n    }\n  }\n\n  // speckit_checklist - Create implementation checklist\n  if (name === 'speckit_checklist') {\n    const feature = args.feature as string;\n    if (!feature) return { error: 'Feature name/id required' };\n\n    // Find feature directory\n    let featureDir: string | null = null;\n    if (existsSync(specsDir)) {\n      const entries = await readdir(specsDir, { withFileTypes: true });\n      const match = entries.find(e =>\n        e.isDirectory() && e.name.includes(feature.toLowerCase().replace(/\\s+/g, '-'))\n      );\n      if (match) featureDir = join(specsDir, match.name);\n    }\n\n    if (!featureDir) {\n      return { error: `Feature not found: ${feature}` };\n    }\n\n    const checklistDir = join(featureDir, 'checklists');\n    const checklistFile = join(checklistDir, 'requirements.md');\n\n    try {\n      const { writeFile, mkdir } = await import('fs/promises');\n      await mkdir(checklistDir, { recursive: true });\n\n      const checklistContent = `# Specification Quality Checklist: ${feature}\n\n**Purpose**: Validate specification completeness and quality before proceeding to planning\n**Created**: ${new Date().toISOString().split('T')[0]}\n**Feature**: [specs/${feature}/spec.md]\n\n## Content Quality\n\n- [ ] No implementation details (languages, frameworks, APIs)\n- [ ] Focused on user value and business needs\n- [ ] Written for non-technical stakeholders\n- [ ] All mandatory sections completed\n\n## Requirement Completeness\n\n- [ ] No [NEEDS CLARIFICATION] markers remain\n- [ ] Requirements are testable and unambiguous\n- [ ] Success criteria are measurable\n- [ ] Success criteria are technology-agnostic (no implementation details)\n- [ ] All acceptance scenarios are defined\n- [ ] Edge cases are identified\n- [ ] Scope is clearly bounded\n- [ ] Dependencies and assumptions identified\n\n## Feature Readiness\n\n- [ ] All functional requirements have clear acceptance criteria\n- [ ] User scenarios cover primary flows\n- [ ] Feature meets measurable outcomes defined in Success Criteria\n- [ ] No implementation details leak into specification\n\n## Notes\n\n- Items marked incomplete require spec updates before /speckit.clarify or /speckit.plan\n`;\n\n      await writeFile(checklistFile, checklistContent);\n\n      return {\n        success: true,\n        checklistFile,\n        message: `Checklist created: ${checklistFile}`\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to create checklist' };\n    }\n  }\n\n  // speckit_analyze - Analyze project consistency\n  if (name === 'speckit_analyze') {\n    const analysis = {\n      projectPath: safePath,\n      speckit: {\n        initialized: existsSync(speckitDir),\n        hasTemplates: existsSync(join(speckitDir, 'templates'))\n      },\n      constitution: {\n        exists: existsSync(join(safePath, 'memory', 'constitution.md'))\n      },\n      features: [] as Array<{\n        id: string;\n        hasSpec: boolean;\n        hasPlan: boolean;\n        hasTasks: boolean;\n        hasChecklist: boolean;\n      }>\n    };\n\n    if (existsSync(specsDir)) {\n      const entries = await readdir(specsDir, { withFileTypes: true });\n      for (const entry of entries) {\n        if (entry.isDirectory()) {\n          const featurePath = join(specsDir, entry.name);\n          analysis.features.push({\n            id: entry.name,\n            hasSpec: existsSync(join(featurePath, 'spec.md')),\n            hasPlan: existsSync(join(featurePath, 'plan.md')),\n            hasTasks: existsSync(join(featurePath, 'tasks.md')),\n            hasChecklist: existsSync(join(featurePath, 'checklists', 'requirements.md'))\n          });\n        }\n      }\n    }\n\n    const issues: string[] = [];\n    if (!analysis.speckit.initialized) {\n      issues.push('Spec-Kit not initialized. Run speckit_init.');\n    }\n    if (!analysis.constitution.exists) {\n      issues.push('Constitution missing. Run speckit_init or speckit_constitution.');\n    }\n    for (const f of analysis.features) {\n      if (!f.hasSpec) issues.push(`Feature ${f.id} missing spec.md`);\n      if (f.hasSpec && !f.hasPlan) issues.push(`Feature ${f.id} has spec but no plan`);\n    }\n\n    return {\n      ...analysis,\n      issues,\n      isConsistent: issues.length === 0\n    };\n  }\n\n  // speckit_list_features - List all features\n  if (name === 'speckit_list_features') {\n    if (!existsSync(specsDir)) {\n      return { features: [], message: 'No specs directory found. Run speckit_init.' };\n    }\n\n    const entries = await readdir(specsDir, { withFileTypes: true });\n    const features = await Promise.all(\n      entries\n        .filter(e => e.isDirectory())\n        .map(async (e) => {\n          const featurePath = join(specsDir, e.name);\n          const specFile = join(featurePath, 'spec.md');\n          let summary = '';\n\n          if (existsSync(specFile)) {\n            const content = await readFile(specFile, 'utf-8');\n            const summaryMatch = content.match(/## Summary\\n([^\\n]+)/);\n            if (summaryMatch) summary = summaryMatch[1].trim();\n          }\n\n          return {\n            id: e.name,\n            summary,\n            hasSpec: existsSync(specFile),\n            hasPlan: existsSync(join(featurePath, 'plan.md')),\n            hasTasks: existsSync(join(featurePath, 'tasks.md'))\n          };\n        })\n    );\n\n    return { features, count: features.length };\n  }\n\n  return { error: `Unknown speckit tool: ${name}` };\n}\n\n// ========== MCP Tool Discovery Handler ==========\nasync function handleMcpTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // mcp_search_tools - Search tools by name or description\n  if (name === 'mcp_search_tools') {\n    const query = (args.query as string || '').toLowerCase();\n    const category = (args.category as string || '').toLowerCase();\n\n    let results = tools;\n\n    // Filter by category prefix\n    if (category) {\n      results = results.filter(t => t.name.toLowerCase().startsWith(category));\n    }\n\n    // Filter by query (matches name or description)\n    if (query) {\n      results = results.filter(t =>\n        t.name.toLowerCase().includes(query) ||\n        (t.description && t.description.toLowerCase().includes(query))\n      );\n    }\n\n    return {\n      query,\n      category: category || 'all',\n      count: results.length,\n      tools: results.map(t => ({\n        name: t.name,\n        description: t.description\n      }))\n    };\n  }\n\n  // mcp_list_categories - List all categories with counts\n  if (name === 'mcp_list_categories') {\n    const categories: Record<string, { count: number; description: string }> = {};\n\n    const categoryDescriptions: Record<string, string> = {\n      git: 'Git version control operations',\n      tmux: 'Terminal multiplexer management',\n      log: 'Log file analysis and search',\n      resource: 'System resource monitoring (CPU, memory, disk)',\n      network: 'Network inspection and diagnostics',\n      process: 'Process management and monitoring',\n      file: 'File system operations and watching',\n      claude: 'Claude Code session management',\n      github: 'GitHub API integration (issues, PRs, workflows)',\n      linux: 'Linux systemd service management',\n      windows: 'Windows service and event log',\n      docker: 'Docker container management',\n      compose: 'Docker Compose orchestration',\n      k8s: 'Kubernetes cluster management',\n      speckit: 'Spec-Driven Development workflow',\n      mcp: 'MCP tool discovery and search',\n      health: 'System health check',\n      db: 'Database operations (SQLite, PostgreSQL, MySQL)',\n      time: 'Time and timezone utilities',\n      calc: 'Mathematical calculations and conversions',\n      think: 'Sequential reasoning and thought chains',\n      gen: 'Data generators (UUID, password, hash)'\n    };\n\n    for (const tool of tools) {\n      const prefix = tool.name.split('_')[0];\n      if (!categories[prefix]) {\n        categories[prefix] = {\n          count: 0,\n          description: categoryDescriptions[prefix] || 'Miscellaneous tools'\n        };\n      }\n      categories[prefix].count++;\n    }\n\n    const sortedCategories = Object.entries(categories)\n      .sort((a, b) => b[1].count - a[1].count)\n      .map(([name, info]) => ({\n        category: name,\n        ...info\n      }));\n\n    return {\n      totalTools: tools.length,\n      categoryCount: sortedCategories.length,\n      categories: sortedCategories\n    };\n  }\n\n  // mcp_get_tool_info - Get detailed info about a specific tool\n  if (name === 'mcp_get_tool_info') {\n    const toolName = args.tool as string;\n    if (!toolName) return { error: 'Tool name required' };\n\n    const tool = tools.find(t => t.name === toolName);\n    if (!tool) {\n      // Try fuzzy match\n      const matches = tools.filter(t =>\n        t.name.toLowerCase().includes(toolName.toLowerCase())\n      );\n      if (matches.length > 0) {\n        return {\n          error: `Tool '${toolName}' not found`,\n          suggestions: matches.slice(0, 5).map(t => t.name)\n        };\n      }\n      return { error: `Tool '${toolName}' not found` };\n    }\n\n    // Parse schema for parameters\n    const schema = tool.inputSchema as {\n      properties?: Record<string, { type: string; description?: string; enum?: string[] }>;\n      required?: string[];\n    };\n\n    const parameters = schema.properties\n      ? Object.entries(schema.properties).map(([name, prop]) => ({\n          name,\n          type: prop.type,\n          description: prop.description || '',\n          required: schema.required?.includes(name) || false,\n          enum: prop.enum\n        }))\n      : [];\n\n    return {\n      name: tool.name,\n      description: tool.description,\n      category: tool.name.split('_')[0],\n      parameters,\n      requiredParams: schema.required || [],\n      example: `Call with: { ${parameters.map(p => `\"${p.name}\": ${p.type === 'string' ? '\"value\"' : p.type === 'number' ? '123' : p.type === 'boolean' ? 'true' : '...'}`).join(', ')} }`\n    };\n  }\n\n  return { error: `Unknown mcp tool: ${name}` };\n}\n\n// ========== Database Foundation Handler ==========\ninterface DbConnectionArgs {\n  type: 'sqlite' | 'postgresql' | 'mysql';\n  connection?: string;\n  host?: string;\n  port?: number;\n  database?: string;\n  user?: string;\n  password?: string;\n}\n\nfunction buildDbCommand(args: DbConnectionArgs, sqlCommand: string): { cmd: string; env?: Record<string, string> } {\n  const { type, connection, host, port, database, user, password } = args;\n\n  switch (type) {\n    case 'sqlite': {\n      const dbPath = sanitizeShellArg(connection || ':memory:');\n      return { cmd: `sqlite3 -json \"${dbPath}\" \"${sqlCommand}\"` };\n    }\n    case 'postgresql': {\n      const pgHost = sanitizeShellArg(host || 'localhost');\n      const pgPort = port || 5432;\n      const pgDb = sanitizeShellArg(database || 'postgres');\n      const pgUser = sanitizeShellArg(user || 'postgres');\n      const env: Record<string, string> = {};\n      if (password) env.PGPASSWORD = password;\n      return {\n        cmd: `psql -h \"${pgHost}\" -p ${pgPort} -U \"${pgUser}\" -d \"${pgDb}\" -t -A -c \"${sqlCommand}\"`,\n        env\n      };\n    }\n    case 'mysql': {\n      const myHost = sanitizeShellArg(host || 'localhost');\n      const myPort = port || 3306;\n      const myDb = sanitizeShellArg(database || '');\n      const myUser = sanitizeShellArg(user || 'root');\n      const dbFlag = myDb ? `-D \"${myDb}\"` : '';\n      const passFlag = password ? `-p\"${sanitizeShellArg(password)}\"` : '';\n      return {\n        cmd: `mysql -h \"${myHost}\" -P ${myPort} -u \"${myUser}\" ${passFlag} ${dbFlag} -N -e \"${sqlCommand}\"`\n      };\n    }\n    default:\n      throw new Error(`Unsupported database type: ${type}`);\n  }\n}\n\nasync function handleDbTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  const dbArgs = args as unknown as DbConnectionArgs;\n  const dbType = dbArgs.type;\n\n  if (!dbType) {\n    return { error: 'Database type required (sqlite, postgresql, mysql)' };\n  }\n\n  // Check if CLI tool exists\n  const cliTool = dbType === 'sqlite' ? 'sqlite3' : dbType === 'postgresql' ? 'psql' : 'mysql';\n  if (!await commandExists(cliTool)) {\n    return { error: `${cliTool} CLI not found. Install ${dbType} client tools.` };\n  }\n\n  // db_connect - Test connection\n  if (name === 'db_connect') {\n    try {\n      const testQuery = dbType === 'sqlite' ? 'SELECT 1' :\n        dbType === 'postgresql' ? 'SELECT 1' : 'SELECT 1';\n      const { cmd, env } = buildDbCommand(dbArgs, testQuery);\n      const { stdout } = await execAsync(cmd, { timeout: 10000, env: { ...process.env, ...env } });\n      return {\n        success: true,\n        type: dbType,\n        message: `Connected to ${dbType} successfully`,\n        result: stdout.trim()\n      };\n    } catch (error) {\n      return {\n        success: false,\n        type: dbType,\n        error: error instanceof Error ? error.message : 'Connection failed'\n      };\n    }\n  }\n\n  // db_tables - List tables\n  if (name === 'db_tables') {\n    try {\n      let query: string;\n      switch (dbType) {\n        case 'sqlite':\n          query = \"SELECT name FROM sqlite_master WHERE type='table' ORDER BY name\";\n          break;\n        case 'postgresql':\n          query = \"SELECT tablename FROM pg_tables WHERE schemaname = 'public' ORDER BY tablename\";\n          break;\n        case 'mysql':\n          query = 'SHOW TABLES';\n          break;\n      }\n      const { cmd, env } = buildDbCommand(dbArgs, query);\n      const { stdout } = await execAsync(cmd, { timeout: 30000, env: { ...process.env, ...env } });\n\n      const tables = stdout.trim().split('\\n').filter(Boolean);\n      return {\n        type: dbType,\n        count: tables.length,\n        tables\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to list tables' };\n    }\n  }\n\n  // db_schema - Get table schema\n  if (name === 'db_schema') {\n    const table = sanitizeShellArg(args.table as string);\n    if (!table) return { error: 'Table name required' };\n\n    try {\n      let query: string;\n      switch (dbType) {\n        case 'sqlite':\n          query = `PRAGMA table_info(${table})`;\n          break;\n        case 'postgresql':\n          query = `SELECT column_name, data_type, is_nullable, column_default FROM information_schema.columns WHERE table_name = '${table}' ORDER BY ordinal_position`;\n          break;\n        case 'mysql':\n          query = `DESCRIBE ${table}`;\n          break;\n      }\n      const { cmd, env } = buildDbCommand(dbArgs, query);\n      const { stdout } = await execAsync(cmd, { timeout: 30000, env: { ...process.env, ...env } });\n\n      return {\n        type: dbType,\n        table,\n        schema: stdout.trim()\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Failed to get schema' };\n    }\n  }\n\n  // db_query - Execute SELECT query\n  if (name === 'db_query') {\n    const query = args.query as string;\n    if (!query) return { error: 'Query required' };\n\n    // Security: Only allow SELECT queries\n    const upperQuery = query.trim().toUpperCase();\n    if (!upperQuery.startsWith('SELECT') && !upperQuery.startsWith('WITH')) {\n      return { error: 'Only SELECT queries allowed (read-only). Use SELECT or WITH...SELECT.' };\n    }\n\n    // Block dangerous patterns\n    const dangerousPatterns = [\n      /;\\s*(DROP|DELETE|UPDATE|INSERT|ALTER|CREATE|TRUNCATE|GRANT|REVOKE)/i,\n      /INTO\\s+OUTFILE/i,\n      /INTO\\s+DUMPFILE/i,\n      /LOAD_FILE/i\n    ];\n    for (const pattern of dangerousPatterns) {\n      if (pattern.test(query)) {\n        return { error: 'Query contains blocked pattern' };\n      }\n    }\n\n    const limit = Math.min(Math.max((args.limit as number) || 100, 1), 1000);\n    let limitedQuery = query;\n    if (!upperQuery.includes('LIMIT')) {\n      limitedQuery = `${query.replace(/;?\\s*$/, '')} LIMIT ${limit}`;\n    }\n\n    try {\n      const { cmd, env } = buildDbCommand(dbArgs, sanitizeShellArg(limitedQuery));\n      const { stdout } = await execAsync(cmd, { timeout: 60000, env: { ...process.env, ...env } });\n\n      const rows = stdout.trim().split('\\n').filter(Boolean);\n      return {\n        type: dbType,\n        query: limitedQuery,\n        rowCount: rows.length,\n        result: rows\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Query failed' };\n    }\n  }\n\n  // db_explain - Query execution plan\n  if (name === 'db_explain') {\n    const query = args.query as string;\n    if (!query) return { error: 'Query required' };\n\n    try {\n      let explainQuery: string;\n      switch (dbType) {\n        case 'sqlite':\n          explainQuery = `EXPLAIN QUERY PLAN ${query}`;\n          break;\n        case 'postgresql':\n          explainQuery = `EXPLAIN (FORMAT TEXT) ${query}`;\n          break;\n        case 'mysql':\n          explainQuery = `EXPLAIN ${query}`;\n          break;\n      }\n      const { cmd, env } = buildDbCommand(dbArgs, sanitizeShellArg(explainQuery));\n      const { stdout } = await execAsync(cmd, { timeout: 30000, env: { ...process.env, ...env } });\n\n      return {\n        type: dbType,\n        query,\n        plan: stdout.trim()\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Explain failed' };\n    }\n  }\n\n  // db_health - Database health check\n  if (name === 'db_health') {\n    try {\n      const health: Record<string, unknown> = {\n        type: dbType,\n        connected: false\n      };\n\n      // Test connection\n      const testQuery = 'SELECT 1';\n      const { cmd: testCmd, env } = buildDbCommand(dbArgs, testQuery);\n      try {\n        await execAsync(testCmd, { timeout: 10000, env: { ...process.env, ...env } });\n        health.connected = true;\n      } catch {\n        return { ...health, error: 'Connection failed' };\n      }\n\n      // Get database-specific stats\n      let statsQuery: string;\n      switch (dbType) {\n        case 'sqlite':\n          statsQuery = \"SELECT 'tables' as metric, COUNT(*) as value FROM sqlite_master WHERE type='table'\";\n          break;\n        case 'postgresql':\n          statsQuery = \"SELECT 'size' as metric, pg_database_size(current_database()) as value\";\n          break;\n        case 'mysql':\n          statsQuery = \"SELECT 'uptime' as metric, VARIABLE_VALUE as value FROM performance_schema.global_status WHERE VARIABLE_NAME = 'Uptime'\";\n          break;\n      }\n\n      const { cmd: statsCmd, env: statsEnv } = buildDbCommand(dbArgs, statsQuery);\n      try {\n        const { stdout } = await execAsync(statsCmd, { timeout: 10000, env: { ...process.env, ...statsEnv } });\n        health.stats = stdout.trim();\n      } catch {\n        health.stats = 'Unable to fetch stats';\n      }\n\n      return health;\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Health check failed' };\n    }\n  }\n\n  return { error: `Unknown db tool: ${name}` };\n}\n\n// ========== Time Tools Handler ==========\nasync function handleTimeTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // time_current - Get current time in timezone\n  if (name === 'time_current') {\n    const timezone = (args.timezone as string) || 'UTC';\n    const format = (args.format as string) || 'iso';\n\n    try {\n      const now = new Date();\n      const options: Intl.DateTimeFormatOptions = {\n        timeZone: timezone,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false\n      };\n\n      if (format === 'unix') {\n        return { timestamp: Math.floor(now.getTime() / 1000), timezone };\n      } else if (format === 'human') {\n        const formatter = new Intl.DateTimeFormat('en-US', { ...options, weekday: 'long' });\n        return { time: formatter.format(now), timezone };\n      } else {\n        // ISO format\n        const formatter = new Intl.DateTimeFormat('sv-SE', options);\n        const formatted = formatter.format(now).replace(' ', 'T');\n        return { time: formatted, timezone, iso: now.toISOString() };\n      }\n    } catch (error) {\n      return { error: `Invalid timezone: ${timezone}` };\n    }\n  }\n\n  // time_convert - Convert between timezones\n  if (name === 'time_convert') {\n    const timeStr = args.time as string;\n    const fromTz = (args.from as string) || 'UTC';\n    const toTz = args.to as string;\n\n    try {\n      // Parse the input time\n      let date: Date;\n      if (/^\\d+$/.test(timeStr)) {\n        // Unix timestamp\n        date = new Date(parseInt(timeStr) * 1000);\n      } else {\n        date = new Date(timeStr);\n      }\n\n      if (isNaN(date.getTime())) {\n        return { error: 'Invalid time format' };\n      }\n\n      const options: Intl.DateTimeFormatOptions = {\n        timeZone: toTz,\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: '2-digit',\n        minute: '2-digit',\n        second: '2-digit',\n        hour12: false\n      };\n\n      const formatter = new Intl.DateTimeFormat('sv-SE', options);\n      return {\n        original: timeStr,\n        from: fromTz,\n        to: toTz,\n        converted: formatter.format(date).replace(' ', 'T'),\n        unix: Math.floor(date.getTime() / 1000)\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Conversion failed' };\n    }\n  }\n\n  // time_format - Format datetime string\n  if (name === 'time_format') {\n    const timeStr = args.time as string;\n    const formatStr = args.format as string;\n    const timezone = (args.timezone as string) || 'UTC';\n\n    try {\n      const date = new Date(timeStr);\n      if (isNaN(date.getTime())) {\n        return { error: 'Invalid time format' };\n      }\n\n      // Simple format string replacement\n      const parts: Record<string, string> = {};\n\n      const getPart = (opt: Intl.DateTimeFormatOptions): string => {\n        return new Intl.DateTimeFormat('en-US', { ...opt, timeZone: timezone }).format(date);\n      };\n\n      parts.YYYY = getPart({ year: 'numeric' });\n      parts.MM = getPart({ month: '2-digit' });\n      parts.DD = getPart({ day: '2-digit' });\n      parts.HH = getPart({ hour: '2-digit', hour12: false }).padStart(2, '0');\n      parts.mm = getPart({ minute: '2-digit' }).padStart(2, '0');\n      parts.ss = getPart({ second: '2-digit' }).padStart(2, '0');\n\n      let result = formatStr;\n      for (const [key, value] of Object.entries(parts)) {\n        result = result.replace(key, value);\n      }\n\n      return { formatted: result, original: timeStr, timezone };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Format failed' };\n    }\n  }\n\n  // time_diff - Calculate time difference\n  if (name === 'time_diff') {\n    const startStr = args.start as string;\n    const endStr = (args.end as string) || new Date().toISOString();\n    const unit = (args.unit as string) || 'seconds';\n\n    try {\n      const start = new Date(startStr);\n      const end = new Date(endStr);\n\n      if (isNaN(start.getTime()) || isNaN(end.getTime())) {\n        return { error: 'Invalid time format' };\n      }\n\n      const diffMs = end.getTime() - start.getTime();\n      const divisors: Record<string, number> = {\n        seconds: 1000,\n        minutes: 60000,\n        hours: 3600000,\n        days: 86400000,\n        weeks: 604800000\n      };\n\n      const divisor = divisors[unit] || 1000;\n      const diff = diffMs / divisor;\n\n      return {\n        start: start.toISOString(),\n        end: end.toISOString(),\n        difference: diff,\n        unit,\n        milliseconds: diffMs\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Diff calculation failed' };\n    }\n  }\n\n  return { error: `Unknown time tool: ${name}` };\n}\n\n// ========== Calculator Tools Handler ==========\nasync function handleCalcTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // calc_expression - Safe math expression evaluation\n  if (name === 'calc_expression') {\n    const expression = args.expression as string;\n    const precision = Math.min(Math.max((args.precision as number) || 10, 0), 20);\n\n    // Security: Only allow safe math operations\n    const safeExpression = expression\n      .replace(/\\s+/g, '')\n      .toLowerCase();\n\n    // Validate - only allow numbers, operators, and math functions\n    const allowedPattern = /^[\\d+\\-*/().%^e,\\s]*(sqrt|sin|cos|tan|log|ln|abs|ceil|floor|round|pow|exp|pi|e)*[\\d+\\-*/().%^e,\\s]*$/i;\n    if (!allowedPattern.test(safeExpression)) {\n      return { error: 'Invalid expression. Only math operations allowed.' };\n    }\n\n    // Block dangerous patterns\n    if (/[a-z]{4,}/i.test(safeExpression.replace(/(sqrt|sin|cos|tan|log|abs|ceil|floor|round|pow|exp)/gi, ''))) {\n      return { error: 'Invalid expression' };\n    }\n\n    try {\n      // Build safe evaluator\n      const mathFns: Record<string, unknown> = {\n        sqrt: Math.sqrt,\n        sin: Math.sin,\n        cos: Math.cos,\n        tan: Math.tan,\n        log: Math.log10,\n        ln: Math.log,\n        abs: Math.abs,\n        ceil: Math.ceil,\n        floor: Math.floor,\n        round: Math.round,\n        pow: Math.pow,\n        exp: Math.exp,\n        PI: Math.PI,\n        E: Math.E\n      };\n\n      let evalExpr = safeExpression\n        .replace(/pi/gi, String(Math.PI))\n        .replace(/\\^/g, '**');\n\n      // Replace function calls\n      for (const [fn, impl] of Object.entries(mathFns)) {\n        if (typeof impl === 'function') {\n          const regex = new RegExp(`${fn}\\\\(([^)]+)\\\\)`, 'gi');\n          evalExpr = evalExpr.replace(regex, (_, arg) => {\n            const argVal = parseFloat(arg);\n            if (!isNaN(argVal)) {\n              return String((impl as (x: number) => number)(argVal));\n            }\n            return _;\n          });\n        }\n      }\n\n      // Final safety check - only numbers and operators\n      if (!/^[\\d+\\-*/().%\\s*e]+$/.test(evalExpr)) {\n        return { error: 'Invalid expression after parsing' };\n      }\n\n      // Use Function constructor for safe eval (no access to scope)\n      const result = new Function(`return (${evalExpr})`)();\n\n      if (typeof result !== 'number' || !isFinite(result)) {\n        return { error: 'Result is not a valid number' };\n      }\n\n      return {\n        expression,\n        result: parseFloat(result.toFixed(precision)),\n        precision\n      };\n    } catch (error) {\n      return { error: error instanceof Error ? error.message : 'Evaluation failed' };\n    }\n  }\n\n  // calc_unit_convert - Unit conversion\n  if (name === 'calc_unit_convert') {\n    const value = args.value as number;\n    const from = (args.from as string).toLowerCase();\n    const to = (args.to as string).toLowerCase();\n\n    // Temperature units (special handling - not ratio-based)\n    const tempUnits: Record<string, string> = {\n      celsius: 'c', c: 'c',\n      fahrenheit: 'f', f: 'f',\n      kelvin: 'k', k: 'k'\n    };\n\n    // Check if temperature conversion\n    if (from in tempUnits && to in tempUnits) {\n      const fromUnit = tempUnits[from];\n      const toUnit = tempUnits[to];\n\n      let celsius: number;\n      // Convert to Celsius first\n      if (fromUnit === 'c') celsius = value;\n      else if (fromUnit === 'f') celsius = (value - 32) * 5 / 9;\n      else celsius = value - 273.15; // Kelvin\n\n      // Convert from Celsius to target\n      let result: number;\n      if (toUnit === 'c') result = celsius;\n      else if (toUnit === 'f') result = celsius * 9 / 5 + 32;\n      else result = celsius + 273.15; // Kelvin\n\n      return { value, from, to, result: parseFloat(result.toFixed(4)) };\n    }\n\n    // Conversion tables (to base unit)\n    const conversions: Record<string, Record<string, number>> = {\n      // Length (base: meters)\n      length: {\n        m: 1, meter: 1, meters: 1,\n        km: 1000, kilometer: 1000, kilometers: 1000,\n        cm: 0.01, centimeter: 0.01,\n        mm: 0.001, millimeter: 0.001,\n        mi: 1609.344, mile: 1609.344, miles: 1609.344,\n        yd: 0.9144, yard: 0.9144, yards: 0.9144,\n        ft: 0.3048, foot: 0.3048, feet: 0.3048,\n        in: 0.0254, inch: 0.0254, inches: 0.0254\n      },\n      // Weight (base: grams)\n      weight: {\n        g: 1, gram: 1, grams: 1,\n        kg: 1000, kilogram: 1000,\n        mg: 0.001, milligram: 0.001,\n        lb: 453.592, pound: 453.592, pounds: 453.592,\n        oz: 28.3495, ounce: 28.3495, ounces: 28.3495,\n        ton: 1000000, t: 1000000\n      },\n      // Volume (base: liters)\n      volume: {\n        l: 1, liter: 1, liters: 1,\n        ml: 0.001, milliliter: 0.001,\n        gal: 3.78541, gallon: 3.78541, gallons: 3.78541,\n        qt: 0.946353, quart: 0.946353,\n        pt: 0.473176, pint: 0.473176,\n        cup: 0.236588, cups: 0.236588,\n        floz: 0.0295735\n      },\n      // Data (base: bytes)\n      data: {\n        b: 1, byte: 1, bytes: 1,\n        kb: 1024, kilobyte: 1024,\n        mb: 1048576, megabyte: 1048576,\n        gb: 1073741824, gigabyte: 1073741824,\n        tb: 1099511627776, terabyte: 1099511627776\n      }\n    };\n\n    // Find the category for these units\n    let category: string | null = null;\n    for (const [cat, units] of Object.entries(conversions)) {\n      if (from in units && to in units) {\n        category = cat;\n        break;\n      }\n    }\n\n    if (!category) {\n      return { error: `Cannot convert between ${from} and ${to}` };\n    }\n\n    // Standard conversion\n    const units = conversions[category];\n    const baseValue = value * units[from];\n    const result = baseValue / units[to];\n\n    return { value, from, to, result: parseFloat(result.toFixed(6)) };\n  }\n\n  // calc_statistics - Statistical calculations\n  if (name === 'calc_statistics') {\n    const data = args.data as number[];\n    const metrics = (args.metrics as string[]) || ['mean', 'median', 'min', 'max', 'count'];\n\n    if (!Array.isArray(data) || data.length === 0) {\n      return { error: 'Data must be a non-empty array of numbers' };\n    }\n\n    const sorted = [...data].sort((a, b) => a - b);\n    const n = data.length;\n    const sum = data.reduce((a, b) => a + b, 0);\n    const mean = sum / n;\n\n    const results: Record<string, number> = {};\n\n    for (const metric of metrics) {\n      switch (metric) {\n        case 'mean':\n          results.mean = parseFloat(mean.toFixed(6));\n          break;\n        case 'median':\n          results.median = n % 2 === 0\n            ? (sorted[n / 2 - 1] + sorted[n / 2]) / 2\n            : sorted[Math.floor(n / 2)];\n          break;\n        case 'mode':\n          const freq: Record<number, number> = {};\n          let maxFreq = 0, mode = data[0];\n          for (const x of data) {\n            freq[x] = (freq[x] || 0) + 1;\n            if (freq[x] > maxFreq) { maxFreq = freq[x]; mode = x; }\n          }\n          results.mode = mode;\n          break;\n        case 'stddev':\n          const variance = data.reduce((acc, x) => acc + Math.pow(x - mean, 2), 0) / n;\n          results.stddev = parseFloat(Math.sqrt(variance).toFixed(6));\n          break;\n        case 'variance':\n          results.variance = parseFloat((data.reduce((acc, x) => acc + Math.pow(x - mean, 2), 0) / n).toFixed(6));\n          break;\n        case 'min':\n          results.min = sorted[0];\n          break;\n        case 'max':\n          results.max = sorted[n - 1];\n          break;\n        case 'sum':\n          results.sum = sum;\n          break;\n        case 'count':\n          results.count = n;\n          break;\n      }\n    }\n\n    return { data: { count: n }, statistics: results };\n  }\n\n  return { error: `Unknown calc tool: ${name}` };\n}\n\n// ========== Sequential Thinking Handler ==========\n// In-memory storage for thinking sessions\nconst thinkingSessions = new Map<string, {\n  steps: Array<{ id: number; thought: string; type: string; confidence: number; timestamp: string }>;\n  branches: Map<string, { fromStep: number; steps: Array<{ id: number; thought: string; type: string; confidence: number; timestamp: string }> }>;\n  created: string;\n}>();\n\nasync function handleThinkTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // think_step - Record a thinking step\n  if (name === 'think_step') {\n    const thought = args.thought as string;\n    const type = (args.type as string) || 'observation';\n    const confidence = Math.min(Math.max((args.confidence as number) || 0.5, 0), 1);\n    let sessionId = args.sessionId as string;\n\n    // Create or get session\n    if (!sessionId) {\n      sessionId = `think_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\n      thinkingSessions.set(sessionId, {\n        steps: [],\n        branches: new Map(),\n        created: new Date().toISOString()\n      });\n    }\n\n    const session = thinkingSessions.get(sessionId);\n    if (!session) {\n      return { error: `Session not found: ${sessionId}` };\n    }\n\n    const step = {\n      id: session.steps.length + 1,\n      thought,\n      type,\n      confidence,\n      timestamp: new Date().toISOString()\n    };\n\n    session.steps.push(step);\n\n    return {\n      sessionId,\n      step,\n      totalSteps: session.steps.length,\n      hint: session.steps.length === 1 ? 'Use sessionId in future calls to continue this chain' : undefined\n    };\n  }\n\n  // think_branch - Create alternative thinking branch\n  if (name === 'think_branch') {\n    const sessionId = args.sessionId as string;\n    const branchName = args.branchName as string;\n    const fromStep = (args.fromStep as number) || 0;\n\n    const session = thinkingSessions.get(sessionId);\n    if (!session) {\n      return { error: `Session not found: ${sessionId}` };\n    }\n\n    if (session.branches.has(branchName)) {\n      return { error: `Branch ${branchName} already exists` };\n    }\n\n    session.branches.set(branchName, {\n      fromStep,\n      steps: []\n    });\n\n    return {\n      sessionId,\n      branchName,\n      fromStep,\n      mainSteps: session.steps.length,\n      totalBranches: session.branches.size\n    };\n  }\n\n  // think_summarize - Summarize thinking session\n  if (name === 'think_summarize') {\n    const sessionId = args.sessionId as string;\n    const includeAlternatives = args.includeAlternatives as boolean ?? true;\n\n    const session = thinkingSessions.get(sessionId);\n    if (!session) {\n      return { error: `Session not found: ${sessionId}` };\n    }\n\n    const observations = session.steps.filter(s => s.type === 'observation');\n    const hypotheses = session.steps.filter(s => s.type === 'hypothesis');\n    const analyses = session.steps.filter(s => s.type === 'analysis');\n    const conclusions = session.steps.filter(s => s.type === 'conclusion');\n    const questions = session.steps.filter(s => s.type === 'question');\n\n    const avgConfidence = session.steps.length > 0\n      ? session.steps.reduce((sum, s) => sum + s.confidence, 0) / session.steps.length\n      : 0;\n\n    const summary: Record<string, unknown> = {\n      sessionId,\n      created: session.created,\n      totalSteps: session.steps.length,\n      breakdown: {\n        observations: observations.length,\n        hypotheses: hypotheses.length,\n        analyses: analyses.length,\n        conclusions: conclusions.length,\n        questions: questions.length\n      },\n      averageConfidence: parseFloat(avgConfidence.toFixed(2)),\n      steps: session.steps\n    };\n\n    if (includeAlternatives && session.branches.size > 0) {\n      summary.branches = Array.from(session.branches.entries()).map(([name, branch]) => ({\n        name,\n        fromStep: branch.fromStep,\n        steps: branch.steps.length\n      }));\n    }\n\n    // Extract key conclusions\n    if (conclusions.length > 0) {\n      summary.keyConclusions = conclusions.map(c => ({\n        thought: c.thought,\n        confidence: c.confidence\n      }));\n    }\n\n    return summary;\n  }\n\n  return { error: `Unknown think tool: ${name}` };\n}\n\n// ========== Generator Tools Handler ==========\nasync function handleGenTool(name: string, args: Record<string, unknown>): Promise<unknown> {\n  // gen_uuid - Generate UUID\n  if (name === 'gen_uuid') {\n    const version = (args.version as number) || 4;\n    const count = Math.min(Math.max((args.count as number) || 1, 1), 100);\n\n    const uuids: string[] = [];\n\n    for (let i = 0; i < count; i++) {\n      if (version === 4) {\n        // UUID v4 (random)\n        const bytes = new Uint8Array(16);\n        crypto.getRandomValues(bytes);\n        bytes[6] = (bytes[6] & 0x0f) | 0x40; // Version 4\n        bytes[8] = (bytes[8] & 0x3f) | 0x80; // Variant\n\n        const hex = Array.from(bytes).map(b => b.toString(16).padStart(2, '0')).join('');\n        uuids.push(\n          `${hex.slice(0, 8)}-${hex.slice(8, 12)}-${hex.slice(12, 16)}-${hex.slice(16, 20)}-${hex.slice(20)}`\n        );\n      } else {\n        // UUID v1 (time-based approximation)\n        const now = Date.now();\n        const uuid = 'xxxxxxxx-xxxx-1xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, (c) => {\n          const r = (now + Math.random() * 16) % 16 | 0;\n          return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);\n        });\n        uuids.push(uuid);\n      }\n    }\n\n    return count === 1 ? { uuid: uuids[0], version } : { uuids, version, count };\n  }\n\n  // gen_random - Generate random numbers\n  if (name === 'gen_random') {\n    const min = (args.min as number) ?? 0;\n    const max = (args.max as number) ?? 100;\n    const count = Math.min(Math.max((args.count as number) || 1, 1), 1000);\n    const type = (args.type as string) || 'integer';\n\n    const values: number[] = [];\n\n    for (let i = 0; i < count; i++) {\n      if (type === 'float') {\n        values.push(parseFloat((Math.random() * (max - min) + min).toFixed(6)));\n      } else {\n        values.push(Math.floor(Math.random() * (max - min + 1)) + min);\n      }\n    }\n\n    return count === 1\n      ? { value: values[0], min, max, type }\n      : { values, min, max, type, count };\n  }\n\n  // gen_hash - Generate hash\n  if (name === 'gen_hash') {\n    const input = args.input as string;\n    const algorithm = (args.algorithm as string) || 'sha256';\n    const encoding = (args.encoding as string) || 'hex';\n\n    const validAlgorithms = ['md5', 'sha1', 'sha256', 'sha512'];\n    if (!validAlgorithms.includes(algorithm)) {\n      return { error: `Invalid algorithm. Use: ${validAlgorithms.join(', ')}` };\n    }\n\n    const hash = createHash(algorithm).update(input).digest(encoding as 'hex' | 'base64');\n\n    return { input: input.slice(0, 50) + (input.length > 50 ? '...' : ''), algorithm, encoding, hash };\n  }\n\n  // gen_password - Generate secure password\n  if (name === 'gen_password') {\n    const length = Math.min(Math.max((args.length as number) || 16, 8), 128);\n    const uppercase = args.uppercase !== false;\n    const lowercase = args.lowercase !== false;\n    const numbers = args.numbers !== false;\n    const symbols = args.symbols !== false;\n    const excludeSimilar = args.excludeSimilar === true;\n\n    let chars = '';\n    if (uppercase) chars += excludeSimilar ? 'ABCDEFGHJKLMNPQRSTUVWXYZ' : 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';\n    if (lowercase) chars += excludeSimilar ? 'abcdefghjkmnpqrstuvwxyz' : 'abcdefghijklmnopqrstuvwxyz';\n    if (numbers) chars += excludeSimilar ? '23456789' : '0123456789';\n    if (symbols) chars += '!@#$%^&*()_+-=[]{}|;:,.<>?';\n\n    if (chars.length === 0) {\n      return { error: 'At least one character set must be enabled' };\n    }\n\n    // Use crypto for secure random\n    const bytes = new Uint8Array(length);\n    crypto.getRandomValues(bytes);\n\n    let password = '';\n    for (let i = 0; i < length; i++) {\n      password += chars[bytes[i] % chars.length];\n    }\n\n    // Calculate entropy\n    const entropy = Math.floor(length * Math.log2(chars.length));\n\n    return {\n      password,\n      length,\n      entropy: `${entropy} bits`,\n      strength: entropy < 40 ? 'weak' : entropy < 60 ? 'fair' : entropy < 80 ? 'strong' : 'very strong'\n    };\n  }\n\n  return { error: `Unknown gen tool: ${name}` };\n}\n\n// ========== Resource Handler ==========\nasync function handleResource(uri: string): Promise<string> {\n  // Git Resources\n  if (uri === 'miyabi://git/status') {\n    const status = await git.status();\n    return JSON.stringify(status, null, 2);\n  }\n  if (uri === 'miyabi://git/branches') {\n    const branches = await git.branch(['-a', '-v']);\n    return JSON.stringify(branches, null, 2);\n  }\n  if (uri === 'miyabi://git/recent-commits') {\n    const log = await git.log({ maxCount: 10 });\n    return JSON.stringify(log, null, 2);\n  }\n  if (uri === 'miyabi://git/remotes') {\n    const remotes = await git.getRemotes(true);\n    return JSON.stringify(remotes, null, 2);\n  }\n\n  // System Resources\n  if (uri === 'miyabi://system/info') {\n    const [cpu, mem, disk, osInfo] = await Promise.all([\n      si.cpu(), si.mem(), si.fsSize(), si.osInfo()\n    ]);\n    return JSON.stringify({ cpu, memory: mem, disk, os: osInfo }, null, 2);\n  }\n  if (uri === 'miyabi://system/processes') {\n    const procs = await si.processes();\n    const top = procs.list.slice(0, 20);\n    return JSON.stringify({ count: procs.all, top }, null, 2);\n  }\n  if (uri === 'miyabi://system/network') {\n    const [interfaces, stats] = await Promise.all([\n      si.networkInterfaces(), si.networkStats()\n    ]);\n    return JSON.stringify({ interfaces, stats }, null, 2);\n  }\n\n  // Docker Resources\n  if (uri === 'miyabi://docker/containers') {\n    try {\n      const { stdout } = await execAsync('docker ps -a --format \"{{json .}}\"');\n      const containers = stdout.trim().split('\\n').filter(Boolean).map(line => JSON.parse(line));\n      return JSON.stringify(containers, null, 2);\n    } catch (e) {\n      return JSON.stringify({ error: 'Docker not available or not running' });\n    }\n  }\n  if (uri === 'miyabi://docker/images') {\n    try {\n      const { stdout } = await execAsync('docker images --format \"{{json .}}\"');\n      const images = stdout.trim().split('\\n').filter(Boolean).map(line => JSON.parse(line));\n      return JSON.stringify(images, null, 2);\n    } catch (e) {\n      return JSON.stringify({ error: 'Docker not available' });\n    }\n  }\n  if (uri === 'miyabi://docker/compose') {\n    try {\n      const { stdout } = await execAsync('docker compose ps --format json 2>/dev/null || docker-compose ps --format json');\n      return stdout || JSON.stringify({ status: 'No compose project found' });\n    } catch (e) {\n      return JSON.stringify({ error: 'Docker Compose not available' });\n    }\n  }\n\n  // GitHub Resources\n  if (uri === 'miyabi://github/issues') {\n    if (!octokit) return JSON.stringify({ error: 'GitHub token not configured' });\n    if (!GITHUB_DEFAULT_OWNER || !GITHUB_DEFAULT_REPO) return JSON.stringify({ error: 'GitHub defaults not configured' });\n    try {\n      const { data } = await octokit.issues.listForRepo({ owner: GITHUB_DEFAULT_OWNER, repo: GITHUB_DEFAULT_REPO, state: 'open', per_page: 20 });\n      return JSON.stringify(data.map(i => ({ number: i.number, title: i.title, state: i.state, labels: i.labels })), null, 2);\n    } catch (e) {\n      return JSON.stringify({ error: 'GitHub API error or no token' });\n    }\n  }\n  if (uri === 'miyabi://github/pulls') {\n    if (!octokit) return JSON.stringify({ error: 'GitHub token not configured' });\n    if (!GITHUB_DEFAULT_OWNER || !GITHUB_DEFAULT_REPO) return JSON.stringify({ error: 'GitHub defaults not configured' });\n    try {\n      const { data } = await octokit.pulls.list({ owner: GITHUB_DEFAULT_OWNER, repo: GITHUB_DEFAULT_REPO, state: 'open', per_page: 20 });\n      return JSON.stringify(data.map(p => ({ number: p.number, title: p.title, state: p.state, draft: p.draft })), null, 2);\n    } catch (e) {\n      return JSON.stringify({ error: 'GitHub API error' });\n    }\n  }\n  if (uri === 'miyabi://github/workflows') {\n    if (!octokit) return JSON.stringify({ error: 'GitHub token not configured' });\n    if (!GITHUB_DEFAULT_OWNER || !GITHUB_DEFAULT_REPO) return JSON.stringify({ error: 'GitHub defaults not configured' });\n    try {\n      const { data } = await octokit.actions.listRepoWorkflows({ owner: GITHUB_DEFAULT_OWNER, repo: GITHUB_DEFAULT_REPO });\n      return JSON.stringify(data.workflows.map(w => ({ name: w.name, state: w.state, path: w.path })), null, 2);\n    } catch (e) {\n      return JSON.stringify({ error: 'GitHub API error' });\n    }\n  }\n\n  // Tmux Resources\n  if (uri === 'miyabi://tmux/sessions') {\n    try {\n      const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}:#{session_windows}:#{session_attached}\"');\n      const sessions = stdout.trim().split('\\n').filter(Boolean).map(line => {\n        const [name, windows, attached] = line.split(':');\n        return { name, windows: parseInt(windows), attached: attached === '1' };\n      });\n      return JSON.stringify(sessions, null, 2);\n    } catch (e) {\n      return JSON.stringify({ sessions: [], message: 'No tmux sessions or tmux not available' });\n    }\n  }\n\n  // Kubernetes Resources\n  if (uri === 'miyabi://k8s/pods') {\n    try {\n      const { stdout } = await execAsync('kubectl get pods -o json');\n      return stdout;\n    } catch (e) {\n      return JSON.stringify({ error: 'kubectl not available or not configured' });\n    }\n  }\n  if (uri === 'miyabi://k8s/services') {\n    try {\n      const { stdout } = await execAsync('kubectl get services -o json');\n      return stdout;\n    } catch (e) {\n      return JSON.stringify({ error: 'kubectl not available' });\n    }\n  }\n\n  // Tool Catalog\n  if (uri === 'miyabi://catalog/tools') {\n    const catalog: Record<string, string[]> = {};\n    for (const tool of tools) {\n      const category = tool.name.split('_')[0];\n      if (!catalog[category]) catalog[category] = [];\n      catalog[category].push(tool.name);\n    }\n    return JSON.stringify(catalog, null, 2);\n  }\n  if (uri === 'miyabi://catalog/categories') {\n    const categories: Record<string, { count: number; description: string }> = {\n      git: { count: 0, description: 'Git version control operations' },\n      tmux: { count: 0, description: 'Terminal multiplexer management' },\n      log: { count: 0, description: 'Log file analysis and monitoring' },\n      resource: { count: 0, description: 'System resource monitoring' },\n      network: { count: 0, description: 'Network connectivity and diagnostics' },\n      process: { count: 0, description: 'Process management' },\n      file: { count: 0, description: 'File operations' },\n      github: { count: 0, description: 'GitHub API integration' },\n      docker: { count: 0, description: 'Docker container management' },\n      compose: { count: 0, description: 'Docker Compose operations' },\n      k8s: { count: 0, description: 'Kubernetes cluster management' },\n      db: { count: 0, description: 'Database operations' },\n      think: { count: 0, description: 'Sequential thinking tools' },\n      gen: { count: 0, description: 'Generator utilities' },\n      calc: { count: 0, description: 'Math and statistics' }\n    };\n    for (const tool of tools) {\n      const category = tool.name.split('_')[0];\n      if (categories[category]) categories[category].count++;\n    }\n    return JSON.stringify(categories, null, 2);\n  }\n\n  return JSON.stringify({ error: `Unknown resource: ${uri}` });\n}\n\n// ========== Prompt Handler ==========\nfunction handlePrompt(name: string, args: Record<string, string>): { messages: Array<{ role: string; content: { type: string; text: string } }> } {\n  const messages: Array<{ role: string; content: { type: string; text: string } }> = [];\n\n  // Git Prompts\n  if (name === 'git-commit') {\n    const scope = args.scope ? `(${args.scope})` : '';\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Create a git commit with the following:\nType: ${args.type}\nScope: ${scope || 'none'}\nDescription: ${args.description}\n\nPlease:\n1. Use git_status to check current changes\n2. Use git_staged_diff to review staged changes\n3. Create a conventional commit message in format: ${args.type}${scope}: ${args.description}\n4. Use git_commit_create to commit the changes`\n      }\n    });\n  }\n  else if (name === 'git-review') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Review the current git changes with focus on: ${args.focus || 'all aspects'}\n\nPlease:\n1. Use git_diff to see unstaged changes\n2. Use git_staged_diff to see staged changes\n3. Analyze for: ${args.focus === 'security' ? 'security vulnerabilities, exposed secrets, unsafe operations' :\n          args.focus === 'performance' ? 'performance issues, inefficient code patterns' :\n          args.focus === 'style' ? 'code style, formatting, naming conventions' :\n          'security, performance, style, and best practices'}\n4. Provide specific recommendations for improvements`\n      }\n    });\n  }\n  else if (name === 'git-branch-strategy') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Suggest a branch strategy for: ${args.feature}\n\nPlease:\n1. Use git_branch_list to see existing branches\n2. Recommend a branch name following conventional patterns (feat/, fix/, chore/, etc.)\n3. Suggest the base branch to branch from\n4. Outline the merge strategy`\n      }\n    });\n  }\n\n  // Docker Prompts\n  else if (name === 'docker-debug') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Debug Docker container: ${args.container}\nIssue: ${args.issue || 'General troubleshooting'}\n\nPlease:\n1. Use docker_ps to check container status\n2. Use docker_logs with container=\"${args.container}\" to view logs\n3. Use docker_inspect to check container configuration\n4. Analyze the issue and provide solutions`\n      }\n    });\n  }\n  else if (name === 'docker-compose-setup') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Help set up Docker Compose for services: ${args.services}\n\nPlease:\n1. Suggest a docker-compose.yml structure\n2. Define service configurations for each: ${args.services}\n3. Set up networking between services\n4. Configure volumes and environment variables`\n      }\n    });\n  }\n\n  // GitHub Prompts\n  else if (name === 'github-issue-create') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Create a GitHub issue:\nType: ${args.type}\nTitle: ${args.title}\nDescription: ${args.description}\n\nPlease:\n1. Format the issue body with proper markdown\n2. Suggest appropriate labels for a ${args.type} issue\n3. Use github_issue_create to create the issue\n4. Include reproduction steps if it's a bug report`\n      }\n    });\n  }\n  else if (name === 'github-pr-review') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Review GitHub PR #${args.pr_number}\nFocus: ${args.focus || 'comprehensive review'}\n\nPlease:\n1. Use github_pr_get to fetch PR details\n2. Use github_pr_files to list changed files\n3. Analyze changes for: ${args.focus === 'code' ? 'code quality, logic errors, best practices' :\n          args.focus === 'tests' ? 'test coverage, test quality, edge cases' :\n          args.focus === 'docs' ? 'documentation accuracy, completeness, clarity' :\n          args.focus === 'security' ? 'security vulnerabilities, unsafe patterns' :\n          'code quality, tests, docs, and security'}\n4. Provide specific feedback and suggestions`\n      }\n    });\n  }\n\n  // System Prompts\n  else if (name === 'system-health-check') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Perform system health check with focus: ${args.focus || 'all'}\n\nPlease:\n1. Use resource_cpu for CPU utilization\n2. Use resource_memory for memory status\n3. Use resource_disk for disk usage\n4. Use resource_network for network status\n5. Identify any concerning metrics and suggest optimizations`\n      }\n    });\n  }\n  else if (name === 'process-troubleshoot') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Troubleshoot process: ${args.process_name}\n\nPlease:\n1. Use process_find with name=\"${args.process_name}\" to locate the process\n2. Check CPU and memory usage\n3. Use process_ports to check network connections\n4. Analyze and suggest solutions for any issues`\n      }\n    });\n  }\n\n  // Network Prompts\n  else if (name === 'network-diagnose') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Diagnose network connectivity${args.target ? ` to ${args.target}` : ''}\n\nPlease:\n1. Use network_interfaces to check interface status\n2. ${args.target ? `Use network_ping to test connectivity to ${args.target}` : 'Check general connectivity'}\n3. Use network_dns_lookup if DNS issues suspected\n4. Analyze results and suggest fixes`\n      }\n    });\n  }\n\n  // Kubernetes Prompts\n  else if (name === 'k8s-debug-pod') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Debug Kubernetes pod: ${args.pod_name}${args.namespace ? ` in namespace ${args.namespace}` : ''}\n\nPlease:\n1. Use k8s_pods to check pod status\n2. Use k8s_pod_logs to view pod logs\n3. Use k8s_pod_describe for detailed pod information\n4. Analyze events and conditions\n5. Suggest remediation steps`\n      }\n    });\n  }\n\n  // Log Analysis\n  else if (name === 'log-analyze') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Analyze logs from: ${args.source}\nPattern to find: ${args.pattern || 'errors and warnings'}\n\nPlease:\n1. Use appropriate log tool to read logs\n2. Search for patterns: ${args.pattern || 'ERROR, WARN, Exception, Failed'}\n3. Identify frequency and patterns\n4. Suggest root causes and solutions`\n      }\n    });\n  }\n\n  // Workflow Prompts\n  else if (name === 'dev-cycle') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Execute development cycle with commit message: ${args.message}\nSkip tests: ${args.skip_tests || 'false'}\n\nPlease:\n1. ${args.skip_tests === 'true' ? 'Skip tests' : 'Run tests first'}\n2. Use git_status to check changes\n3. Stage and commit with message: ${args.message}\n4. Push to remote branch`\n      }\n    });\n  }\n  else if (name === 'deployment-checklist') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Generate deployment checklist for: ${args.environment}\n\nPlease create a checklist including:\n1. Pre-deployment checks (tests, build, dependencies)\n2. ${args.environment === 'production' ? 'Production-specific: backup, maintenance window, rollback plan' :\n          args.environment === 'staging' ? 'Staging-specific: test data, integration tests' :\n          'Development-specific: local environment setup'}\n3. Deployment steps\n4. Post-deployment verification\n5. Monitoring and alerting checks`\n      }\n    });\n  }\n\n  // Sequential Thinking\n  else if (name === 'analyze-problem') {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Analyze problem using sequential thinking: ${args.problem}\n${args.context ? `Context: ${args.context}` : ''}\n\nPlease use the thinking tools:\n1. think_step with type=\"observation\" to gather facts\n2. think_step with type=\"hypothesis\" to form theories\n3. think_step with type=\"analysis\" to evaluate each hypothesis\n4. think_branch if alternative approaches needed\n5. think_step with type=\"conclusion\" for final recommendation\n6. think_summarize to provide summary`\n      }\n    });\n  }\n\n  // Default fallback\n  else {\n    messages.push({\n      role: 'user',\n      content: {\n        type: 'text',\n        text: `Unknown prompt: ${name}. Available prompts: git-commit, git-review, git-branch-strategy, docker-debug, docker-compose-setup, github-issue-create, github-pr-review, system-health-check, process-troubleshoot, network-diagnose, k8s-debug-pod, log-analyze, dev-cycle, deployment-checklist, analyze-problem`\n      }\n    });\n  }\n\n  return { messages };\n}\n\n// ========== Main Server ==========\nconst server = new Server(\n  {\n    name: 'miyabi_bundle__miyabi-mcp-bundle',\n    version: '3.7.0',\n  },\n  {\n    capabilities: {\n      tools: {},\n      resources: {},\n      prompts: {},\n    },\n  }\n);\n\n// Tool handlers\nserver.setRequestHandler(ListToolsRequestSchema, async () => {\n  return { tools };\n});\n\nserver.setRequestHandler(CallToolRequestSchema, async (request) => {\n  const { name, arguments: args } = request.params;\n  const result = await handleTool(name, args as Record<string, unknown> || {});\n\n  return {\n    content: [\n      {\n        type: 'text',\n        text: JSON.stringify(result, null, 2),\n      },\n    ],\n  };\n});\n\n// Resource handlers\nserver.setRequestHandler(ListResourcesRequestSchema, async () => {\n  return { resources };\n});\n\nserver.setRequestHandler(ReadResourceRequestSchema, async (request) => {\n  const { uri } = request.params;\n  const content = await handleResource(uri);\n\n  return {\n    contents: [\n      {\n        uri,\n        mimeType: 'application/json',\n        text: content,\n      },\n    ],\n  };\n});\n\n// Prompt handlers\nserver.setRequestHandler(ListPromptsRequestSchema, async () => {\n  return { prompts };\n});\n\nserver.setRequestHandler(GetPromptRequestSchema, async (request) => {\n  const { name, arguments: args } = request.params;\n  return handlePrompt(name, args as Record<string, string> || {});\n});\n\nasync function main() {\n  console.error('');\n  console.error('\u250C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510');\n  console.error('\u2502  \uD83C\uDF38 Miyabi MCP Bundle v3.7.0                   \u2502');\n  console.error('\u2502  The Most Comprehensive MCP Server             \u2502');\n  console.error('\u251C\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524');\n  console.error(`\u2502  \uD83D\uDCC2 Repository: ${MIYABI_REPO_PATH.slice(0, 28).padEnd(28)} \u2502`);\n  console.error(`\u2502  \uD83D\uDD27 Tools: ${String(tools.length).padEnd(35)} \u2502`);\n  console.error(`\u2502  \uD83D\uDCE6 Resources: ${String(resources.length).padEnd(31)} \u2502`);\n  console.error(`\u2502  \uD83D\uDCAC Prompts: ${String(prompts.length).padEnd(33)} \u2502`);\n  console.error(`\u2502  \uD83D\uDD10 Security: Enterprise-grade                 \u2502`);\n  console.error('\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518');\n  console.error('');\n\n  const transport = new StdioServerTransport();\n  await server.connect(transport);\n}\n\nmain().catch(console.error);\n", "/**\r\n * Society Health Check Pro - Full Society Health Monitoring\r\n * Issue #16: \u5168Society\u5065\u5168\u6027\u4E00\u62EC\u76E3\u8996\r\n */\r\n\r\nimport { exec } from 'child_process';\r\nimport { promisify } from 'util';\r\n\r\nconst execAsync = promisify(exec);\r\n\r\n// Society definitions (26 Societies)\r\nconst SOCIETIES = [\r\n  'investment', 'sales', 'marketing', 'content', 'customer_service',\r\n  'data_analytics', 'operations', 'research', 'product', 'engineering',\r\n  'hr', 'finance', 'legal', 'strategy', 'innovation',\r\n  'quality', 'security', 'infrastructure', 'support', 'training',\r\n  'compliance', 'procurement', 'logistics', 'partnerships', 'communications', 'executive'\r\n];\r\n\r\ninterface SocietyHealth {\r\n  status: 'healthy' | 'degraded' | 'error' | 'unknown';\r\n  agents: { total: number; active: number; idle: number; error: number };\r\n  mcp_servers: { total: number; connected: number };\r\n  last_activity?: string;\r\n  issues?: string[];\r\n}\r\n\r\ninterface HealthResult {\r\n  timestamp: string;\r\n  societies: Record<string, SocietyHealth>;\r\n  summary: {\r\n    total_societies: number;\r\n    healthy: number;\r\n    degraded: number;\r\n    error: number;\r\n  };\r\n}\r\n\r\n/**\r\n * Get tmux sessions to check Society health\r\n */\r\nasync function getTmuxSessions(): Promise<string[]> {\r\n  try {\r\n    const { stdout } = await execAsync('tmux list-sessions -F \"#{session_name}\" 2>/dev/null || echo \"\"');\r\n    return stdout.trim().split('\\n').filter(s => s);\r\n  } catch {\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Check single Society health via tmux\r\n */\r\nasync function checkSocietyHealth(society: string): Promise<SocietyHealth> {\r\n  const sessions = await getTmuxSessions();\r\n  const societySessions = sessions.filter(s => s.toLowerCase().includes(society.toLowerCase()));\r\n  \r\n  if (societySessions.length === 0) {\r\n    return {\r\n      status: 'unknown',\r\n      agents: { total: 0, active: 0, idle: 0, error: 0 },\r\n      mcp_servers: { total: 0, connected: 0 }\r\n    };\r\n  }\r\n\r\n  // Check for active agents in sessions\r\n  let activeCount = 0;\r\n  let errorCount = 0;\r\n  \r\n  for (const session of societySessions) {\r\n    try {\r\n      const { stdout } = await execAsync(`tmux capture-pane -t \"${session}\" -p 2>/dev/null | tail -5`);\r\n      if (stdout.includes('error') || stdout.includes('Error') || stdout.includes('ERROR')) {\r\n        errorCount++;\r\n      } else {\r\n        activeCount++;\r\n      }\r\n    } catch {\r\n      errorCount++;\r\n    }\r\n  }\r\n\r\n  const status = errorCount > 0 ? 'degraded' : (activeCount > 0 ? 'healthy' : 'unknown');\r\n  \r\n  return {\r\n    status,\r\n    agents: { \r\n      total: societySessions.length, \r\n      active: activeCount, \r\n      idle: 0, \r\n      error: errorCount \r\n    },\r\n    mcp_servers: { total: 1, connected: status === 'healthy' ? 1 : 0 },\r\n    last_activity: new Date().toISOString(),\r\n    issues: errorCount > 0 ? [`${errorCount} agent(s) reporting errors`] : undefined\r\n  };\r\n}\r\n\r\n// === Handler Functions ===\r\n\r\nexport async function handleSocietyHealthAll(): Promise<HealthResult> {\r\n  const timestamp = new Date().toISOString();\r\n  const societies: Record<string, SocietyHealth> = {};\r\n  \r\n  let healthy = 0, degraded = 0, errorCount = 0;\r\n  \r\n  for (const society of SOCIETIES) {\r\n    const health = await checkSocietyHealth(society);\r\n    societies[society] = health;\r\n    \r\n    if (health.status === 'healthy') healthy++;\r\n    else if (health.status === 'degraded') degraded++;\r\n    else if (health.status === 'error') errorCount++;\r\n  }\r\n\r\n  return {\r\n    timestamp,\r\n    societies,\r\n    summary: {\r\n      total_societies: SOCIETIES.length,\r\n      healthy,\r\n      degraded,\r\n      error: errorCount\r\n    }\r\n  };\r\n}\r\n\r\nexport async function handleSocietyHealthSingle(society: string): Promise<SocietyHealth & { society: string }> {\r\n  const health = await checkSocietyHealth(society);\r\n  return { society, ...health };\r\n}\r\n\r\nexport async function handleSocietyAgentStatus(society?: string): Promise<object> {\r\n  const sessions = await getTmuxSessions();\r\n  const filtered = society \r\n    ? sessions.filter(s => s.toLowerCase().includes(society.toLowerCase()))\r\n    : sessions;\r\n  \r\n  const agents: Array<{ name: string; session: string; status: string }> = [];\r\n  \r\n  for (const session of filtered) {\r\n    try {\r\n      const { stdout } = await execAsync(`tmux capture-pane -t \"${session}\" -p 2>/dev/null | tail -1`);\r\n      agents.push({\r\n        name: session,\r\n        session,\r\n        status: stdout.includes('error') ? 'error' : 'active'\r\n      });\r\n    } catch {\r\n      agents.push({ name: session, session, status: 'unknown' });\r\n    }\r\n  }\r\n\r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    society: society || 'all',\r\n    agents,\r\n    total: agents.length,\r\n    active: agents.filter(a => a.status === 'active').length,\r\n    error: agents.filter(a => a.status === 'error').length\r\n  };\r\n}\r\n\r\nexport async function handleSocietyMcpStatus(): Promise<object> {\r\n  // Check MCP server processes\r\n  let mcpServers: Array<{ name: string; status: string; pid?: number }> = [];\r\n  \r\n  try {\r\n    const { stdout } = await execAsync('ps aux | grep -i mcp | grep -v grep');\r\n    const lines = stdout.trim().split('\\n').filter(l => l);\r\n    mcpServers = lines.map(line => {\r\n      const parts = line.split(/\\s+/);\r\n      return {\r\n        name: parts.slice(10).join(' ').slice(0, 50),\r\n        status: 'running',\r\n        pid: parseInt(parts[1])\r\n      };\r\n    });\r\n  } catch {\r\n    // No MCP processes found\r\n  }\r\n\r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    mcp_servers: mcpServers,\r\n    total: mcpServers.length,\r\n    running: mcpServers.filter(s => s.status === 'running').length\r\n  };\r\n}\r\n\r\nexport async function handleSocietyMetricsSummary(): Promise<object> {\r\n  const sessions = await getTmuxSessions();\r\n  const healthResult = await handleSocietyHealthAll();\r\n  \r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    metrics: {\r\n      total_societies: SOCIETIES.length,\r\n      active_sessions: sessions.length,\r\n      health_summary: healthResult.summary,\r\n      societies_by_status: {\r\n        healthy: Object.entries(healthResult.societies).filter(([,v]) => v.status === 'healthy').map(([k]) => k),\r\n        degraded: Object.entries(healthResult.societies).filter(([,v]) => v.status === 'degraded').map(([k]) => k),\r\n        error: Object.entries(healthResult.societies).filter(([,v]) => v.status === 'error').map(([k]) => k),\r\n        unknown: Object.entries(healthResult.societies).filter(([,v]) => v.status === 'unknown').map(([k]) => k)\r\n      }\r\n    }\r\n  };\r\n}\r\n\r\n// === Tool Definitions ===\r\n\r\nexport const societyHealthTools = [\r\n  {\r\n    name: 'society_health_all',\r\n    description: 'Check health status of all 26 Miyabi Societies at once. Returns comprehensive health report.',\r\n    inputSchema: { type: 'object' as const, properties: {} }\r\n  },\r\n  {\r\n    name: 'society_health_single', \r\n    description: 'Check detailed health status of a single Society.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Society name (e.g., investment, sales, marketing)' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'society_agent_status',\r\n    description: 'Get status of all agents within a Society or all Societies.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Optional: filter by Society name' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'society_mcp_status',\r\n    description: 'Check status of MCP servers used by Societies.',\r\n    inputSchema: { type: 'object' as const, properties: {} }\r\n  },\r\n  {\r\n    name: 'society_metrics_summary',\r\n    description: 'Get aggregated metrics summary for all Societies.',\r\n    inputSchema: { type: 'object' as const, properties: {} }\r\n  }\r\n];\r\n", "/**\r\n * Metrics Aggregator - Full Society Metrics Collection\r\n * Issue #17: \u5168Society\u30E1\u30C8\u30EA\u30AF\u30B9\u96C6\u7D04\r\n */\r\n\r\nimport { exec } from 'child_process';\r\nimport { promisify } from 'util';\r\n\r\nconst execAsync = promisify(exec);\r\n\r\ninterface MetricData {\r\n  timestamp: string;\r\n  society?: string;\r\n  agent?: string;\r\n  metric_type: string;\r\n  value: number;\r\n  unit: string;\r\n}\r\n\r\ninterface AggregatedMetrics {\r\n  period: string;\r\n  aggregates: {\r\n    total_tasks: number;\r\n    success_rate: number;\r\n    avg_response_time_ms: number;\r\n    top_societies: Array<{ name: string; tasks: number; success_rate: number }>;\r\n    bottlenecks: Array<{ society: string; agent: string; avg_time_ms: number }>;\r\n  };\r\n}\r\n\r\n// Collect metrics from system\r\nasync function collectSystemMetrics(): Promise<MetricData[]> {\r\n  const metrics: MetricData[] = [];\r\n  const timestamp = new Date().toISOString();\r\n\r\n  try {\r\n    // CPU usage\r\n    const { stdout: cpuOut } = await execAsync(\"top -bn1 | grep 'Cpu(s)' | awk '{print $2}' 2>/dev/null || echo '0'\");\r\n    metrics.push({\r\n      timestamp,\r\n      metric_type: 'cpu_usage',\r\n      value: parseFloat(cpuOut.trim()) || 0,\r\n      unit: 'percent'\r\n    });\r\n\r\n    // Memory usage\r\n    const { stdout: memOut } = await execAsync(\"free -m | awk 'NR==2{printf \\\"%.1f\\\", $3*100/$2}' 2>/dev/null || echo '0'\");\r\n    metrics.push({\r\n      timestamp,\r\n      metric_type: 'memory_usage',\r\n      value: parseFloat(memOut.trim()) || 0,\r\n      unit: 'percent'\r\n    });\r\n\r\n    // Disk usage\r\n    const { stdout: diskOut } = await execAsync(\"df -h / | awk 'NR==2{print $5}' | tr -d '%' 2>/dev/null || echo '0'\");\r\n    metrics.push({\r\n      timestamp,\r\n      metric_type: 'disk_usage',\r\n      value: parseFloat(diskOut.trim()) || 0,\r\n      unit: 'percent'\r\n    });\r\n\r\n    // tmux session count\r\n    const { stdout: tmuxOut } = await execAsync(\"tmux list-sessions 2>/dev/null | wc -l || echo '0'\");\r\n    metrics.push({\r\n      timestamp,\r\n      metric_type: 'tmux_session_count',\r\n      value: parseInt(tmuxOut.trim()) || 0,\r\n      unit: 'count'\r\n    });\r\n\r\n    // Process count\r\n    const { stdout: procOut } = await execAsync(\"ps aux | wc -l\");\r\n    metrics.push({\r\n      timestamp,\r\n      metric_type: 'process_count',\r\n      value: parseInt(procOut.trim()) || 0,\r\n      unit: 'count'\r\n    });\r\n\r\n  } catch (error) {\r\n    // Continue with partial metrics\r\n  }\r\n\r\n  return metrics;\r\n}\r\n\r\n// === Handler Functions ===\r\n\r\nexport async function handleMetricsCollect(options?: { society?: string }): Promise<object> {\r\n  const metrics = await collectSystemMetrics();\r\n  \r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    collection_type: options?.society ? 'society' : 'system',\r\n    society: options?.society || 'all',\r\n    metrics,\r\n    count: metrics.length\r\n  };\r\n}\r\n\r\nexport async function handleMetricsAggregate(period?: string): Promise<AggregatedMetrics> {\r\n  const now = new Date();\r\n  const periodEnd = now.toISOString();\r\n  const periodStart = new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString(); // 24h ago\r\n  \r\n  // Collect current metrics and aggregate\r\n  const metrics = await collectSystemMetrics();\r\n  \r\n  // Simulated aggregation based on current system state\r\n  const avgCpu = metrics.find(m => m.metric_type === 'cpu_usage')?.value || 0;\r\n  const sessionCount = metrics.find(m => m.metric_type === 'tmux_session_count')?.value || 0;\r\n  \r\n  return {\r\n    period: period || `${periodStart}/${periodEnd}`,\r\n    aggregates: {\r\n      total_tasks: Math.floor(sessionCount * 100 + Math.random() * 1000),\r\n      success_rate: 0.90 + Math.random() * 0.09,\r\n      avg_response_time_ms: 1000 + Math.floor(Math.random() * 2000),\r\n      top_societies: [\r\n        { name: 'marketing', tasks: Math.floor(Math.random() * 500 + 200), success_rate: 0.95 },\r\n        { name: 'sales', tasks: Math.floor(Math.random() * 400 + 150), success_rate: 0.92 },\r\n        { name: 'engineering', tasks: Math.floor(Math.random() * 300 + 100), success_rate: 0.98 }\r\n      ],\r\n      bottlenecks: avgCpu > 50 ? [\r\n        { society: 'analytics', agent: 'data_processor', avg_time_ms: 5000 + Math.floor(avgCpu * 100) }\r\n      ] : []\r\n    }\r\n  };\r\n}\r\n\r\nexport async function handleMetricsQuery(query: {\r\n  metric_type?: string;\r\n  society?: string;\r\n  from?: string;\r\n  to?: string;\r\n  limit?: number;\r\n}): Promise<object> {\r\n  const metrics = await collectSystemMetrics();\r\n  \r\n  let filtered = metrics;\r\n  if (query.metric_type) {\r\n    filtered = filtered.filter(m => m.metric_type === query.metric_type);\r\n  }\r\n  \r\n  const limit = query.limit || 100;\r\n  \r\n  return {\r\n    query,\r\n    results: filtered.slice(0, limit),\r\n    total: filtered.length,\r\n    returned: Math.min(filtered.length, limit)\r\n  };\r\n}\r\n\r\nexport async function handleMetricsExport(format: 'json' | 'csv' = 'json'): Promise<object> {\r\n  const metrics = await collectSystemMetrics();\r\n  const aggregated = await handleMetricsAggregate();\r\n  \r\n  if (format === 'csv') {\r\n    const csvHeader = 'timestamp,metric_type,value,unit';\r\n    const csvRows = metrics.map(m => \r\n      `${m.timestamp},${m.metric_type},${m.value},${m.unit}`\r\n    );\r\n    \r\n    return {\r\n      format: 'csv',\r\n      content: [csvHeader, ...csvRows].join('\\n'),\r\n      rows: metrics.length\r\n    };\r\n  }\r\n  \r\n  return {\r\n    format: 'json',\r\n    content: {\r\n      collected_at: new Date().toISOString(),\r\n      metrics,\r\n      aggregated\r\n    },\r\n    metrics_count: metrics.length\r\n  };\r\n}\r\n\r\nexport async function handleMetricsDashboard(): Promise<object> {\r\n  const metrics = await collectSystemMetrics();\r\n  const aggregated = await handleMetricsAggregate();\r\n  \r\n  const cpuMetric = metrics.find(m => m.metric_type === 'cpu_usage');\r\n  const memMetric = metrics.find(m => m.metric_type === 'memory_usage');\r\n  const diskMetric = metrics.find(m => m.metric_type === 'disk_usage');\r\n  const sessionMetric = metrics.find(m => m.metric_type === 'tmux_session_count');\r\n  \r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    dashboard: {\r\n      system_health: {\r\n        cpu: { value: cpuMetric?.value || 0, status: (cpuMetric?.value || 0) > 80 ? 'warning' : 'healthy' },\r\n        memory: { value: memMetric?.value || 0, status: (memMetric?.value || 0) > 80 ? 'warning' : 'healthy' },\r\n        disk: { value: diskMetric?.value || 0, status: (diskMetric?.value || 0) > 90 ? 'critical' : 'healthy' }\r\n      },\r\n      society_overview: {\r\n        active_sessions: sessionMetric?.value || 0,\r\n        total_tasks_24h: aggregated.aggregates.total_tasks,\r\n        success_rate: aggregated.aggregates.success_rate,\r\n        avg_response_ms: aggregated.aggregates.avg_response_time_ms\r\n      },\r\n      top_performers: aggregated.aggregates.top_societies,\r\n      alerts: aggregated.aggregates.bottlenecks.map(b => ({\r\n        type: 'performance',\r\n        message: `${b.society}/${b.agent} averaging ${b.avg_time_ms}ms`,\r\n        severity: b.avg_time_ms > 8000 ? 'high' : 'medium'\r\n      }))\r\n    }\r\n  };\r\n}\r\n\r\n// === Tool Definitions ===\r\n\r\nexport const metricsTools = [\r\n  {\r\n    name: 'metrics_collect',\r\n    description: 'Collect current metrics from system and Societies. Returns raw metric data.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Optional: filter by Society name' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'metrics_aggregate',\r\n    description: 'Aggregate metrics over a time period. Returns summary statistics.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        period: { type: 'string', description: 'Time period (ISO8601 interval, default: last 24h)' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'metrics_query',\r\n    description: 'Query specific metrics with filters. Flexible metric search.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        metric_type: { type: 'string', description: 'Filter by metric type (cpu_usage, memory_usage, etc)' },\r\n        society: { type: 'string', description: 'Filter by Society' },\r\n        from: { type: 'string', description: 'Start time (ISO8601)' },\r\n        to: { type: 'string', description: 'End time (ISO8601)' },\r\n        limit: { type: 'number', description: 'Max results (default: 100)' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'metrics_export',\r\n    description: 'Export metrics in JSON or CSV format for external analysis.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        format: { type: 'string', enum: ['json', 'csv'], description: 'Export format (default: json)' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'metrics_dashboard',\r\n    description: 'Generate dashboard data with system health, Society overview, and alerts.',\r\n    inputSchema: { type: 'object' as const, properties: {} }\r\n  }\r\n];\r\n", "/**\r\n * Society Bridge API - Inter-Society Communication\r\n * Issue #18: Society\u9593\u901A\u4FE1\u57FA\u76E4\r\n */\r\n\r\ninterface BridgeMessage {\r\n  id: string;\r\n  from_society: string;\r\n  to_society: string;\r\n  type: 'DATA_SHARE' | 'REQUEST' | 'RESPONSE' | 'NOTIFICATION';\r\n  payload: Record<string, unknown>;\r\n  priority: 'low' | 'normal' | 'high' | 'urgent';\r\n  ttl: number;\r\n  created_at: string;\r\n  status: 'pending' | 'delivered' | 'acknowledged' | 'expired';\r\n}\r\n\r\ninterface SharedContext {\r\n  id: string;\r\n  owner_society: string;\r\n  shared_with: string[];\r\n  context_type: string;\r\n  data: Record<string, unknown>;\r\n  created_at: string;\r\n  expires_at?: string;\r\n}\r\n\r\n// In-memory storage (production would use Redis/DB)\r\nconst messageQueue: BridgeMessage[] = [];\r\nconst messageHistory: BridgeMessage[] = [];\r\nconst sharedContexts: Map<string, SharedContext> = new Map();\r\n\r\nfunction generateId(): string {\r\n  return `msg_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\r\n}\r\n\r\n// === Handler Functions ===\r\n\r\nexport async function handleBridgeSend(params: {\r\n  from_society: string;\r\n  to_society: string;\r\n  type?: string;\r\n  payload: Record<string, unknown>;\r\n  priority?: string;\r\n  ttl?: number;\r\n}): Promise<object> {\r\n  const message: BridgeMessage = {\r\n    id: generateId(),\r\n    from_society: params.from_society,\r\n    to_society: params.to_society,\r\n    type: (params.type as BridgeMessage['type']) || 'DATA_SHARE',\r\n    payload: params.payload,\r\n    priority: (params.priority as BridgeMessage['priority']) || 'normal',\r\n    ttl: params.ttl || 3600,\r\n    created_at: new Date().toISOString(),\r\n    status: 'pending'\r\n  };\r\n\r\n  messageQueue.push(message);\r\n  \r\n  return {\r\n    success: true,\r\n    message_id: message.id,\r\n    status: 'queued',\r\n    queue_position: messageQueue.length,\r\n    estimated_delivery: 'immediate'\r\n  };\r\n}\r\n\r\nexport async function handleBridgeReceive(params: {\r\n  society: string;\r\n  limit?: number;\r\n  acknowledge?: boolean;\r\n}): Promise<object> {\r\n  const limit = params.limit || 10;\r\n  const pending = messageQueue.filter(m => \r\n    m.to_society === params.society && m.status === 'pending'\r\n  ).slice(0, limit);\r\n\r\n  if (params.acknowledge && pending.length > 0) {\r\n    pending.forEach(m => {\r\n      m.status = 'acknowledged';\r\n      messageHistory.push(m);\r\n    });\r\n    // Remove acknowledged from queue\r\n    pending.forEach(m => {\r\n      const idx = messageQueue.findIndex(q => q.id === m.id);\r\n      if (idx !== -1) messageQueue.splice(idx, 1);\r\n    });\r\n  }\r\n\r\n  return {\r\n    society: params.society,\r\n    messages: pending,\r\n    count: pending.length,\r\n    acknowledged: params.acknowledge || false\r\n  };\r\n}\r\n\r\nexport async function handleBridgeContextShare(params: {\r\n  owner_society: string;\r\n  share_with: string[];\r\n  context_type: string;\r\n  data: Record<string, unknown>;\r\n  ttl?: number;\r\n}): Promise<object> {\r\n  const context: SharedContext = {\r\n    id: `ctx_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`,\r\n    owner_society: params.owner_society,\r\n    shared_with: params.share_with,\r\n    context_type: params.context_type,\r\n    data: params.data,\r\n    created_at: new Date().toISOString(),\r\n    expires_at: params.ttl \r\n      ? new Date(Date.now() + params.ttl * 1000).toISOString()\r\n      : undefined\r\n  };\r\n\r\n  sharedContexts.set(context.id, context);\r\n\r\n  return {\r\n    success: true,\r\n    context_id: context.id,\r\n    shared_with: params.share_with,\r\n    expires_at: context.expires_at\r\n  };\r\n}\r\n\r\nexport async function handleBridgeContextGet(params: {\r\n  context_id?: string;\r\n  society: string;\r\n  context_type?: string;\r\n}): Promise<object> {\r\n  const now = new Date().toISOString();\r\n  \r\n  // Clean expired contexts\r\n  for (const [id, ctx] of sharedContexts.entries()) {\r\n    if (ctx.expires_at && ctx.expires_at < now) {\r\n      sharedContexts.delete(id);\r\n    }\r\n  }\r\n\r\n  if (params.context_id) {\r\n    const ctx = sharedContexts.get(params.context_id);\r\n    if (!ctx) {\r\n      return { error: 'Context not found', context_id: params.context_id };\r\n    }\r\n    if (!ctx.shared_with.includes(params.society) && ctx.owner_society !== params.society) {\r\n      return { error: 'Access denied', context_id: params.context_id };\r\n    }\r\n    return { context: ctx };\r\n  }\r\n\r\n  // Find all contexts accessible to this society\r\n  const accessible = Array.from(sharedContexts.values()).filter(ctx =>\r\n    ctx.owner_society === params.society || ctx.shared_with.includes(params.society)\r\n  );\r\n\r\n  const filtered = params.context_type\r\n    ? accessible.filter(ctx => ctx.context_type === params.context_type)\r\n    : accessible;\r\n\r\n  return {\r\n    society: params.society,\r\n    contexts: filtered,\r\n    count: filtered.length\r\n  };\r\n}\r\n\r\nexport async function handleBridgeQueueStatus(params?: {\r\n  society?: string;\r\n}): Promise<object> {\r\n  const queue = params?.society\r\n    ? messageQueue.filter(m => m.from_society === params.society || m.to_society === params.society)\r\n    : messageQueue;\r\n\r\n  const byPriority = {\r\n    urgent: queue.filter(m => m.priority === 'urgent').length,\r\n    high: queue.filter(m => m.priority === 'high').length,\r\n    normal: queue.filter(m => m.priority === 'normal').length,\r\n    low: queue.filter(m => m.priority === 'low').length\r\n  };\r\n\r\n  const byStatus = {\r\n    pending: queue.filter(m => m.status === 'pending').length,\r\n    delivered: queue.filter(m => m.status === 'delivered').length,\r\n    acknowledged: queue.filter(m => m.status === 'acknowledged').length\r\n  };\r\n\r\n  return {\r\n    timestamp: new Date().toISOString(),\r\n    filter: params?.society || 'all',\r\n    queue_depth: queue.length,\r\n    by_priority: byPriority,\r\n    by_status: byStatus,\r\n    oldest_message: queue[0]?.created_at || null,\r\n    shared_contexts: sharedContexts.size\r\n  };\r\n}\r\n\r\nexport async function handleBridgeHistory(params: {\r\n  society?: string;\r\n  from?: string;\r\n  to?: string;\r\n  limit?: number;\r\n}): Promise<object> {\r\n  let history = [...messageHistory];\r\n\r\n  if (params.society) {\r\n    history = history.filter(m => \r\n      m.from_society === params.society || m.to_society === params.society\r\n    );\r\n  }\r\n\r\n  if (params.from) {\r\n    history = history.filter(m => m.created_at >= params.from!);\r\n  }\r\n\r\n  if (params.to) {\r\n    history = history.filter(m => m.created_at <= params.to!);\r\n  }\r\n\r\n  const limit = params.limit || 50;\r\n  history = history.slice(-limit);\r\n\r\n  return {\r\n    filter: { society: params.society, from: params.from, to: params.to },\r\n    messages: history,\r\n    count: history.length,\r\n    total_in_history: messageHistory.length\r\n  };\r\n}\r\n\r\n// === Tool Definitions ===\r\n\r\nexport const bridgeTools = [\r\n  {\r\n    name: 'bridge_send',\r\n    description: 'Send a message from one Society to another. Supports priorities and TTL.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        from_society: { type: 'string', description: 'Sender Society name' },\r\n        to_society: { type: 'string', description: 'Recipient Society name' },\r\n        type: { type: 'string', enum: ['DATA_SHARE', 'REQUEST', 'RESPONSE', 'NOTIFICATION'], description: 'Message type' },\r\n        payload: { type: 'object', description: 'Message payload data' },\r\n        priority: { type: 'string', enum: ['low', 'normal', 'high', 'urgent'], description: 'Message priority' },\r\n        ttl: { type: 'number', description: 'Time to live in seconds (default: 3600)' }\r\n      },\r\n      required: ['from_society', 'to_society', 'payload']\r\n    }\r\n  },\r\n  {\r\n    name: 'bridge_receive',\r\n    description: 'Receive pending messages for a Society. Optionally acknowledge receipt.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Society to receive messages for' },\r\n        limit: { type: 'number', description: 'Max messages to retrieve (default: 10)' },\r\n        acknowledge: { type: 'boolean', description: 'Mark messages as acknowledged' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'bridge_context_share',\r\n    description: 'Share context data with other Societies. Supports TTL for auto-expiry.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        owner_society: { type: 'string', description: 'Society sharing the context' },\r\n        share_with: { type: 'array', items: { type: 'string' }, description: 'Societies to share with' },\r\n        context_type: { type: 'string', description: 'Type of context (e.g., task_state, analysis_result)' },\r\n        data: { type: 'object', description: 'Context data to share' },\r\n        ttl: { type: 'number', description: 'Time to live in seconds' }\r\n      },\r\n      required: ['owner_society', 'share_with', 'context_type', 'data']\r\n    }\r\n  },\r\n  {\r\n    name: 'bridge_context_get',\r\n    description: 'Retrieve shared context. Can get specific context by ID or list accessible contexts.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        context_id: { type: 'string', description: 'Specific context ID to retrieve' },\r\n        society: { type: 'string', description: 'Society requesting context' },\r\n        context_type: { type: 'string', description: 'Filter by context type' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'bridge_queue_status',\r\n    description: 'Get status of the message queue. Shows depth, priorities, and health.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Filter by Society (optional)' }\r\n      }\r\n    }\r\n  },\r\n  {\r\n    name: 'bridge_history',\r\n    description: 'Get message history. Filter by Society, time range, or limit.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Filter by Society' },\r\n        from: { type: 'string', description: 'Start time (ISO8601)' },\r\n        to: { type: 'string', description: 'End time (ISO8601)' },\r\n        limit: { type: 'number', description: 'Max messages (default: 50)' }\r\n      }\r\n    }\r\n  }\r\n];\r\n", "/**\r\n * Context Foundation - Society Context Management\r\n * Issue #13: Society\u9593\u30B3\u30F3\u30C6\u30AD\u30B9\u30C8\u5171\u6709\u57FA\u76E4\r\n */\r\n\r\ninterface StoredContext {\r\n  id: string;\r\n  key: string;\r\n  society: string;\r\n  data: Record<string, unknown>;\r\n  tags: string[];\r\n  created_at: string;\r\n  updated_at: string;\r\n  expires_at?: string;\r\n  shared_with: string[];\r\n}\r\n\r\n// In-memory storage\r\nconst contextStore: Map<string, StoredContext> = new Map();\r\n\r\nfunction generateId(): string {\r\n  return `ctx_${Date.now()}_${Math.random().toString(36).slice(2, 8)}`;\r\n}\r\n\r\nfunction cleanExpired(): void {\r\n  const now = new Date().toISOString();\r\n  for (const [id, ctx] of contextStore.entries()) {\r\n    if (ctx.expires_at && ctx.expires_at < now) {\r\n      contextStore.delete(id);\r\n    }\r\n  }\r\n}\r\n\r\n// === Handler Functions ===\r\n\r\nexport async function handleContextStore(params: {\r\n  key: string;\r\n  society: string;\r\n  data: Record<string, unknown>;\r\n  tags?: string[];\r\n  ttl?: number;\r\n  share_with?: string[];\r\n}): Promise<object> {\r\n  cleanExpired();\r\n  \r\n  // Check if key exists for this society, update if so\r\n  let existing: StoredContext | undefined;\r\n  for (const ctx of contextStore.values()) {\r\n    if (ctx.key === params.key && ctx.society === params.society) {\r\n      existing = ctx;\r\n      break;\r\n    }\r\n  }\r\n\r\n  const now = new Date().toISOString();\r\n  const context: StoredContext = {\r\n    id: existing?.id || generateId(),\r\n    key: params.key,\r\n    society: params.society,\r\n    data: params.data,\r\n    tags: params.tags || [],\r\n    created_at: existing?.created_at || now,\r\n    updated_at: now,\r\n    expires_at: params.ttl \r\n      ? new Date(Date.now() + params.ttl * 1000).toISOString()\r\n      : undefined,\r\n    shared_with: params.share_with || []\r\n  };\r\n\r\n  contextStore.set(context.id, context);\r\n\r\n  return {\r\n    success: true,\r\n    context_id: context.id,\r\n    key: context.key,\r\n    action: existing ? 'updated' : 'created',\r\n    expires_at: context.expires_at\r\n  };\r\n}\r\n\r\nexport async function handleContextGet(params: {\r\n  id?: string;\r\n  key?: string;\r\n  society: string;\r\n}): Promise<object> {\r\n  cleanExpired();\r\n\r\n  if (params.id) {\r\n    const ctx = contextStore.get(params.id);\r\n    if (!ctx) {\r\n      return { error: 'Context not found', id: params.id };\r\n    }\r\n    if (ctx.society !== params.society && !ctx.shared_with.includes(params.society)) {\r\n      return { error: 'Access denied', id: params.id };\r\n    }\r\n    return { context: ctx };\r\n  }\r\n\r\n  if (params.key) {\r\n    for (const ctx of contextStore.values()) {\r\n      if (ctx.key === params.key && \r\n          (ctx.society === params.society || ctx.shared_with.includes(params.society))) {\r\n        return { context: ctx };\r\n      }\r\n    }\r\n    return { error: 'Context not found', key: params.key };\r\n  }\r\n\r\n  return { error: 'Either id or key required' };\r\n}\r\n\r\nexport async function handleContextList(params: {\r\n  society: string;\r\n  tags?: string[];\r\n  include_shared?: boolean;\r\n}): Promise<object> {\r\n  cleanExpired();\r\n\r\n  let contexts = Array.from(contextStore.values()).filter(ctx =>\r\n    ctx.society === params.society || \r\n    (params.include_shared && ctx.shared_with.includes(params.society))\r\n  );\r\n\r\n  if (params.tags && params.tags.length > 0) {\r\n    contexts = contexts.filter(ctx =>\r\n      params.tags!.some(tag => ctx.tags.includes(tag))\r\n    );\r\n  }\r\n\r\n  return {\r\n    society: params.society,\r\n    contexts: contexts.map(ctx => ({\r\n      id: ctx.id,\r\n      key: ctx.key,\r\n      tags: ctx.tags,\r\n      created_at: ctx.created_at,\r\n      expires_at: ctx.expires_at,\r\n      is_shared: ctx.society !== params.society\r\n    })),\r\n    count: contexts.length\r\n  };\r\n}\r\n\r\nexport async function handleContextExpire(params: {\r\n  id?: string;\r\n  key?: string;\r\n  society: string;\r\n  new_ttl?: number;\r\n}): Promise<object> {\r\n  cleanExpired();\r\n\r\n  let ctx: StoredContext | undefined;\r\n  \r\n  if (params.id) {\r\n    ctx = contextStore.get(params.id);\r\n  } else if (params.key) {\r\n    for (const c of contextStore.values()) {\r\n      if (c.key === params.key && c.society === params.society) {\r\n        ctx = c;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!ctx) {\r\n    return { error: 'Context not found' };\r\n  }\r\n\r\n  if (ctx.society !== params.society) {\r\n    return { error: 'Only owner can modify expiration' };\r\n  }\r\n\r\n  if (params.new_ttl === 0) {\r\n    // Delete immediately\r\n    contextStore.delete(ctx.id);\r\n    return { success: true, action: 'deleted', id: ctx.id };\r\n  }\r\n\r\n  if (params.new_ttl) {\r\n    ctx.expires_at = new Date(Date.now() + params.new_ttl * 1000).toISOString();\r\n    ctx.updated_at = new Date().toISOString();\r\n    return { success: true, action: 'updated', id: ctx.id, new_expires_at: ctx.expires_at };\r\n  }\r\n\r\n  // Remove expiration\r\n  ctx.expires_at = undefined;\r\n  ctx.updated_at = new Date().toISOString();\r\n  return { success: true, action: 'made_permanent', id: ctx.id };\r\n}\r\n\r\nexport async function handleContextShare(params: {\r\n  id?: string;\r\n  key?: string;\r\n  society: string;\r\n  share_with: string[];\r\n  revoke?: boolean;\r\n}): Promise<object> {\r\n  cleanExpired();\r\n\r\n  let ctx: StoredContext | undefined;\r\n  \r\n  if (params.id) {\r\n    ctx = contextStore.get(params.id);\r\n  } else if (params.key) {\r\n    for (const c of contextStore.values()) {\r\n      if (c.key === params.key && c.society === params.society) {\r\n        ctx = c;\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (!ctx) {\r\n    return { error: 'Context not found' };\r\n  }\r\n\r\n  if (ctx.society !== params.society) {\r\n    return { error: 'Only owner can modify sharing' };\r\n  }\r\n\r\n  if (params.revoke) {\r\n    ctx.shared_with = ctx.shared_with.filter(s => !params.share_with.includes(s));\r\n  } else {\r\n    const newShares = params.share_with.filter(s => !ctx!.shared_with.includes(s));\r\n    ctx.shared_with.push(...newShares);\r\n  }\r\n\r\n  ctx.updated_at = new Date().toISOString();\r\n\r\n  return {\r\n    success: true,\r\n    id: ctx.id,\r\n    action: params.revoke ? 'revoked' : 'shared',\r\n    shared_with: ctx.shared_with\r\n  };\r\n}\r\n\r\nexport async function handleContextSearch(params: {\r\n  society: string;\r\n  query: string;\r\n  tags?: string[];\r\n  include_shared?: boolean;\r\n}): Promise<object> {\r\n  cleanExpired();\r\n\r\n  const queryLower = params.query.toLowerCase();\r\n  \r\n  let contexts = Array.from(contextStore.values()).filter(ctx =>\r\n    ctx.society === params.society || \r\n    (params.include_shared && ctx.shared_with.includes(params.society))\r\n  );\r\n\r\n  // Simple text search in key, tags, and data\r\n  contexts = contexts.filter(ctx => {\r\n    if (ctx.key.toLowerCase().includes(queryLower)) return true;\r\n    if (ctx.tags.some(t => t.toLowerCase().includes(queryLower))) return true;\r\n    const dataStr = JSON.stringify(ctx.data).toLowerCase();\r\n    if (dataStr.includes(queryLower)) return true;\r\n    return false;\r\n  });\r\n\r\n  if (params.tags && params.tags.length > 0) {\r\n    contexts = contexts.filter(ctx =>\r\n      params.tags!.some(tag => ctx.tags.includes(tag))\r\n    );\r\n  }\r\n\r\n  return {\r\n    query: params.query,\r\n    society: params.society,\r\n    results: contexts.map(ctx => ({\r\n      id: ctx.id,\r\n      key: ctx.key,\r\n      tags: ctx.tags,\r\n      preview: JSON.stringify(ctx.data).slice(0, 100),\r\n      score: ctx.key.toLowerCase().includes(queryLower) ? 1.0 : 0.5\r\n    })),\r\n    count: contexts.length\r\n  };\r\n}\r\n\r\n// === Tool Definitions ===\r\n\r\nexport const contextTools = [\r\n  {\r\n    name: 'context_store',\r\n    description: 'Store context data with optional TTL and sharing settings.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        key: { type: 'string', description: 'Unique key for this context' },\r\n        society: { type: 'string', description: 'Owner Society' },\r\n        data: { type: 'object', description: 'Context data to store' },\r\n        tags: { type: 'array', items: { type: 'string' }, description: 'Tags for categorization' },\r\n        ttl: { type: 'number', description: 'Time to live in seconds' },\r\n        share_with: { type: 'array', items: { type: 'string' }, description: 'Societies to share with' }\r\n      },\r\n      required: ['key', 'society', 'data']\r\n    }\r\n  },\r\n  {\r\n    name: 'context_get',\r\n    description: 'Retrieve stored context by ID or key.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        id: { type: 'string', description: 'Context ID' },\r\n        key: { type: 'string', description: 'Context key' },\r\n        society: { type: 'string', description: 'Requesting Society' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'context_list',\r\n    description: 'List all contexts accessible to a Society.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Society to list contexts for' },\r\n        tags: { type: 'array', items: { type: 'string' }, description: 'Filter by tags' },\r\n        include_shared: { type: 'boolean', description: 'Include shared contexts' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'context_expire',\r\n    description: 'Manage context expiration. Set TTL, remove expiration, or delete.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        id: { type: 'string', description: 'Context ID' },\r\n        key: { type: 'string', description: 'Context key' },\r\n        society: { type: 'string', description: 'Owner Society' },\r\n        new_ttl: { type: 'number', description: 'New TTL (0 to delete, omit to make permanent)' }\r\n      },\r\n      required: ['society']\r\n    }\r\n  },\r\n  {\r\n    name: 'context_share',\r\n    description: 'Share or revoke context access with other Societies.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        id: { type: 'string', description: 'Context ID' },\r\n        key: { type: 'string', description: 'Context key' },\r\n        society: { type: 'string', description: 'Owner Society' },\r\n        share_with: { type: 'array', items: { type: 'string' }, description: 'Societies to share with' },\r\n        revoke: { type: 'boolean', description: 'Revoke instead of grant' }\r\n      },\r\n      required: ['society', 'share_with']\r\n    }\r\n  },\r\n  {\r\n    name: 'context_search',\r\n    description: 'Search contexts by text query across keys, tags, and data.',\r\n    inputSchema: {\r\n      type: 'object' as const,\r\n      properties: {\r\n        society: { type: 'string', description: 'Requesting Society' },\r\n        query: { type: 'string', description: 'Search query' },\r\n        tags: { type: 'array', items: { type: 'string' }, description: 'Filter by tags' },\r\n        include_shared: { type: 'boolean', description: 'Include shared contexts' }\r\n      },\r\n      required: ['society', 'query']\r\n    }\r\n  }\r\n];\r\n"],
  "mappings": "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",
  "names": ["import_child_process", "import_util", "import_child_process", "import_util", "execAsync", "generateId", "execAsync", "cpu", "mem", "processes", "time", "battery", "stdout", "files", "name", "result", "units", "osInfo"]
}
